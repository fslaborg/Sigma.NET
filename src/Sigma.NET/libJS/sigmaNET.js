//# --> sourceMappingURL=graphology.umd.min.js.map
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).graphology=e()}(this,(function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return o=i()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(t){var e="function"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return o(t,arguments,n(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,t)},a(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var u=function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t};function d(t,e,n,r){var i=t._nodes.get(e),o=null;return i?o="mixed"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:"directed"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function s(e){return"object"===t(e)&&null!==e}function h(t){var e;for(e in t)return!1;return!0}function p(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function f(t,e,n){var r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function l(t){return!!s(t)&&!(t.attributes&&!Array.isArray(t.attributes))}"function"==typeof Object.assign&&(u=Object.assign);var g,y={exports:{}},w="object"==typeof Reflect?Reflect:null,v=w&&"function"==typeof w.apply?w.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};g=w&&"function"==typeof w.ownKeys?w.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var b=Number.isNaN||function(t){return t!=t};function m(){m.init.call(this)}y.exports=m,y.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}U(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&U(t,"error",e,n)}(t,i,{once:!0})}))},m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var k=10;function _(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function G(t){return void 0===t._maxListeners?m.defaultMaxListeners:t._maxListeners}function x(t,e,n,r){var i,o,a,c;if(_(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=G(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return t}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=E.bind(r);return i.listener=n,r.wrapFn=i,i}function L(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):D(i,i.length)}function S(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function D(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function U(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}function N(t){if("function"!=typeof t)throw new Error("obliterator/iterator: expecting a function!");this.next=t}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(t){if("number"!=typeof t||t<0||b(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");k=t}}),m.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||b(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},m.prototype.getMaxListeners=function(){return G(this)},m.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)v(c,this,e);else{var u=c.length,d=D(c,u);for(n=0;n<u;++n)v(d[n],this,e)}return!0},m.prototype.addListener=function(t,e){return x(this,t,e,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(t,e){return x(this,t,e,!0)},m.prototype.once=function(t,e){return _(e),this.on(t,A(this,t,e)),this},m.prototype.prependOnceListener=function(t,e){return _(e),this.prependListener(t,A(this,t,e)),this},m.prototype.removeListener=function(t,e){var n,r,i,o,a;if(_(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},m.prototype.listeners=function(t){return L(this,t,!0)},m.prototype.rawListeners=function(t){return L(this,t,!1)},m.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):S.call(t,e)},m.prototype.listenerCount=S,m.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},"undefined"!=typeof Symbol&&(N.prototype[Symbol.iterator]=function(){return this}),N.of=function(){var t=arguments,e=t.length,n=0;return new N((function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}}))},N.empty=function(){return new N((function(){return{done:!0}}))},N.fromSequence=function(t){var e=0,n=t.length;return new N((function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}}))},N.is=function(t){return t instanceof N||"object"==typeof t&&null!==t&&"function"==typeof t.next};var O=N,j={};j.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,j.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var C=O,M=j,z=M.ARRAY_BUFFER_SUPPORT,W=M.SYMBOL_SUPPORT;var P=function(t){var e=function(t){return"string"==typeof t||Array.isArray(t)||z&&ArrayBuffer.isView(t)?C.fromSequence(t):"object"!=typeof t||null===t?null:W&&"function"==typeof t[Symbol.iterator]?t[Symbol.iterator]():"function"==typeof t.next?t:null}(t);if(!e)throw new Error("obliterator: target is not iterable nor a valid iterator.");return e},R=P,K=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0,a=R(t);;){if(o===r)return i;if((n=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=n.value}},T=function(t){function n(e){var n;return(n=t.call(this)||this).name="GraphError",n.message=e,n}return e(n,t),n}(a(Error)),B=function(t){function n(e){var r;return(r=t.call(this,e)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T),F=function(t){function n(e){var r;return(r=t.call(this,e)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T),I=function(t){function n(e){var r;return(r=t.call(this,e)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T);function Y(t,e){this.key=t,this.attributes=e,this.clear()}function q(t,e){this.key=t,this.attributes=e,this.clear()}function J(t,e){this.key=t,this.attributes=e,this.clear()}function V(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}Y.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},J.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},V.prototype.attach=function(){var t="out",e="in";this.undirected&&(t=e="undirected");var n=this.source.key,r=this.target.key;this.source[t][r]=this,this.undirected&&n===r||(this.target[e][n]=this)},V.prototype.attachMulti=function(){var t="out",e="in",n=this.source.key,r=this.target.key;this.undirected&&(t=e="undirected");var i=this.source[t],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[e][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[e][n]=this},V.prototype.detach=function(){var t=this.source.key,e=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][e],delete this.target[r][t]},V.prototype.detachMulti=function(){var t=this.source.key,e=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};function H(t,e,n,r,i,o,a){var c,u,d,s;if(r=""+r,0===n){if(!(c=t._nodes.get(r)))throw new F("Graph.".concat(e,': could not find the "').concat(r,'" node in the graph.'));d=i,s=o}else if(3===n){if(i=""+i,!(u=t._edges.get(i)))throw new F("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'));var h=u.source.key,p=u.target.key;if(r===h)c=u.target;else{if(r!==p)throw new F("Graph.".concat(e,': the "').concat(r,'" node is not attached to the "').concat(i,'" edge (').concat(h,", ").concat(p,")."));c=u.source}d=o,s=a}else{if(!(u=t._edges.get(r)))throw new F("Graph.".concat(e,': could not find the "').concat(r,'" edge in the graph.'));c=1===n?u.source:u.target,d=i,s=o}return[c,d,s]}var Q=[{name:function(t){return"get".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return a.attributes[c]}}},{name:function(t){return"get".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r){return H(this,e,n,t,r)[0].attributes}}},{name:function(t){return"has".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return a.attributes.hasOwnProperty(c)}}},{name:function(t){return"set".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=H(this,e,n,t,r,i,o),c=a[0],u=a[1],d=a[2];return c.attributes[u]=d,this.emit("nodeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:u}),this}}},{name:function(t){return"update".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=H(this,e,n,t,r,i,o),c=a[0],u=a[1],d=a[2];if("function"!=typeof d)throw new B("Graph.".concat(e,": updater should be a function."));var s=c.attributes,h=d(s[u]);return s[u]=h,this.emit("nodeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:u}),this}}},{name:function(t){return"remove".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return delete a.attributes[c],this.emit("nodeAttributesUpdated",{key:a.key,type:"remove",attributes:a.attributes,name:c}),this}}},{name:function(t){return"replace".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(!s(c))throw new B("Graph.".concat(e,": provided attributes are not a plain object."));return a.attributes=c,this.emit("nodeAttributesUpdated",{key:a.key,type:"replace",attributes:a.attributes}),this}}},{name:function(t){return"merge".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(!s(c))throw new B("Graph.".concat(e,": provided attributes are not a plain object."));return u(a.attributes,c),this.emit("nodeAttributesUpdated",{key:a.key,type:"merge",attributes:a.attributes,data:c}),this}}},{name:function(t){return"update".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if("function"!=typeof c)throw new B("Graph.".concat(e,": provided updater is not a function."));return a.attributes=c(a.attributes),this.emit("nodeAttributesUpdated",{key:a.key,type:"update",attributes:a.attributes}),this}}}];var X=[{name:function(t){return"get".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new F("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'))}return i.attributes[r]}}},{name:function(t){return"get".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t){var r;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var i=""+t,o=""+arguments[1];if(!(r=d(this,i,o,n)))throw new F("Graph.".concat(e,': could not find an edge for the given path ("').concat(i,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(r=this._edges.get(t)))throw new F("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'))}return r.attributes}}},{name:function(t){return"has".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new F("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(t){return"set".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+t,c=""+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,c,n)))throw new F("Graph.".concat(e,': could not find an edge for the given path ("').concat(a,'" - "').concat(c,'").'))}else{if("mixed"!==n)throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(o=this._edges.get(t)))throw new F("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'))}return o.attributes[r]=i,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(t){return"update".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+t,c=""+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,c,n)))throw new F("Graph.".concat(e,': could not find an edge for the given path ("').concat(a,'" - "').concat(c,'").'))}else{if("mixed"!==n)throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(o=this._edges.get(t)))throw new F("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'))}if("function"!=typeof i)throw new B("Graph.".concat(e,": updater should be a function."));return o.attributes[r]=i(o.attributes[r]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(t){return"remove".concat(t,"Attribute")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new F("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'))}return delete i.attributes[r],this.emit("edgeAttributesUpdated",{key:i.key,type:"remove",attributes:i.attributes,name:r}),this}}},{name:function(t){return"replace".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new F("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'))}if(!s(r))throw new B("Graph.".concat(e,": provided attributes are not a plain object."));return i.attributes=r,this.emit("edgeAttributesUpdated",{key:i.key,type:"replace",attributes:i.attributes}),this}}},{name:function(t){return"merge".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new F("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'))}if(!s(r))throw new B("Graph.".concat(e,": provided attributes are not a plain object."));return u(i.attributes,r),this.emit("edgeAttributesUpdated",{key:i.key,type:"merge",attributes:i.attributes,data:r}),this}}},{name:function(t){return"update".concat(t,"Attributes")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new I("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new I("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new I("Graph.".concat(e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(t=""+t,!(i=this._edges.get(t)))throw new F("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'))}if("function"!=typeof r)throw new B("Graph.".concat(e,": provided updater is not a function."));return i.attributes=r(i.attributes),this.emit("edgeAttributesUpdated",{key:i.key,type:"update",attributes:i.attributes}),this}}}];var Z=O,$=P,tt=function(){var t=arguments,e=null,n=-1;return new Z((function(){for(var r=null;;){if(null===e){if(++n>=t.length)return{done:!0};e=$(t[n])}if(!0!==(r=e.next()).done)break;e=null}return r}))},et=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function nt(t,e,n,r){var i=!1;for(var o in e)if(o!==r){var a=e[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),t&&i)return a.key}}function rt(t,e,n,r){var i,o,a,c=!1;for(var u in e)if(u!==r){i=e[u];do{if(o=i.source,a=i.target,c=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),t&&c)return i.key;i=i.next}while(void 0!==i)}}function it(t,e){var n,r=Object.keys(t),i=r.length,o=0;return new O((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===e){n=void 0;continue}n=t[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function ot(t,e,n,r){var i=e[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&t?i.key:void 0}}function at(t,e,n,r){var i=e[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&o)return i.key;i=i.next}while(void 0!==i)}}function ct(t,e){var n=t[e];return void 0!==n.next?new O((function(){if(!n)return{done:!0};var t={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:t}})):O.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function ut(t,e){if(0===t.size)return[];if("mixed"===e||e===t.type)return"function"==typeof Array.from?Array.from(t._edges.keys()):K(t._edges.keys(),t._edges.size);for(var n,r,i="undirected"===e?t.undirectedSize:t.directedSize,o=new Array(i),a="undirected"===e,c=t._edges.values(),u=0;!0!==(n=c.next()).done;)(r=n.value).undirected===a&&(o[u++]=r.key);return o}function dt(t,e,n,r){if(0!==e.size)for(var i,o,a="mixed"!==n&&n!==e.type,c="undirected"===n,u=!1,d=e._edges.values();!0!==(i=d.next()).done;)if(o=i.value,!a||o.undirected===c){var s=o,h=s.key,p=s.attributes,f=s.source,l=s.target;if(u=r(h,p,f.key,l.key,f.attributes,l.attributes,o.undirected),t&&u)return h}}function st(t,e){if(0===t.size)return O.empty();var n="mixed"!==e&&e!==t.type,r="undirected"===e,i=t._edges.values();return new O((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}function ht(t,e,n,r,i,o){var a,c=e?rt:nt;if("undirected"!==n){if("out"!==r&&(a=c(t,i.in,o),t&&a))return a;if("in"!==r&&(a=c(t,i.out,o,r?void 0:i.key),t&&a))return a}if("directed"!==n&&(a=c(t,i.undirected,o),t&&a))return a}function pt(t,e,n,r){var i=[];return ht(!1,t,e,n,r,(function(t){i.push(t)})),i}function ft(t,e,n){var r=O.empty();return"undirected"!==t&&("out"!==e&&void 0!==n.in&&(r=tt(r,it(n.in))),"in"!==e&&void 0!==n.out&&(r=tt(r,it(n.out,e?void 0:n.key)))),"directed"!==t&&void 0!==n.undirected&&(r=tt(r,it(n.undirected))),r}function lt(t,e,n,r,i,o,a){var c,u=n?at:ot;if("undirected"!==e){if(void 0!==i.in&&"out"!==r&&(c=u(t,i.in,o,a),t&&c))return c;if(void 0!==i.out&&"in"!==r&&(r||i.key!==o)&&(c=u(t,i.out,o,a),t&&c))return c}if("directed"!==e&&void 0!==i.undirected&&(c=u(t,i.undirected,o,a),t&&c))return c}function gt(t,e,n,r,i){var o=[];return lt(!1,t,e,n,r,i,(function(t){o.push(t)})),o}function yt(t,e,n,r){var i=O.empty();return"undirected"!==t&&(void 0!==n.in&&"out"!==e&&r in n.in&&(i=tt(i,ct(n.in,r))),void 0!==n.out&&"in"!==e&&r in n.out&&(e||n.key!==r)&&(i=tt(i,ct(n.out,r)))),"directed"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=tt(i,ct(n.undirected,r))),i}var wt=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function vt(){this.A=null,this.B=null}function bt(t,e,n,r,i){for(var o in r){var a=r[o],c=a.source,u=a.target,d=c===n?u:c;if(!e||!e.has(d.key)){var s=i(d.key,d.attributes);if(t&&s)return d.key}}}function mt(t,e,n,r,i){if("mixed"!==e){if("undirected"===e)return bt(t,null,r,r.undirected,i);if("string"==typeof n)return bt(t,null,r,r[n],i)}var o,a=new vt;if("undirected"!==e){if("out"!==n){if(o=bt(t,null,r,r.in,i),t&&o)return o;a.wrap(r.in)}if("in"!==n){if(o=bt(t,a,r,r.out,i),t&&o)return o;a.wrap(r.out)}}if("directed"!==e&&(o=bt(t,a,r,r.undirected,i),t&&o))return o}function kt(t,e,n){var r=Object.keys(n),i=r.length,o=0;return new O((function(){var a=null;do{if(o>=i)return t&&t.wrap(n),{done:!0};var c=n[r[o++]],u=c.source,d=c.target;a=u===e?d:u,t&&t.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function _t(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];t=""+t;var e=this._nodes.get(t);if(void 0===e)throw new F("Graph.".concat(n,': could not find the "').concat(t,'" node in the graph.'));return function(t,e,n){if("mixed"!==t){if("undirected"===t)return Object.keys(n.undirected);if("string"==typeof e)return Object.keys(n[e])}var r=[];return mt(!1,t,e,n,(function(t){r.push(t)})),r}("mixed"===r?this.type:r,i,e)}}function Gt(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+"Entries";t.prototype[o]=function(t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return O.empty();t=""+t;var e=this._nodes.get(t);if(void 0===e)throw new F("Graph.".concat(o,': could not find the "').concat(t,'" node in the graph.'));return function(t,e,n){if("mixed"!==t){if("undirected"===t)return kt(null,n,n.undirected);if("string"==typeof e)return kt(null,n,n[e])}var r=O.empty(),i=new vt;return"undirected"!==t&&("out"!==e&&(r=tt(r,kt(i,n,n.in))),"in"!==e&&(r=tt(r,kt(i,n,n.out)))),"directed"!==t&&(r=tt(r,kt(i,n,n.undirected))),r}("mixed"===r?this.type:r,i,e)}}function xt(t,e,n,r,i){for(var o,a,c,u,d,s,h,p=r._nodes.values(),f=r.type;!0!==(o=p.next()).done;){var l=!1;if(a=o.value,"undirected"!==f)for(c in u=a.out){d=u[c];do{if(s=d.target,l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;d=d.next}while(d)}if("directed"!==f)for(c in u=a.undirected)if(!(e&&a.key>c)){d=u[c];do{if((s=d.target).key!==c&&(s=d.source),l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;d=d.next}while(d)}if(n&&!l&&(h=i(a.key,null,a.attributes,null,null,null,null),t&&h))return null}}function Et(t){if(!s(t))throw new B('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in t))throw new B("Graph.import: serialized node is missing its key.");if("attributes"in t&&(!s(t.attributes)||null===t.attributes))throw new B("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function At(t){if(!s(t))throw new B('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in t))throw new B("Graph.import: serialized edge is missing its source.");if(!("target"in t))throw new B("Graph.import: serialized edge is missing its target.");if("attributes"in t&&(!s(t.attributes)||null===t.attributes))throw new B("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in t&&"boolean"!=typeof t.undirected)throw new B("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}vt.prototype.wrap=function(t){null===this.A?this.A=t:null===this.B&&(this.B=t)},vt.prototype.has=function(t){return null!==this.A&&t in this.A||null!==this.B&&t in this.B};var Lt,St=(Lt=255&Math.floor(256*Math.random()),function(){return Lt++}),Dt=new Set(["directed","undirected","mixed"]),Ut=new Set(["domain","_events","_eventsCount","_maxListeners"]),Nt={allowSelfLoops:!0,multi:!1,type:"mixed"};function Ot(t,e,n){var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function jt(t,e,n,r,i,o,a,c){if(!r&&"undirected"===t.type)throw new I("Graph.".concat(e,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===t.type)throw new I("Graph.".concat(e,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(c&&!s(c))throw new B("Graph.".concat(e,': invalid attributes. Expecting an object but got "').concat(c,'"'));if(o=""+o,a=""+a,c=c||{},!t.allowSelfLoops&&o===a)throw new I("Graph.".concat(e,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var u=t._nodes.get(o),d=t._nodes.get(a);if(!u)throw new F("Graph.".concat(e,': source node "').concat(o,'" not found.'));if(!d)throw new F("Graph.".concat(e,': target node "').concat(a,'" not found.'));var h={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new I("Graph.".concat(e,': the "').concat(i,'" edge already exists in the graph.'));if(!t.multi&&(r?void 0!==u.undirected[a]:void 0!==u.out[a]))throw new I("Graph.".concat(e,': an edge linking "').concat(o,'" to "').concat(a,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var p=new V(r,i,u,d,c);t._edges.set(i,p);var f=o===a;return r?(u.undirectedDegree++,d.undirectedDegree++,f&&(u.undirectedLoops++,t._undirectedSelfLoopCount++)):(u.outDegree++,d.inDegree++,f&&(u.directedLoops++,t._directedSelfLoopCount++)),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,h.key=i,t.emit("edgeAdded",h),i}function Ct(t,e,n,r,i,o,a,c,d){if(!r&&"undirected"===t.type)throw new I("Graph.".concat(e,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(r&&"directed"===t.type)throw new I("Graph.".concat(e,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(c)if(d){if("function"!=typeof c)throw new B("Graph.".concat(e,': invalid updater function. Expecting a function but got "').concat(c,'"'))}else if(!s(c))throw new B("Graph.".concat(e,': invalid attributes. Expecting an object but got "').concat(c,'"'));var h;if(o=""+o,a=""+a,d&&(h=c,c=void 0),!t.allowSelfLoops&&o===a)throw new I("Graph.".concat(e,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var p,f,l=t._nodes.get(o),g=t._nodes.get(a);if(!n&&(p=t._edges.get(i))){if(!(p.source.key===o&&p.target.key===a||r&&p.source.key===a&&p.target.key===o))throw new I("Graph.".concat(e,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(o,'" source & "').concat(a,'" target vs. ("').concat(p.source.key,'", "').concat(p.target.key,'").'));f=p}if(f||t.multi||!l||(f=r?l.undirected[a]:l.out[a]),f){var y=[f.key,!1,!1,!1];if(d?!h:!c)return y;if(d){var w=f.attributes;f.attributes=h(w),t.emit("edgeAttributesUpdated",{type:"replace",key:f.key,attributes:f.attributes})}else u(f.attributes,c),t.emit("edgeAttributesUpdated",{type:"merge",key:f.key,attributes:f.attributes,data:c});return y}c=c||{},d&&h&&(c=h(c));var v={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new I("Graph.".concat(e,': the "').concat(i,'" edge already exists in the graph.'));var b=!1,m=!1;l||(l=Ot(t,o,{}),b=!0,o===a&&(g=l,m=!0)),g||(g=Ot(t,a,{}),m=!0),p=new V(r,i,l,g,c),t._edges.set(i,p);var k=o===a;return r?(l.undirectedDegree++,g.undirectedDegree++,k&&(l.undirectedLoops++,t._undirectedSelfLoopCount++)):(l.outDegree++,g.inDegree++,k&&(l.directedLoops++,t._directedSelfLoopCount++)),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit("edgeAdded",v),[i,!0,b,m]}function Mt(t,e){t._edges.delete(e.key);var n=e.source,r=e.target,i=e.attributes,o=e.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,a&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),o?t._undirectedSize--:t._directedSize--,t.emit("edgeDropped",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:o})}var zt=function(n){function r(t){var e;if(e=n.call(this)||this,"boolean"!=typeof(t=u({},Nt,t)).multi)throw new B("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(t.multi,'".'));if(!Dt.has(t.type))throw new B('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(t.type,'".'));if("boolean"!=typeof t.allowSelfLoops)throw new B("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(t.allowSelfLoops,'".'));var r="mixed"===t.type?Y:"directed"===t.type?q:J;p(c(e),"NodeDataClass",r);var i="geid_"+St()+"_",o=0;return p(c(e),"_attributes",{}),p(c(e),"_nodes",new Map),p(c(e),"_edges",new Map),p(c(e),"_directedSize",0),p(c(e),"_undirectedSize",0),p(c(e),"_directedSelfLoopCount",0),p(c(e),"_undirectedSelfLoopCount",0),p(c(e),"_edgeKeyGenerator",(function(){var t;do{t=i+o++}while(e._edges.has(t));return t})),p(c(e),"_options",t),Ut.forEach((function(t){return p(c(e),t,e[t])})),f(c(e),"order",(function(){return e._nodes.size})),f(c(e),"size",(function(){return e._edges.size})),f(c(e),"directedSize",(function(){return e._directedSize})),f(c(e),"undirectedSize",(function(){return e._undirectedSize})),f(c(e),"selfLoopCount",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),f(c(e),"directedSelfLoopCount",(function(){return e._directedSelfLoopCount})),f(c(e),"undirectedSelfLoopCount",(function(){return e._undirectedSelfLoopCount})),f(c(e),"multi",e._options.multi),f(c(e),"type",e._options.type),f(c(e),"allowSelfLoops",e._options.allowSelfLoops),f(c(e),"implementation",(function(){return"graphology"})),e}e(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(""+t)},i.hasDirectedEdge=function(t,e){if("undirected"===this.type)return!1;if(1===arguments.length){var n=""+t,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){t=""+t,e=""+e;var i=this._nodes.get(t);return!!i&&i.out.hasOwnProperty(e)}throw new B("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasUndirectedEdge=function(t,e){if("directed"===this.type)return!1;if(1===arguments.length){var n=""+t,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){t=""+t,e=""+e;var i=this._nodes.get(t);return!!i&&i.undirected.hasOwnProperty(e)}throw new B("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasEdge=function(t,e){if(1===arguments.length){var n=""+t;return this._edges.has(n)}if(2===arguments.length){t=""+t,e=""+e;var r=this._nodes.get(t);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(e)||void 0!==r.undirected&&r.undirected.hasOwnProperty(e))}throw new B("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.directedEdge=function(t,e){if("undirected"!==this.type){if(t=""+t,e=""+e,this.multi)throw new I("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var n=this._nodes.get(t);if(!n)throw new F('Graph.directedEdge: could not find the "'.concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.directedEdge: could not find the "'.concat(e,'" target node in the graph.'));var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(t,e){if("directed"!==this.type){if(t=""+t,e=""+e,this.multi)throw new I("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var n=this._nodes.get(t);if(!n)throw new F('Graph.undirectedEdge: could not find the "'.concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.undirectedEdge: could not find the "'.concat(e,'" target node in the graph.'));var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},i.edge=function(t,e){if(this.multi)throw new I("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.edge: could not find the "'.concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.edge: could not find the "'.concat(e,'" target node in the graph.'));var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areDirectedNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&(e in n.in||e in n.out)},i.areOutNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areOutNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&e in n.out},i.areInNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areInNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&e in n.in},i.areUndirectedNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areUndirectedNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"directed"!==this.type&&e in n.undirected},i.areNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&(e in n.in||e in n.out)||"directed"!==this.type&&e in n.undirected},i.areInboundNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areInboundNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&e in n.in||"directed"!==this.type&&e in n.undirected},i.areOutboundNeighbors=function(t,e){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areOutboundNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&e in n.out||"directed"!==this.type&&e in n.undirected},i.inDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inDegree: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.inDegree},i.outDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outDegree: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.outDegree},i.directedDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.directedDegree: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.undirectedDegree: could not find the "'.concat(t,'" node in the graph.'));return"directed"===this.type?0:e.undirectedDegree},i.inboundDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inboundDegree: could not find the "'.concat(t,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=e.undirectedDegree),"undirected"!==this.type&&(n+=e.inDegree),n},i.outboundDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outboundDegree: could not find the "'.concat(t,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=e.undirectedDegree),"undirected"!==this.type&&(n+=e.outDegree),n},i.degree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.degree: could not find the "'.concat(t,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=e.undirectedDegree),"undirected"!==this.type&&(n+=e.inDegree+e.outDegree),n},i.inDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.inDegree-e.directedLoops},i.outDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.outDegree-e.directedLoops},i.directedDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.inDegree+e.outDegree-2*e.directedLoops},i.undirectedDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));return"directed"===this.type?0:e.undirectedDegree-2*e.undirectedLoops},i.inboundDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),"undirected"!==this.type&&(n+=e.inDegree,r+=e.directedLoops),n-r},i.outboundDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),"undirected"!==this.type&&(n+=e.outDegree,r+=e.directedLoops),n-r},i.degreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.degreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),"undirected"!==this.type&&(n+=e.inDegree+e.outDegree,r+=2*e.directedLoops),n-r},i.source=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new F('Graph.source: could not find the "'.concat(t,'" edge in the graph.'));return e.source.key},i.target=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new F('Graph.target: could not find the "'.concat(t,'" edge in the graph.'));return e.target.key},i.extremities=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new F('Graph.extremities: could not find the "'.concat(t,'" edge in the graph.'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=""+t,e=""+e;var n=this._edges.get(e);if(!n)throw new F('Graph.opposite: could not find the "'.concat(e,'" edge in the graph.'));var r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new F('Graph.opposite: the "'.concat(t,'" node is not attached to the "').concat(e,'" edge (').concat(r,", ").concat(i,")."))},i.hasExtremity=function(t,e){t=""+t,e=""+e;var n=this._edges.get(t);if(!n)throw new F('Graph.hasExtremity: could not find the "'.concat(t,'" edge in the graph.'));return n.source.key===e||n.target.key===e},i.isUndirected=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isUndirected: could not find the "'.concat(t,'" edge in the graph.'));return e.undirected},i.isDirected=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isDirected: could not find the "'.concat(t,'" edge in the graph.'));return!e.undirected},i.isSelfLoop=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isSelfLoop: could not find the "'.concat(t,'" edge in the graph.'));return e.source===e.target},i.addNode=function(t,e){var n=function(t,e,n){if(n&&!s(n))throw new B('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(n,'"'));if(e=""+e,n=n||{},t._nodes.has(e))throw new I('Graph.addNode: the "'.concat(e,'" node already exist in the graph.'));var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}(this,t,e);return n.key},i.mergeNode=function(t,e){if(e&&!s(e))throw new B('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(e,'"'));t=""+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(u(n.attributes,e),this.emit("nodeAttributesUpdated",{type:"merge",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&"function"!=typeof e)throw new B('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(e,'"'));t=""+t;var n=this._nodes.get(t);if(n){if(e){var r=n.attributes;n.attributes=e(r),this.emit("nodeAttributesUpdated",{type:"replace",key:t,attributes:n.attributes})}return[t,!1]}var i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){t=""+t;var e,n=this._nodes.get(t);if(!n)throw new F('Graph.dropNode: could not find the "'.concat(t,'" node in the graph.'));if("undirected"!==this.type){for(var r in n.out){e=n.out[r];do{Mt(this,e),e=e.next}while(e)}for(var i in n.in){e=n.in[i];do{Mt(this,e),e=e.next}while(e)}}if("directed"!==this.type)for(var o in n.undirected){e=n.undirected[o];do{Mt(this,e),e=e.next}while(e)}this._nodes.delete(t),this.emit("nodeDropped",{key:t,attributes:n.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var n=""+arguments[0],r=""+arguments[1];if(!(e=d(this,n,r,this.type)))throw new F('Graph.dropEdge: could not find the "'.concat(n,'" -> "').concat(r,'" edge in the graph.'))}else if(t=""+t,!(e=this._edges.get(t)))throw new F('Graph.dropEdge: could not find the "'.concat(t,'" edge in the graph.'));return Mt(this,e),this},i.dropDirectedEdge=function(t,e){if(arguments.length<2)throw new I("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new I("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=d(this,t=""+t,e=""+e,"directed");if(!n)throw new F('Graph.dropDirectedEdge: could not find a "'.concat(t,'" -> "').concat(e,'" edge in the graph.'));return Mt(this,n),this},i.dropUndirectedEdge=function(t,e){if(arguments.length<2)throw new I("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new I("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=d(this,t,e,"undirected");if(!n)throw new F('Graph.dropUndirectedEdge: could not find a "'.concat(t,'" -> "').concat(e,'" edge in the graph.'));return Mt(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},i.clearEdges=function(){for(var t,e=this._nodes.values();!0!==(t=e.next()).done;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if("function"!=typeof e)throw new B("Graph.updateAttribute: updater should be a function.");var n=this._attributes[t];return this._attributes[t]=e(n),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!s(t))throw new B("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=t,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!s(t))throw new B("Graph.mergeAttributes: provided attributes are not a plain object.");return u(this._attributes,t),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if("function"!=typeof t)throw new B("Graph.updateAttributes: provided updater is not a function.");return this._attributes=t(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if("function"!=typeof t)throw new B("Graph.updateEachNodeAttributes: expecting an updater function.");if(e&&!l(e))throw new B("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=t(r.key,r.attributes);this.emit("eachNodeAttributesUpdated",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if("function"!=typeof t)throw new B("Graph.updateEachEdgeAttributes: expecting an updater function.");if(e&&!l(e))throw new B("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=t(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit("eachEdgeAttributesUpdated",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if("function"!=typeof t)throw new B("Graph.forEachAdjacencyEntry: expecting a callback.");xt(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if("function"!=typeof t)throw new B("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");xt(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if("function"!=typeof t)throw new B("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");xt(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if("function"!=typeof t)throw new B("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");xt(!1,!0,!0,this,t)},i.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):K(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if("function"!=typeof t)throw new B("Graph.forEachNode: expecting a callback.");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)},i.findNode=function(t){if("function"!=typeof t)throw new B("Graph.findNode: expecting a callback.");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return n.key},i.mapNodes=function(t){if("function"!=typeof t)throw new B("Graph.mapNode: expecting a callback.");for(var e,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=r.next()).done;)n=e.value,i[o++]=t(n.key,n.attributes);return i},i.someNode=function(t){if("function"!=typeof t)throw new B("Graph.someNode: expecting a callback.");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return!0;return!1},i.everyNode=function(t){if("function"!=typeof t)throw new B("Graph.everyNode: expecting a callback.");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(!t((n=e.value).key,n.attributes))return!1;return!0},i.filterNodes=function(t){if("function"!=typeof t)throw new B("Graph.filterNodes: expecting a callback.");for(var e,n,r=this._nodes.values(),i=[];!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(t,e){if("function"!=typeof t)throw new B("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new B("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var n,r,i=e,o=this._nodes.values();!0!==(n=o.next()).done;)i=t(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new O((function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var t=this,e=new Array(this._nodes.size),n=0;this._nodes.forEach((function(t,r){e[n++]=function(t,e){var n={key:t};return h(e.attributes)||(n.attributes=u({},e.attributes)),n}(r,t)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(e,i){r[n++]=function(t,e,n){var r={key:e,source:n.source.key,target:n.target.key};return h(n.attributes)||(r.attributes=u({},n.attributes)),"mixed"===t&&n.undirected&&(r.undirected=!0),r}(t.type,i,e)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}},i.import=function(t){var e,n,i,o,a,c=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t instanceof r)return t.forEachNode((function(t,e){u?c.mergeNode(t,e):c.addNode(t,e)})),t.forEachEdge((function(t,e,n,r,i,o,a){u?a?c.mergeUndirectedEdgeWithKey(t,n,r,e):c.mergeDirectedEdgeWithKey(t,n,r,e):a?c.addUndirectedEdgeWithKey(t,n,r,e):c.addDirectedEdgeWithKey(t,n,r,e)})),this;if(!s(t))throw new B("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(t.attributes){if(!s(t.attributes))throw new B("Graph.import: invalid attributes. Expecting a plain object.");u?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(i=t.nodes,!Array.isArray(i))throw new B("Graph.import: invalid nodes. Expecting an array.");for(e=0,n=i.length;e<n;e++){Et(o=i[e]);var d=o,h=d.key,p=d.attributes;u?this.mergeNode(h,p):this.addNode(h,p)}}if(t.edges){var f=!1;if("undirected"===this.type&&(f=!0),i=t.edges,!Array.isArray(i))throw new B("Graph.import: invalid edges. Expecting an array.");for(e=0,n=i.length;e<n;e++){At(a=i[e]);var l=a,g=l.source,y=l.target,w=l.attributes,v=l.undirected,b=void 0===v?f:v;"key"in a?(u?b?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:b?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,a.key,g,y,w):(u?b?this.mergeUndirectedEdge:this.mergeDirectedEdge:b?this.addUndirectedEdge:this.addDirectedEdge).call(this,g,y,w)}}return this},i.nullCopy=function(t){var e=new r(u({},this._options,t));return e.replaceAttributes(u({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,n){var r=u({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e},i.copy=function(t){if("string"==typeof(t=t||{}).type&&t.type!==this.type&&"mixed"!==t.type)throw new I('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(t.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof t.multi&&t.multi!==this.multi&&!0!==t.multi)throw new I("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof t.allowSelfLoops&&t.allowSelfLoops!==this.allowSelfLoops&&!0!==t.allowSelfLoops)throw new I("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var e,n,r=this.emptyCopy(t),i=this._edges.values();!0!==(e=i.next()).done;)jt(r,"copy",!1,(n=e.value).undirected,n.key,n.source.key,n.target.key,u({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return"[object Graph]"},i.inspect=function(){var e=this,n={};this._nodes.forEach((function(t,e){n[e]=t.attributes}));var r={},i={};this._edges.forEach((function(t,n){var o,a=t.undirected?"--":"->",c="",u=t.source.key,d=t.target.key;t.undirected&&u>d&&(o=u,u=d,d=o);var s="(".concat(u,")").concat(a,"(").concat(d,")");n.startsWith("geid_")?e.multi&&(void 0===i[s]?i[s]=0:i[s]++,c+="".concat(i[s],". ")):c+="[".concat(n,"]: "),r[c+=s]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Ut.has(a)&&"function"!=typeof this[a]&&"symbol"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,p(o,"constructor",this.constructor),o},r}(y.exports.EventEmitter);"undefined"!=typeof Symbol&&(zt.prototype[Symbol.for("nodejs.util.inspect.custom")]=zt.prototype.inspect),[{name:function(t){return"".concat(t,"Edge")},generateKey:!0},{name:function(t){return"".concat(t,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(t){return"".concat(t,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(t){return"".concat(t,"EdgeWithKey")}},{name:function(t){return"".concat(t,"DirectedEdgeWithKey")},type:"directed"},{name:function(t){return"".concat(t,"UndirectedEdgeWithKey")},type:"undirected"}].forEach((function(t){["add","merge","update"].forEach((function(e){var n=t.name(e),r="add"===e?jt:Ct;t.generateKey?zt.prototype[n]=function(i,o,a){return r(this,n,!0,"undirected"===(t.type||this.type),null,i,o,a,"update"===e)}:zt.prototype[n]=function(i,o,a,c){return r(this,n,!1,"undirected"===(t.type||this.type),i,o,a,c,"update"===e)}}))})),function(t){Q.forEach((function(e){var n=e.name,r=e.attacher;r(t,n("Node"),0),r(t,n("Source"),1),r(t,n("Target"),2),r(t,n("Opposite"),3)}))}(zt),function(t){X.forEach((function(e){var n=e.name,r=e.attacher;r(t,n("Edge"),"mixed"),r(t,n("DirectedEdge"),"directed"),r(t,n("UndirectedEdge"),"undirected")}))}(zt),function(t){et.forEach((function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return ut(this,r);if(1===arguments.length){t=""+t;var o=this._nodes.get(t);if(void 0===o)throw new F("Graph.".concat(n,': could not find the "').concat(t,'" node in the graph.'));return pt(this.multi,"mixed"===r?this.type:r,i,o)}if(2===arguments.length){t=""+t,e=""+e;var a=this._nodes.get(t);if(!a)throw new F("Graph.".concat(n,':  could not find the "').concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new F("Graph.".concat(n,':  could not find the "').concat(e,'" target node in the graph.'));return gt(r,this.multi,i,a,e)}throw new B("Graph.".concat(n,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return dt(!1,this,r,n=t);if(2===arguments.length){t=""+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new F("Graph.".concat(o,': could not find the "').concat(t,'" node in the graph.'));return ht(!1,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){t=""+t,e=""+e;var c=this._nodes.get(t);if(!c)throw new F("Graph.".concat(o,':  could not find the "').concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new F("Graph.".concat(o,':  could not find the "').concat(e,'" target node in the graph.'));return lt(!1,r,this.multi,i,c,e,n)}throw new B("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var a="map"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),n=e.pop();if(0===e.length){var i=0;"directed"!==r&&(i+=this.undirectedSize),"undirected"!==r&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,r,i,o,c,u,d){t[a++]=n(e,r,i,o,c,u,d)}))}else t=[],e.push((function(e,r,i,o,a,c,u){t.push(n(e,r,i,o,a,c,u))}));return this[o].apply(this,e),t};var c="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push((function(t,r,i,o,a,c,u){e(t,r,i,o,a,c,u)&&n.push(t)})),this[o].apply(this,t),n};var u="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(){var t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new B("Graph.".concat(u,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(n.length,")."));if("function"==typeof n[n.length-1]&&"function"!=typeof n[n.length-2])throw new B("Graph.".concat(u,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);var r=e;return n.push((function(e,n,i,o,a,c,u){r=t(r,e,n,i,o,a,c,u)})),this[o].apply(this,n),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o="find"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return dt(!0,this,r,n=t);if(2===arguments.length){t=""+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new F("Graph.".concat(o,': could not find the "').concat(t,'" node in the graph.'));return ht(!0,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){t=""+t,e=""+e;var c=this._nodes.get(t);if(!c)throw new F("Graph.".concat(o,':  could not find the "').concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new F("Graph.".concat(o,':  could not find the "').concat(e,'" target node in the graph.'));return lt(!0,r,this.multi,i,c,e,n)}throw new B("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var a="some"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,c){return e(t,n,r,i,o,a,c)})),!!this[o].apply(this,t)};var c="every"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,c){return!e(t,n,r,i,o,a,c)})),!this[o].apply(this,t)}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+"Entries";t.prototype[o]=function(t,e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return O.empty();if(!arguments.length)return st(this,r);if(1===arguments.length){t=""+t;var n=this._nodes.get(t);if(!n)throw new F("Graph.".concat(o,': could not find the "').concat(t,'" node in the graph.'));return ft(r,i,n)}if(2===arguments.length){t=""+t,e=""+e;var a=this._nodes.get(t);if(!a)throw new F("Graph.".concat(o,':  could not find the "').concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new F("Graph.".concat(o,':  could not find the "').concat(e,'" target node in the graph.'));return yt(r,i,a,e)}throw new B("Graph.".concat(o,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(t,e)}))}(zt),function(t){wt.forEach((function(e){_t(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if("mixed"===r||"mixed"===this.type||r===this.type){t=""+t;var n=this._nodes.get(t);if(void 0===n)throw new F("Graph.".concat(o,': could not find the "').concat(t,'" node in the graph.'));mt(!1,"mixed"===r?this.type:r,i,n,e)}};var a="map"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){var n=[];return this[o](t,(function(t,r){n.push(e(t,r))})),n};var c="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(t,e){var n=[];return this[o](t,(function(t,r){e(t,r)&&n.push(t)})),n};var u="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(t,e,n){if(arguments.length<3)throw new B("Graph.".concat(u,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var r=n;return this[o](t,(function(t,n){r=e(r,t,n)})),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n[0].toUpperCase()+n.slice(1,-1),a="find"+o;t.prototype[a]=function(t,e){if("mixed"===r||"mixed"===this.type||r===this.type){t=""+t;var n=this._nodes.get(t);if(void 0===n)throw new F("Graph.".concat(a,': could not find the "').concat(t,'" node in the graph.'));return mt(!0,"mixed"===r?this.type:r,i,n,e)}};var c="some"+o;t.prototype[c]=function(t,e){return!!this[a](t,e)};var u="every"+o;t.prototype[u]=function(t,e){return!this[a](t,(function(t,n){return!e(t,n)}))}}(t,e),Gt(t,e)}))}(zt);var Wt=function(t){function n(e){var n=u({type:"directed"},e);if("multi"in n&&!1!==n.multi)throw new B("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==n.type)throw new B('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Pt=function(t){function n(e){var n=u({type:"undirected"},e);if("multi"in n&&!1!==n.multi)throw new B("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==n.type)throw new B('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Rt=function(t){function n(e){var n=u({multi:!0},e);if("multi"in n&&!0!==n.multi)throw new B("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return t.call(this,n)||this}return e(n,t),n}(zt),Kt=function(t){function n(e){var n=u({type:"directed",multi:!0},e);if("multi"in n&&!0!==n.multi)throw new B("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==n.type)throw new B('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Tt=function(t){function n(e){var n=u({type:"undirected",multi:!0},e);if("multi"in n&&!0!==n.multi)throw new B("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==n.type)throw new B('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt);function Bt(t){t.from=function(e,n){var r=u({},e.options,n),i=new t(r);return i.import(e),i}}return Bt(zt),Bt(Wt),Bt(Pt),Bt(Rt),Bt(Kt),Bt(Tt),zt.Graph=zt,zt.DirectedGraph=Wt,zt.UndirectedGraph=Pt,zt.MultiGraph=Rt,zt.MultiDirectedGraph=Kt,zt.MultiUndirectedGraph=Tt,zt.InvalidArgumentsGraphError=B,zt.NotFoundGraphError=F,zt.UsageGraphError=I,zt}));
//# <-- sourceMappingURL=graphology.umd.min.js.map
//# --> graphology-library
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).graphologyLibrary={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r={},n={},i=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi},o=function(t){return null!==t&&"function"==typeof t&&"object"==typeof t.prototype&&"function"==typeof t.prototype.addUndirectedEdgeWithKey&&"function"==typeof t.prototype.dropNode},a=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(i=n;0!=i--;)if(!t(e[i],r[i]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],r.get(i[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if((n=e.length)!=r.length)return!1;for(i=n;0!=i--;)if(e[i]!==r[i])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(o=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var a=o[i];if(!t(e[a],r[a]))return!1}return!0}return e!=e&&r!=r},s=Symbol("size");function u(t,e){var r,n,i,o,s=t.length,u=e.length;if(s!==u)return!1;var h=new Set;t:for(i=0;i<s;i++){for(r=t[i],o=0;o<u;o++)if(!h.has(o)&&(n=e[o],a(r,n))){h.add(o);continue t}return!1}return!0}function h(t,e){if(t[s]!==e[s])return!1;for(var r in t)if(!u(t[r],e[r]))return!1;return!0}function d(t,e){var r,n={};return t.forEachOutEdge(e,(function(t,e,i,o){r=n[o]||0,r++,n[o]=r})),n}function c(t,e){var r,n={};return t.forEachUndirectedEdge(e,(function(t,i,o,a){e>(a=e===o?a:o)||(r=n[a]||0,r++,n[a]=r)})),n}function l(t,e){var r,n={};return n[s]=0,t.forEachOutEdge(e,(function(t,e,i,o){(r=n[o])||(r=[],n[s]+=1,n[o]=r),r.push(e)})),n}function f(t,e){var r,n={};return n[s]=0,t.forEachUndirectedEdge(e,(function(t,i,o,a){e>(a=e===o?a:o)||((r=n[a])||(r=[],n[s]+=1,n[a]=r),r.push(i))})),n}function g(t,e,r){return e===r||e.order===r.order&&e.everyNode((function(e,n){return!!r.hasNode(e)&&(!t||a(n,r.getNodeAttributes(e)))}))}function p(t,e,r,n){if(r===n)return!0;if(e){if("directed"===r.type&&"undirected"===n.type||"undirected"===r.type&&"directed"===n.type)return!1}else if(r.type!==n.type||r.allowSelfLoops!==n.allowSelfLoops||r.multi!==n.multi)return!1;if(r.directedSize!==n.directedSize||r.undirectedSize!==n.undirectedSize)return!1;if(!g(t,r,n))return!1;var i=!1,o=!1;if(r.multi||n.multi){var s=t?l:d,u=t?h:a;if(i=r.everyNode((function(t){var e=s(r,t),i=s(n,t);return u(e,i)})),!i)return!1;if(s=t?f:c,o=r.everyNode((function(t){var e=s(r,t),i=s(n,t);return u(e,i)})),!o)return!1}else{if(!(i=r.everyDirectedEdge((function(e,i,o,s){return!!n.hasDirectedEdge(o,s)&&(!t||a(r.getDirectedEdgeAttributes(o,s),n.getDirectedEdgeAttributes(o,s)))}))))return!1;if(!(o=r.everyUndirectedEdge((function(e,i,o,s){return!!n.hasUndirectedEdge(o,s)&&(!t||a(r.getUndirectedEdgeAttributes(o,s),n.getUndirectedEdgeAttributes(o,s)))}))))return!1}return!0}n.isGraph=i,n.isGraphConstructor=o,n.haveSameNodes=g.bind(null,!1),n.haveSameNodesDeep=g.bind(null,!0),n.areSameGraphs=p.bind(null,!1,!1),n.areSameGraphsDeep=p.bind(null,!0,!1),n.haveSameEdges=p.bind(null,!1,!0),n.haveSameEdgesDeep=p.bind(null,!0,!0);var y=n,v={},m={},b={},w={};var E=function t(e,r){e=e||{};var n,i={};for(var o in r){var a=e[o],s=r[o];!(n=s)||"object"!=typeof n||"function"==typeof n||Array.isArray(n)||n instanceof Set||n instanceof Map||n instanceof RegExp||n instanceof Date?i[o]=void 0===a?s:a:i[o]=t(a,s)}return i},A={identity:function(){return Float64Array.of(1,0,0,0,1,0,0,0,1)},scale:function(t,e,r){return t[0]=e,t[4]="number"==typeof r?r:e,t},rotate:function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[3]=-r,t[4]=n,t},translate:function(t,e,r){return t[6]=e,t[7]=r,t},multiply:function(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],h=t[7],d=t[8],c=e[0],l=e[1],f=e[2],g=e[3],p=e[4],y=e[5],v=e[6],m=e[7],b=e[8];return t[0]=c*r+l*o+f*u,t[1]=c*n+l*a+f*h,t[2]=c*i+l*s+f*d,t[3]=g*r+p*o+y*u,t[4]=g*n+p*a+y*h,t[5]=g*i+p*s+y*d,t[6]=v*r+m*o+b*u,t[7]=v*n+m*a+b*h,t[8]=v*i+m*s+b*d,t},multiplyVec2:function(t,e){var r=t[0],n=t[1],i=t[3],o=t[4],a=t[6],s=t[7],u=e.x,h=e.y;e.x=u*r+h*i+a,e.y=u*n+h*o+s}},x=E,z=A,M=z.identity,D=z.multiply,S=z.translate,N=z.scale,k=z.rotate,C=z.multiplyVec2;var O={camera:{x:.5,y:.5,angle:0,ratio:1},padding:0};w.createGraphToViewportConversionFunction=function(t,e,r){var n=(r=x(r,O)).camera,i=t.x[1],o=t.y[1],a=t.x[0],s=t.y[0],u=i-a,h=o-s,d=e.width,c=e.height,l=Math.max(u,h)||1,f=(i+a)/2,g=(o+s)/2,p=Math.min(d,c);p-=2*r.padding;var y=function(t,e,r,n){var i=n/r,o=e/t;return i<1&&o>1||i>1&&o<1?1:Math.min(Math.max(o,1/o),Math.max(1/i,i))}(u,h,d,c),v=M();D(v,N(M(),d/2,c/2)),D(v,S(M(),1,1)),D(v,N(M(),1,-1)),D(v,N(M(),p/d*2*y,p/c*2*y)),D(v,k(M(),-n.angle)),D(v,N(M(),1/n.ratio)),D(v,S(M(),-n.x,-n.y)),D(v,S(M(),.5,.5)),D(v,N(M(),1/l)),D(v,S(M(),-f,-g));var m=function(t){return C(v,t),t},b=function(t){return m({x:t.x,y:t.y})};return b.assign=m,b};var W={};var j=function(){this.__data__=[],this.size=0};var _=function(t,e){return t===e||t!=t&&e!=e},P=_;var U=function(t,e){for(var r=t.length;r--;)if(P(t[r][0],e))return r;return-1},I=U,F=Array.prototype.splice;var T=U;var L=U;var R=U;var G=j,q=function(t){var e=this.__data__,r=I(e,t);return!(r<0)&&(r==e.length-1?e.pop():F.call(e,r,1),--this.size,!0)},B=function(t){var e=this.__data__,r=T(e,t);return r<0?void 0:e[r][1]},H=function(t){return L(this.__data__,t)>-1},V=function(t,e){var r=this.__data__,n=R(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Y(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Y.prototype.clear=G,Y.prototype.delete=q,Y.prototype.get=B,Y.prototype.has=H,Y.prototype.set=V;var K=Y,$=K;var X=function(){this.__data__=new $,this.size=0};var J=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var Q=function(t){return this.__data__.get(t)};var Z=function(t){return this.__data__.has(t)},tt="object"==typeof e&&e&&e.Object===Object&&e,et=tt,rt="object"==typeof self&&self&&self.Object===Object&&self,nt=et||rt||Function("return this")(),it=nt.Symbol,ot=it,at=Object.prototype,st=at.hasOwnProperty,ut=at.toString,ht=ot?ot.toStringTag:void 0;var dt=function(t){var e=st.call(t,ht),r=t[ht];try{t[ht]=void 0;var n=!0}catch(t){}var i=ut.call(t);return n&&(e?t[ht]=r:delete t[ht]),i},ct=Object.prototype.toString;var lt=dt,ft=function(t){return ct.call(t)},gt=it?it.toStringTag:void 0;var pt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":gt&&gt in Object(t)?lt(t):ft(t)};var yt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},vt=pt,mt=yt;var bt,wt=function(t){if(!mt(t))return!1;var e=vt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Et=nt["__core-js_shared__"],At=(bt=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+bt:"";var xt=function(t){return!!At&&At in t},zt=Function.prototype.toString;var Mt=wt,Dt=xt,St=yt,Nt=function(t){if(null!=t){try{return zt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},kt=/^\[object .+?Constructor\]$/,Ct=Function.prototype,Ot=Object.prototype,Wt=Ct.toString,jt=Ot.hasOwnProperty,_t=RegExp("^"+Wt.call(jt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Pt=function(t){return!(!St(t)||Dt(t))&&(Mt(t)?_t:kt).test(Nt(t))},Ut=function(t,e){return null==t?void 0:t[e]};var It=function(t,e){var r=Ut(t,e);return Pt(r)?r:void 0},Ft=It(nt,"Map"),Tt=It(Object,"create"),Lt=Tt;var Rt=function(){this.__data__=Lt?Lt(null):{},this.size=0};var Gt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qt=Tt,Bt=Object.prototype.hasOwnProperty;var Ht=function(t){var e=this.__data__;if(qt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Bt.call(e,t)?e[t]:void 0},Vt=Tt,Yt=Object.prototype.hasOwnProperty;var Kt=Tt;var $t=Rt,Xt=Gt,Jt=Ht,Qt=function(t){var e=this.__data__;return Vt?void 0!==e[t]:Yt.call(e,t)},Zt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Kt&&void 0===e?"__lodash_hash_undefined__":e,this};function te(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}te.prototype.clear=$t,te.prototype.delete=Xt,te.prototype.get=Jt,te.prototype.has=Qt,te.prototype.set=Zt;var ee=te,re=K,ne=Ft;var ie=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var oe=function(t,e){var r=t.__data__;return ie(e)?r["string"==typeof e?"string":"hash"]:r.map},ae=oe;var se=oe;var ue=oe;var he=oe;var de=function(){this.size=0,this.__data__={hash:new ee,map:new(ne||re),string:new ee}},ce=function(t){var e=ae(this,t).delete(t);return this.size-=e?1:0,e},le=function(t){return se(this,t).get(t)},fe=function(t){return ue(this,t).has(t)},ge=function(t,e){var r=he(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function pe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pe.prototype.clear=de,pe.prototype.delete=ce,pe.prototype.get=le,pe.prototype.has=fe,pe.prototype.set=ge;var ye=K,ve=Ft,me=pe;var be=K,we=X,Ee=J,Ae=Q,xe=Z,ze=function(t,e){var r=this.__data__;if(r instanceof ye){var n=r.__data__;if(!ve||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new me(n)}return r.set(t,e),this.size=r.size,this};function Me(t){var e=this.__data__=new be(t);this.size=e.size}Me.prototype.clear=we,Me.prototype.delete=Ee,Me.prototype.get=Ae,Me.prototype.has=xe,Me.prototype.set=ze;var De=Me,Se=It,Ne=function(){try{var t=Se(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),ke=Ne;var Ce=function(t,e,r){"__proto__"==e&&ke?ke(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},Oe=Ce,We=_;var je=function(t,e,r){(void 0!==r&&!We(t[e],r)||void 0===r&&!(e in t))&&Oe(t,e,r)};var _e=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}(),Pe={exports:{}};!function(t,e){var r=nt,n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,o=i&&i.exports===n?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=a?a(r):new t.constructor(r);return t.copy(n),n}}(Pe,Pe.exports);var Ue=nt.Uint8Array;var Ie=function(t){var e=new t.constructor(t.byteLength);return new Ue(e).set(new Ue(t)),e};var Fe=function(t,e){var r=e?Ie(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var Te=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},Le=yt,Re=Object.create,Ge=function(){function t(){}return function(e){if(!Le(e))return{};if(Re)return Re(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var qe=function(t,e){return function(r){return t(e(r))}}(Object.getPrototypeOf,Object),Be=Object.prototype;var He=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Be)},Ve=Ge,Ye=qe,Ke=He;var $e=function(t){return"function"!=typeof t.constructor||Ke(t)?{}:Ve(Ye(t))};var Xe=function(t){return null!=t&&"object"==typeof t},Je=pt,Qe=Xe;var Ze=function(t){return Qe(t)&&"[object Arguments]"==Je(t)},tr=Xe,er=Object.prototype,rr=er.hasOwnProperty,nr=er.propertyIsEnumerable,ir=Ze(function(){return arguments}())?Ze:function(t){return tr(t)&&rr.call(t,"callee")&&!nr.call(t,"callee")},or=ir,ar=Array.isArray;var sr=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ur=wt,hr=sr;var dr=function(t){return null!=t&&hr(t.length)&&!ur(t)},cr=dr,lr=Xe;var fr=function(t){return lr(t)&&cr(t)},gr={exports:{}};var pr=function(){return!1};!function(t,e){var r=nt,n=pr,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=(a?a.isBuffer:void 0)||n;t.exports=s}(gr,gr.exports);var yr=pt,vr=qe,mr=Xe,br=Function.prototype,wr=Object.prototype,Er=br.toString,Ar=wr.hasOwnProperty,xr=Er.call(Object);var zr=function(t){if(!mr(t)||"[object Object]"!=yr(t))return!1;var e=vr(t);if(null===e)return!0;var r=Ar.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Er.call(r)==xr},Mr=pt,Dr=sr,Sr=Xe,Nr={};Nr["[object Float32Array]"]=Nr["[object Float64Array]"]=Nr["[object Int8Array]"]=Nr["[object Int16Array]"]=Nr["[object Int32Array]"]=Nr["[object Uint8Array]"]=Nr["[object Uint8ClampedArray]"]=Nr["[object Uint16Array]"]=Nr["[object Uint32Array]"]=!0,Nr["[object Arguments]"]=Nr["[object Array]"]=Nr["[object ArrayBuffer]"]=Nr["[object Boolean]"]=Nr["[object DataView]"]=Nr["[object Date]"]=Nr["[object Error]"]=Nr["[object Function]"]=Nr["[object Map]"]=Nr["[object Number]"]=Nr["[object Object]"]=Nr["[object RegExp]"]=Nr["[object Set]"]=Nr["[object String]"]=Nr["[object WeakMap]"]=!1;var kr=function(t){return Sr(t)&&Dr(t.length)&&!!Nr[Mr(t)]};var Cr=function(t){return function(e){return t(e)}},Or={exports:{}};!function(t,e){var r=tt,n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,o=i&&i.exports===n&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}(Or,Or.exports);var Wr=kr,jr=Cr,_r=Or.exports,Pr=_r&&_r.isTypedArray,Ur=Pr?jr(Pr):Wr;var Ir=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Fr=Ce,Tr=_,Lr=Object.prototype.hasOwnProperty;var Rr=function(t,e,r){var n=t[e];Lr.call(t,e)&&Tr(n,r)&&(void 0!==r||e in t)||Fr(t,e,r)},Gr=Ce;var qr=function(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=n?n(r[s],t[s],s,r,t):void 0;void 0===u&&(u=t[s]),i?Gr(r,s,u):Rr(r,s,u)}return r};var Br=/^(?:0|[1-9]\d*)$/;var Hr=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Br.test(t))&&t>-1&&t%1==0&&t<e},Vr=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},Yr=or,Kr=ar,$r=gr.exports,Xr=Hr,Jr=Ur,Qr=Object.prototype.hasOwnProperty;var Zr=function(t,e){var r=Kr(t),n=!r&&Yr(t),i=!r&&!n&&$r(t),o=!r&&!n&&!i&&Jr(t),a=r||n||i||o,s=a?Vr(t.length,String):[],u=s.length;for(var h in t)!e&&!Qr.call(t,h)||a&&("length"==h||i&&("offset"==h||"parent"==h)||o&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Xr(h,u))||s.push(h);return s};var tn=yt,en=He,rn=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},nn=Object.prototype.hasOwnProperty;var on=Zr,an=function(t){if(!tn(t))return rn(t);var e=en(t),r=[];for(var n in t)("constructor"!=n||!e&&nn.call(t,n))&&r.push(n);return r},sn=dr;var un=function(t){return sn(t)?on(t,!0):an(t)},hn=qr,dn=un;var cn=je,ln=Pe.exports,fn=Fe,gn=Te,pn=$e,yn=or,vn=ar,mn=fr,bn=gr.exports,wn=wt,En=yt,An=zr,xn=Ur,zn=Ir,Mn=function(t){return hn(t,dn(t))};var Dn=De,Sn=je,Nn=_e,kn=function(t,e,r,n,i,o,a){var s=zn(t,r),u=zn(e,r),h=a.get(u);if(h)cn(t,r,h);else{var d=o?o(s,u,r+"",t,e,a):void 0,c=void 0===d;if(c){var l=vn(u),f=!l&&bn(u),g=!l&&!f&&xn(u);d=u,l||f||g?vn(s)?d=s:mn(s)?d=gn(s):f?(c=!1,d=ln(u,!0)):g?(c=!1,d=fn(u,!0)):d=[]:An(u)||yn(u)?(d=s,yn(s)?d=Mn(s):En(s)&&!wn(s)||(d=pn(u))):c=!1}c&&(a.set(u,d),i(d,u,n,o,a),a.delete(u)),cn(t,r,d)}},Cn=yt,On=un,Wn=Ir;var jn=function t(e,r,n,i,o){e!==r&&Nn(r,(function(a,s){if(o||(o=new Dn),Cn(a))kn(e,r,s,n,t,i,o);else{var u=i?i(Wn(e,s),a,s+"",e,r,o):void 0;void 0===u&&(u=a),Sn(e,s,u)}}),On)};var _n=function(t){return t};var Pn=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},Un=Math.max;var In=function(t,e,r){return e=Un(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=Un(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),Pn(t,this,s)}};var Fn=function(t){return function(){return t}},Tn=Ne,Ln=Tn?function(t,e){return Tn(t,"toString",{configurable:!0,enumerable:!1,value:Fn(e),writable:!0})}:_n,Rn=Date.now;var Gn=function(t){var e=0,r=0;return function(){var n=Rn(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},qn=Gn(Ln),Bn=_n,Hn=In,Vn=qn;var Yn=_,Kn=dr,$n=Hr,Xn=yt;var Jn=function(t,e){return Vn(Hn(t,e,Bn),t+"")},Qn=function(t,e,r){if(!Xn(r))return!1;var n=typeof e;return!!("number"==n?Kn(r)&&$n(e,r.length):"string"==n&&e in r)&&Yn(r[e],t)};var Zn=jn,ti=function(t){return Jn((function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&Qn(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,o)}return e}))}((function(t,e,r){Zn(t,e,r)})),ei={batchSize:500,padding:20,width:2048,height:2048,nodes:{reducer:null,defaultColor:"#999"},edges:{reducer:null,defaultColor:"#ccc"}};W.DEFAULTS=ei,W.refineSettings=function(t){var e={width:(t=t||{}).width,height:t.height};if(e.width&&!e.height&&(e.height=e.width),e.height&&!e.width&&(e.width=e.height),!(t=ti({},ei,t,e)).width&&!t.height)throw new Error("graphology-canvas: need at least a valid width or height!");return t},W.DEFAULT_NODE_REDUCER=function(t,e,r){var n={type:r.type||"circle",label:r.label||e,x:r.x,y:r.y,size:r.size||1,color:r.color||t.nodes.defaultColor};if("number"!=typeof n.x||"number"!=typeof n.y)throw new Error('graphology-canvas: the "'+e+'" node has no valid x or y position.');return n},W.DEFAULT_EDGE_REDUCER=function(t,e,r){return{type:r.type||"line",size:r.size||1,color:r.color||t.edges.defaultColor}};var ri=W,ni=w.createGraphToViewportConversionFunction;b.reduceNodes=function(t,e){var r=e.width,n=e.height,i=1/0,o=-1/0,a=1/0,s=-1/0,u={};t.forEachNode((function(t,r){"function"==typeof e.nodes.reducer&&(r=e.nodes.reducer(e,t,r)),r=ri.DEFAULT_NODE_REDUCER(e,t,r),u[t]=r;var n=r.x,h=r.y;n<i&&(i=n),n>o&&(o=n),h<a&&(a=h),h>s&&(s=h)}));var h=ni({x:[i,o],y:[a,s]},{width:r,height:n},{padding:e.padding});for(var d in u)h.assign(u[d]);return u};var ii=2*Math.PI,oi=b,ai=W,si=function(t,e,r,n){t.fillStyle=e,t.fillRect(0,0,r,n)},ui={nodes:{circle:function(t,e,r){e.fillStyle=r.color,e.beginPath(),e.arc(r.x,r.y,r.size,0,ii,!0),e.closePath(),e.fill()}},edges:{line:function(t,e,r,n,i){e.strokeStyle=r.color,e.lineWidth=r.size,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(i.x,i.y),e.stroke()}}};m.renderSync=function(t,e,r){var n,i,o,a,s=oi.reduceNodes(t,r);for(o in si(e,"white",r.width,r.height),t.forEachEdge((function(t,o,a,u){"function"==typeof r.edges.reducer&&(o=r.edges.reducer(r,t,o)),o=ai.DEFAULT_EDGE_REDUCER(r,t,o),n=s[a],i=s[u],ui.edges[o.type](r,e,o,n,i)})),s)a=s[o],ui.nodes[a.type](r,e,a)};var hi=function(t){return setTimeout(t,16)};function di(t,e,r){return t()?(e(),t()?hi((function(){di(t,e,r)})):r()):r()}"undefined"!=typeof requestAnimationFrame&&(hi=requestAnimationFrame),m.renderAsync=function(t,e,r,n){var i=oi.reduceNodes(t,r);si(e,"white",r.width,r.height);var o=t.edges(),a=0;var s=new Array(t.order),u=0;for(var h in i)s[u++]=i[h];var d=0;function c(){var t,n;for(t=Math.min(d+r.batchSize,s.length);d<t;d++)n=s[d],ui.nodes[n.type](r,e,n)}function l(){return d<s.length}di((function(){return a<o.length}),(function(){var n,s,u,h,d,c,l,f;for(n=Math.min(a+r.batchSize,o.length);a<n;a++)s=o[a],u=t.getEdgeAttributes(s),d=(h=t.extremities(s))[0],c=h[1],"function"==typeof r.edges.reducer&&(u=r.edges.reducer(r,s,u)),u=ai.DEFAULT_EDGE_REDUCER(r,s,u),l=i[d],f=i[c],ui.edges[u.type](r,e,u,l,f)}),(function(){di(l,c,(function(){return n()}))}))};var ci=i,li=m,fi=W.refineSettings;v.render=function(t,e,r){if(!ci(t))throw new Error("graphology-canvas/render: expecting a valid graphology instance.");r=fi(r),li.renderSync(t,e,r)},v.renderAsync=function(t,e,r,n){3===arguments.length&&(n=r,r={}),r=fi(r),li.renderAsync(t,e,r,n)};var gi=v,pi=i,yi=function(t){if(!pi(t))throw new Error("graphology-utils/infer-type: expecting a valid graphology instance.");var e=t.type;return"mixed"!==e?e:0===t.directedSize&&0===t.undirectedSize||t.directedSize>0&&t.undirectedSize>0?"mixed":t.directedSize>0?"directed":"undirected"};function vi(t){if("function"!=typeof t)throw new Error("obliterator/iterator: expecting a function!");this.next=t}"undefined"!=typeof Symbol&&(vi.prototype[Symbol.iterator]=function(){return this}),vi.of=function(){var t=arguments,e=t.length,r=0;return new vi((function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}}))},vi.empty=function(){return new vi((function(){return{done:!0}}))},vi.fromSequence=function(t){var e=0,r=t.length;return new vi((function(){return e>=r?{done:!0}:{done:!1,value:t[e++]}}))},vi.is=function(t){return t instanceof vi||"object"==typeof t&&null!==t&&"function"==typeof t.next};var mi=vi,bi={};!function(t){var e=Math.pow(2,8)-1,r=Math.pow(2,16)-1,n=Math.pow(2,32)-1,i=Math.pow(2,7)-1,o=Math.pow(2,15)-1,a=Math.pow(2,31)-1;t.getPointerArray=function(t){var i=t-1;if(i<=e)return Uint8Array;if(i<=r)return Uint16Array;if(i<=n)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},t.getSignedPointerArray=function(t){var e=t-1;return e<=i?Int8Array:e<=o?Int16Array:e<=a?Int32Array:Float64Array},t.getNumberType=function(t){return t===(0|t)?-1===Math.sign(t)?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var s={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(e,r){var n,i,o,a,u,h=null,d=0;for(a=0,u=e.length;a<u;a++)o=r?r(e[a]):e[a],i=t.getNumberType(o),(n=s[i.name])>d&&(d=n,h=i);return h},t.isTypedArray=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t)},t.concat=function(){var t,e,r,n=0;for(t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;var i=new arguments[0].constructor(n);for(t=0,e=0;t<r;t++)i.set(arguments[t],e),e+=arguments[t].length;return i},t.indices=function(e){for(var r=new(t.getPointerArray(e))(e),n=0;n<e;n++)r[n]=n;return r}}(bi);var wi=mi,Ei=bi.getPointerArray;function Ai(t,e){arguments.length<2&&(e=t,t=Array);var r=Ei(e);this.size=0,this.length=e,this.dense=new r(e),this.sparse=new r(e),this.vals=new t(e)}Ai.prototype.clear=function(){this.size=0},Ai.prototype.has=function(t){var e=this.sparse[t];return e<this.size&&this.dense[e]===t},Ai.prototype.get=function(t){var e=this.sparse[t];if(e<this.size&&this.dense[e]===t)return this.vals[e]},Ai.prototype.set=function(t,e){var r=this.sparse[t];return r<this.size&&this.dense[r]===t?(this.vals[r]=e,this):(this.dense[this.size]=t,this.sparse[t]=this.size,this.vals[this.size]=e,this.size++,this)},Ai.prototype.delete=function(t){var e=this.sparse[t];return!(e>=this.size||this.dense[e]!==t)&&(e=this.dense[this.size-1],this.dense[this.sparse[t]]=e,this.sparse[e]=this.sparse[t],this.size--,!0)},Ai.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0;r<this.size;r++)t.call(e,this.vals[r],this.dense[r])},Ai.prototype.keys=function(){var t=this.size,e=this.dense,r=0;return new wi((function(){if(r<t){var n=e[r];return r++,{value:n}}return{done:!0}}))},Ai.prototype.values=function(){var t=this.size,e=this.vals,r=0;return new wi((function(){if(r<t){var n=e[r];return r++,{value:n}}return{done:!0}}))},Ai.prototype.entries=function(){var t=this.size,e=this.dense,r=this.vals,n=0;return new wi((function(){if(n<t){var i=[e[n],r[n]];return n++,{value:i}}return{done:!0}}))},"undefined"!=typeof Symbol&&(Ai.prototype[Symbol.iterator]=Ai.prototype.entries),Ai.prototype.inspect=function(){for(var t=new Map,e=0;e<this.size;e++)t.set(this.dense[e],this.vals[e]);return Object.defineProperty(t,"constructor",{value:Ai,enumerable:!1}),t.length=this.length,this.vals.constructor!==Array&&(t.type=this.vals.constructor.name),t},"undefined"!=typeof Symbol&&(Ai.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ai.prototype.inspect);var xi=Ai,zi=mi,Mi=bi.getPointerArray;function Di(t){var e=Mi(t);this.start=0,this.size=0,this.capacity=t,this.dense=new e(t),this.sparse=new e(t)}Di.prototype.clear=function(){this.start=0,this.size=0},Di.prototype.has=function(t){if(0===this.size)return!1;var e=this.sparse[t];return(e<this.capacity&&e>=this.start&&e<this.start+this.size||e<(this.start+this.size)%this.capacity)&&this.dense[e]===t},Di.prototype.enqueue=function(t){var e=this.sparse[t];if(0!==this.size&&((e<this.capacity&&e>=this.start&&e<this.start+this.size||e<(this.start+this.size)%this.capacity)&&this.dense[e]===t))return this;return e=(this.start+this.size)%this.capacity,this.dense[e]=t,this.sparse[t]=e,this.size++,this},Di.prototype.dequeue=function(){if(0!==this.size){var t=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var e=this.dense[t];return this.sparse[e]=this.capacity,e}},Di.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=this.capacity,n=this.size,i=this.start,o=0;o<n;)t.call(e,this.dense[i],o,this),o++,++i===r&&(i=0)},Di.prototype.values=function(){var t=this.dense,e=this.capacity,r=this.size,n=this.start,i=0;return new zi((function(){if(i>=r)return{done:!0};var o=t[n];return n++,i++,n===e&&(n=0),{value:o,done:!1}}))},"undefined"!=typeof Symbol&&(Di.prototype[Symbol.iterator]=Di.prototype.values),Di.prototype.inspect=function(){var t=[];return this.forEach((function(e){t.push(e)})),Object.defineProperty(t,"constructor",{value:Di,enumerable:!1}),t.capacity=this.capacity,t},"undefined"!=typeof Symbol&&(Di.prototype[Symbol.for("nodejs.util.inspect.custom")]=Di.prototype.inspect);var Si=Di;function Ni(t){return function(e){return"number"!=typeof e&&(e=e.length),Math.floor(t()*e)}}var ki=Ni(Math.random);ki.createRandomIndex=Ni;var Ci=ki,Oi={},Wi={};function ji(t){return"number"!=typeof t||isNaN(t)?1:t}function _i(t,e){var r={},n=function(t){return void 0===t?e:t};"function"==typeof e&&(n=e);var i=function(e){return n(e[t])},o=function(){return n(void 0)};return"string"==typeof t?(r.fromAttributes=i,r.fromGraph=function(t,e){return i(t.getEdgeAttributes(e))},r.fromEntry=function(t,e){return i(e)},r.fromPartialEntry=r.fromEntry,r.fromMinimalEntry=r.fromEntry):"function"==typeof t?(r.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},r.fromGraph=function(e,r){var i=e.extremities(r);return n(t(r,e.getEdgeAttributes(r),i[0],i[1],e.getNodeAttributes(i[0]),e.getNodeAttributes(i[1]),e.isUndirected(r)))},r.fromEntry=function(e,r,i,o,a,s,u){return n(t(e,r,i,o,a,s,u))},r.fromPartialEntry=function(e,r,i,o){return n(t(e,r,i,o))},r.fromMinimalEntry=function(e,r){return n(t(e,r))}):(r.fromAttributes=o,r.fromGraph=o,r.fromEntry=o,r.fromMinimalEntry=o),r}Wi.createNodeValueGetter=function(t,e){var r={},n=function(t){return void 0===t?e:t};"function"==typeof e&&(n=e);var i=function(e){return n(e[t])},o=function(){return n(void 0)};return"string"==typeof t?(r.fromAttributes=i,r.fromGraph=function(t,e){return i(t.getNodeAttributes(e))},r.fromEntry=function(t,e){return i(e)}):"function"==typeof t?(r.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},r.fromGraph=function(e,r){return n(t(r,e.getNodeAttributes(r)))},r.fromEntry=function(e,r){return n(t(e,r))}):(r.fromAttributes=o,r.fromGraph=o,r.fromEntry=o),r},Wi.createEdgeValueGetter=_i,Wi.createEdgeWeightGetter=function(t){return _i(t,ji)};var Pi=bi,Ui=E,Ii=Wi.createEdgeWeightGetter,Fi=Symbol.for("nodejs.util.inspect.custom"),Ti={getEdgeWeight:"weight",keepDendrogram:!1,resolution:1};function Li(t,e){var r=(e=Ui(e,Ti)).resolution,n=Ii(e.getEdgeWeight).fromEntry,i=2*(t.size-t.selfLoopCount),o=Pi.getPointerArray(i),a=Pi.getPointerArray(t.order+1),s=e.getEdgeWeight?Float64Array:Pi.getPointerArray(2*t.size);this.C=t.order,this.M=0,this.E=i,this.U=0,this.resolution=r,this.level=0,this.graph=t,this.nodes=new Array(t.order),this.keepDendrogram=e.keepDendrogram,this.neighborhood=new a(i),this.weights=new s(i),this.loops=new s(t.order),this.starts=new o(t.order+1),this.belongings=new a(t.order),this.dendrogram=[],this.mapping=null,this.counts=new a(t.order),this.unused=new a(t.order),this.totalWeights=new s(t.order);var u,h={},d=0,c=0,l=this;t.forEachNode((function(e){l.nodes[d]=e,h[e]=d,c+=t.undirectedDegreeWithoutSelfLoops(e),l.starts[d]=c,l.belongings[d]=d,l.counts[d]=1,d++})),t.forEachEdge((function(t,e,r,i,o,a,s){if(u=n(t,e,r,i,o,a,s),r=h[r],i=h[i],l.M+=u,r===i)l.totalWeights[r]+=2*u,l.loops[r]=2*u;else{l.totalWeights[r]+=u,l.totalWeights[i]+=u;var d=--l.starts[r],c=--l.starts[i];l.neighborhood[d]=i,l.neighborhood[c]=r,l.weights[d]=u,l.weights[c]=u}})),this.starts[d]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}function Ri(t,e){var r=(e=Ui(e,Ti)).resolution,n=Ii(e.getEdgeWeight).fromEntry,i=2*(t.size-t.selfLoopCount),o=Pi.getPointerArray(i),a=Pi.getPointerArray(t.order+1),s=e.getEdgeWeight?Float64Array:Pi.getPointerArray(2*t.size);this.C=t.order,this.M=0,this.E=i,this.U=0,this.resolution=r,this.level=0,this.graph=t,this.nodes=new Array(t.order),this.keepDendrogram=e.keepDendrogram,this.neighborhood=new a(i),this.weights=new s(i),this.loops=new s(t.order),this.starts=new o(t.order+1),this.offsets=new o(t.order),this.belongings=new a(t.order),this.dendrogram=[],this.counts=new a(t.order),this.unused=new a(t.order),this.totalInWeights=new s(t.order),this.totalOutWeights=new s(t.order);var u,h={},d=0,c=0,l=this;t.forEachNode((function(e){l.nodes[d]=e,h[e]=d,c+=t.outDegreeWithoutSelfLoops(e),l.starts[d]=c,c+=t.inDegreeWithoutSelfLoops(e),l.offsets[d]=c,l.belongings[d]=d,l.counts[d]=1,d++})),t.forEachEdge((function(t,e,r,i,o,a,s){if(u=n(t,e,r,i,o,a,s),r=h[r],i=h[i],l.M+=u,r===i)l.loops[r]+=u,l.totalInWeights[r]+=u,l.totalOutWeights[r]+=u;else{l.totalOutWeights[r]+=u,l.totalInWeights[i]+=u;var d=--l.starts[r],c=--l.offsets[i];l.neighborhood[d]=i,l.neighborhood[c]=r,l.weights[d]=u,l.weights[c]=u}})),this.starts[d]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}Li.prototype.isolate=function(t,e){var r=this.belongings[t];if(1===this.counts[r])return r;var n=this.unused[--this.U],i=this.loops[t];return this.totalWeights[r]-=e+i,this.totalWeights[n]+=e+i,this.belongings[t]=n,this.counts[r]--,this.counts[n]++,n},Li.prototype.move=function(t,e,r){var n=this.belongings[t],i=this.loops[t];this.totalWeights[n]-=e+i,this.totalWeights[r]+=e+i,this.belongings[t]=r;var o=1==this.counts[n]--;this.counts[r]++,o&&(this.unused[this.U++]=n)},Li.prototype.computeNodeDegree=function(t){var e,r,n=0;for(e=this.starts[t],r=this.starts[t+1];e<r;e++)n+=this.weights[e];return n},Li.prototype.expensiveIsolate=function(t){var e=this.computeNodeDegree(t);return this.isolate(t,e)},Li.prototype.expensiveMove=function(t,e){var r=this.computeNodeDegree(t);this.move(t,r,e)},Li.prototype.zoomOut=function(){var t,e,r,n,i,o,a,s,u,h,d,c=new Array(this.C-this.U),l={},f=this.nodes.length,g=0,p=0;for(t=0,r=this.C;t<r;t++)(o=this.belongings[t])in l||(l[o]=g,c[g]={adj:{},totalWeights:this.totalWeights[o],internalWeights:0},g++),this.belongings[t]=l[o];if(this.keepDendrogram){for(h=this.dendrogram[this.level],d=new(Pi.getPointerArray(g))(f),t=0;t<f;t++)d[t]=this.belongings[h[t]];this.dendrogram.push(d)}else for(t=0;t<f;t++)this.mapping[t]=this.belongings[this.mapping[t]];for(t=0,r=this.C;t<r;t++)for(u=(s=c[o=this.belongings[t]]).adj,s.internalWeights+=this.loops[t],e=this.starts[t],n=this.starts[t+1];e<n;e++)i=this.neighborhood[e],o!==(a=this.belongings[i])?(a in u||(u[a]=0),u[a]+=this.weights[e]):s.internalWeights+=this.weights[e];for(this.C=g,i=0,o=0;o<g;o++)for(a in u=(s=c[o]).adj,o=+o,this.totalWeights[o]=s.totalWeights,this.loops[o]=s.internalWeights,this.counts[o]=1,this.starts[o]=i,this.belongings[o]=o,u)this.neighborhood[i]=+a,this.weights[i]=u[a],p++,i++;return this.starts[g]=p,this.E=p,this.U=0,this.level++,l},Li.prototype.modularity=function(){var t,e,r,n,i=0,o=2*this.M,a=new Float64Array(this.C);for(e=0;e<this.C;e++)for(a[t=this.belongings[e]]+=this.loops[e],r=this.starts[e],n=this.starts[e+1];r<n;r++)t===this.belongings[this.neighborhood[r]]&&(a[t]+=this.weights[r]);for(e=0;e<this.C;e++)i+=a[e]/o-Math.pow(this.totalWeights[e]/o,2)*this.resolution;return i},Li.prototype.delta=function(t,e,r,n){var i=this.M;return r/i-this.totalWeights[n]*(e+=this.loops[t])*this.resolution/(2*i*i)},Li.prototype.deltaWithOwnCommunity=function(t,e,r,n){var i=this.M;return r/i-(this.totalWeights[n]-(e+=this.loops[t]))*e*this.resolution/(2*i*i)},Li.prototype.fastDelta=function(t,e,r,n){var i=this.M,o=this.totalWeights[n];return r-(e+=this.loops[t])*o*this.resolution/(2*i)},Li.prototype.fastDeltaWithOwnCommunity=function(t,e,r,n){var i=this.M,o=this.totalWeights[n];return r-(e+=this.loops[t])*(o-e)*this.resolution/(2*i)},Li.prototype.bounds=function(t){return[this.starts[t],this.starts[t+1]]},Li.prototype.project=function(){var t=this,e={};return t.nodes.slice(0,this.C).forEach((function(r,n){e[r]=Array.from(t.neighborhood.slice(t.starts[n],t.starts[n+1])).map((function(e){return t.nodes[e]}))})),e},Li.prototype.collect=function(t){arguments.length<1&&(t=this.level);var e,r,n={},i=this.keepDendrogram?this.dendrogram[t]:this.mapping;for(e=0,r=i.length;e<r;e++)n[this.nodes[e]]=i[e];return n},Li.prototype.assign=function(t,e){arguments.length<2&&(e=this.level);var r,n,i=this.keepDendrogram?this.dendrogram[e]:this.mapping;for(r=0,n=i.length;r<n;r++)this.graph.setNodeAttribute(this.nodes[r],t,i[r])},Li.prototype[Fi]=function(){var t={};Object.defineProperty(t,"constructor",{value:Li,enumerable:!1}),t.C=this.C,t.M=this.M,t.E=this.E,t.U=this.U,t.resolution=this.resolution,t.level=this.level,t.nodes=this.nodes,t.starts=this.starts.slice(0,t.C+1);var e=this;return["neighborhood","weights"].forEach((function(r){t[r]=e[r].slice(0,t.E)})),["counts","loops","belongings","totalWeights"].forEach((function(r){t[r]=e[r].slice(0,t.C)})),t.unused=this.unused.slice(0,this.U),this.keepDendrogram?t.dendrogram=this.dendrogram:t.mapping=this.mapping,t},Ri.prototype.bounds=Li.prototype.bounds,Ri.prototype.inBounds=function(t){return[this.offsets[t],this.starts[t+1]]},Ri.prototype.outBounds=function(t){return[this.starts[t],this.offsets[t]]},Ri.prototype.project=Li.prototype.project,Ri.prototype.projectIn=function(){var t=this,e={};return t.nodes.slice(0,this.C).forEach((function(r,n){e[r]=Array.from(t.neighborhood.slice(t.offsets[n],t.starts[n+1])).map((function(e){return t.nodes[e]}))})),e},Ri.prototype.projectOut=function(){var t=this,e={};return t.nodes.slice(0,this.C).forEach((function(r,n){e[r]=Array.from(t.neighborhood.slice(t.starts[n],t.offsets[n])).map((function(e){return t.nodes[e]}))})),e},Ri.prototype.isolate=function(t,e,r){var n=this.belongings[t];if(1===this.counts[n])return n;var i=this.unused[--this.U],o=this.loops[t];return this.totalInWeights[n]-=e+o,this.totalInWeights[i]+=e+o,this.totalOutWeights[n]-=r+o,this.totalOutWeights[i]+=r+o,this.belongings[t]=i,this.counts[n]--,this.counts[i]++,i},Ri.prototype.move=function(t,e,r,n){var i=this.belongings[t],o=this.loops[t];this.totalInWeights[i]-=e+o,this.totalInWeights[n]+=e+o,this.totalOutWeights[i]-=r+o,this.totalOutWeights[n]+=r+o,this.belongings[t]=n;var a=1==this.counts[i]--;this.counts[n]++,a&&(this.unused[this.U++]=i)},Ri.prototype.computeNodeInDegree=function(t){var e,r,n=0;for(e=this.offsets[t],r=this.starts[t+1];e<r;e++)n+=this.weights[e];return n},Ri.prototype.computeNodeOutDegree=function(t){var e,r,n=0;for(e=this.starts[t],r=this.offsets[t];e<r;e++)n+=this.weights[e];return n},Ri.prototype.expensiveMove=function(t,e){var r=this.computeNodeInDegree(t),n=this.computeNodeOutDegree(t);this.move(t,r,n,e)},Ri.prototype.zoomOut=function(){var t,e,r,n,i,o,a,s,u,h,d,c,l,f,g,p=new Array(this.C-this.U),y={},v=this.nodes.length,m=0,b=0;for(t=0,r=this.C;t<r;t++)(o=this.belongings[t])in y||(y[o]=m,p[m]={inAdj:{},outAdj:{},totalInWeights:this.totalInWeights[o],totalOutWeights:this.totalOutWeights[o],internalWeights:0},m++),this.belongings[t]=y[o];if(this.keepDendrogram){for(f=this.dendrogram[this.level],g=new(Pi.getPointerArray(m))(v),t=0;t<v;t++)g[t]=this.belongings[f[t]];this.dendrogram.push(g)}else for(t=0;t<v;t++)this.mapping[t]=this.belongings[this.mapping[t]];for(t=0,r=this.C;t<r;t++)for(o=this.belongings[t],u=this.offsets[t],c=(s=p[o]).inAdj,l=s.outAdj,s.internalWeights+=this.loops[t],e=this.starts[t],n=this.starts[t+1];e<n;e++)i=this.neighborhood[e],d=(h=e<u)?l:c,o!==(a=this.belongings[i])?(a in d||(d[a]=0),d[a]+=this.weights[e]):h&&(s.internalWeights+=this.weights[e]);for(this.C=m,i=0,o=0;o<m;o++){for(a in c=(s=p[o]).inAdj,l=s.outAdj,o=+o,this.totalInWeights[o]=s.totalInWeights,this.totalOutWeights[o]=s.totalOutWeights,this.loops[o]=s.internalWeights,this.counts[o]=1,this.starts[o]=i,this.belongings[o]=o,l)this.neighborhood[i]=+a,this.weights[i]=l[a],b++,i++;for(a in this.offsets[o]=i,c)this.neighborhood[i]=+a,this.weights[i]=c[a],b++,i++}return this.starts[m]=b,this.E=b,this.U=0,this.level++,y},Ri.prototype.modularity=function(){var t,e,r,n,i=0,o=this.M,a=new Float64Array(this.C);for(e=0;e<this.C;e++)for(a[t=this.belongings[e]]+=this.loops[e],r=this.starts[e],n=this.offsets[e];r<n;r++)t===this.belongings[this.neighborhood[r]]&&(a[t]+=this.weights[r]);for(e=0;e<this.C;e++)i+=a[e]/o-this.totalInWeights[e]*this.totalOutWeights[e]/Math.pow(o,2)*this.resolution;return i},Ri.prototype.delta=function(t,e,r,n,i){var o=this.M,a=this.totalInWeights[i],s=this.totalOutWeights[i],u=this.loops[t];return n/o-((r+=u)*a+(e+=u)*s)*this.resolution/(o*o)},Ri.prototype.deltaWithOwnCommunity=function(t,e,r,n,i){var o=this.M,a=this.totalInWeights[i],s=this.totalOutWeights[i],u=this.loops[t];return n/o-((r+=u)*(a-(e+=u))+e*(s-r))*this.resolution/(o*o)},Ri.prototype.collect=Li.prototype.collect,Ri.prototype.assign=Li.prototype.assign,Ri.prototype[Fi]=function(){var t={};Object.defineProperty(t,"constructor",{value:Ri,enumerable:!1}),t.C=this.C,t.M=this.M,t.E=this.E,t.U=this.U,t.resolution=this.resolution,t.level=this.level,t.nodes=this.nodes,t.starts=this.starts.slice(0,t.C+1);var e=this;return["neighborhood","weights"].forEach((function(r){t[r]=e[r].slice(0,t.E)})),["counts","offsets","loops","belongings","totalInWeights","totalOutWeights"].forEach((function(r){t[r]=e[r].slice(0,t.C)})),t.unused=this.unused.slice(0,this.U),this.keepDendrogram?t.dendrogram=this.dendrogram:t.mapping=this.mapping,t},Oi.UndirectedLouvainIndex=Li,Oi.DirectedLouvainIndex=Ri;var Gi=E,qi=i,Bi=yi,Hi=xi,Vi=Si,Yi=Ci.createRandomIndex,Ki=Oi,$i=Ki.UndirectedLouvainIndex,Xi=Ki.DirectedLouvainIndex,Ji={nodeCommunityAttribute:"community",getEdgeWeight:"weight",fastLocalMoves:!0,randomWalk:!0,resolution:1,rng:Math.random};function Qi(t,e,r){var n=t.get(e);void 0===n&&(n=0),n+=r,t.set(e,n)}function Zi(t,e,r,n,i){return Math.abs(n-i)<1e-10?t!==e&&r>t:n>i}function to(t,e,r){var n,i,o,a,s,u,h,d,c,l,f,g,p,y,v,m,b,w,E,A=new $i(e,{getEdgeWeight:r.getEdgeWeight,keepDendrogram:t,resolution:r.resolution}),x=Yi(r.rng),z=!0,M=!0,D=new Hi(Float64Array,A.C),S=0,N=0,k=[];for(r.fastLocalMoves&&(o=new Vi(A.C));z;){if(g=A.C,z=!1,M=!0,r.fastLocalMoves){for(E=0,d=r.randomWalk?x(g):0,c=0;c<g;c++,d++)l=d%g,o.enqueue(l);for(;0!==o.size;){for(l=o.dequeue(),N++,p=0,D.clear(),n=A.belongings[l],a=A.starts[l],s=A.starts[l+1];a<s;a++)f=A.neighborhood[a],p+=u=A.weights[a],Qi(D,i=A.belongings[f],u);for(m=A.fastDeltaWithOwnCommunity(l,p,D.get(n)||0,n),v=n,h=0;h<D.size;h++)(i=D.dense[h])!==n&&(y=D.vals[h],S++,Zi(v,n,i,b=A.fastDelta(l,p,y,i),m)&&(m=b,v=i));if(m<0){if((v=A.isolate(l,p))===n)continue}else{if(v===n)continue;A.move(l,p,v)}for(z=!0,E++,a=A.starts[l],s=A.starts[l+1];a<s;a++)f=A.neighborhood[a],(i=A.belongings[f])!==v&&o.enqueue(f)}k.push(E)}else for(w=[],k.push(w);M;){for(M=!1,E=0,d=r.randomWalk?x(g):0,c=0;c<g;c++,d++){for(l=d%g,N++,p=0,D.clear(),n=A.belongings[l],a=A.starts[l],s=A.starts[l+1];a<s;a++)f=A.neighborhood[a],p+=u=A.weights[a],Qi(D,i=A.belongings[f],u);for(m=A.fastDeltaWithOwnCommunity(l,p,D.get(n)||0,n),v=n,h=0;h<D.size;h++)(i=D.dense[h])!==n&&(y=D.vals[h],S++,Zi(v,n,i,b=A.fastDelta(l,p,y,i),m)&&(m=b,v=i));if(m<0){if((v=A.isolate(l,p))===n)continue}else{if(v===n)continue;A.move(l,p,v)}M=!0,E++}w.push(E),z=M||z}z&&A.zoomOut()}return{index:A,deltaComputations:S,nodesVisited:N,moves:k}}function eo(t,e,r){var n,i,o,a,s,u,h,d,c,l,f,g,p,y,v,m,b,w,E,A,x,z,M=new Xi(e,{getEdgeWeight:r.getEdgeWeight,keepDendrogram:t,resolution:r.resolution}),D=Yi(r.rng),S=!0,N=!0,k=new Hi(Float64Array,M.C),C=0,O=0,W=[];for(r.fastLocalMoves&&(o=new Vi(M.C));S;){if(y=M.C,S=!1,N=!0,r.fastLocalMoves){for(z=0,l=r.randomWalk?D(y):0,f=0;f<y;f++,l++)g=l%y,o.enqueue(g);for(;0!==o.size;){for(g=o.dequeue(),O++,v=0,m=0,k.clear(),n=M.belongings[g],a=M.starts[g],s=M.starts[g+1],u=M.offsets[g];a<s;a++)h=a<u,p=M.neighborhood[a],d=M.weights[a],h?m+=d:v+=d,Qi(k,i=M.belongings[p],d);for(E=M.deltaWithOwnCommunity(g,v,m,k.get(n)||0,n),w=n,c=0;c<k.size;c++)(i=k.dense[c])!==n&&(b=k.vals[c],C++,Zi(w,n,i,A=M.delta(g,v,m,b,i),E)&&(E=A,w=i));if(E<0){if((w=M.isolate(g,v,m))===n)continue}else{if(w===n)continue;M.move(g,v,m,w)}for(S=!0,z++,a=M.starts[g],s=M.starts[g+1];a<s;a++)p=M.neighborhood[a],(i=M.belongings[p])!==w&&o.enqueue(p)}W.push(z)}else for(x=[],W.push(x);N;){for(N=!1,z=0,l=r.randomWalk?D(y):0,f=0;f<y;f++,l++){for(g=l%y,O++,v=0,m=0,k.clear(),n=M.belongings[g],a=M.starts[g],s=M.starts[g+1],u=M.offsets[g];a<s;a++)h=a<u,p=M.neighborhood[a],d=M.weights[a],h?m+=d:v+=d,Qi(k,i=M.belongings[p],d);for(E=M.deltaWithOwnCommunity(g,v,m,k.get(n)||0,n),w=n,c=0;c<k.size;c++)(i=k.dense[c])!==n&&(b=k.vals[c],C++,Zi(w,n,i,A=M.delta(g,v,m,b,i),E)&&(E=A,w=i));if(E<0){if((w=M.isolate(g,v,m))===n)continue}else{if(w===n)continue;M.move(g,v,m,w)}N=!0,z++}x.push(z),S=N||S}S&&M.zoomOut()}return{index:M,deltaComputations:C,nodesVisited:O,moves:W}}function ro(t,e,r,n){if(!qi(r))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");var i=Bi(r);if("mixed"===i)throw new Error("graphology-communities-louvain: cannot run the algorithm on a true mixed graph.");n=Gi(n,Ji);var o=0;if(0===r.size){if(t)return void r.forEachNode((function(t){r.setNodeAttribute(t,n.nodeCommunityAttribute,o++)}));var a={};return r.forEachNode((function(t){a[t]=o++})),e?{communities:a,count:r.order,deltaComputations:0,dendrogram:null,level:0,modularity:NaN,moves:null,nodesVisited:0,resolution:n.resolution}:a}var s=("undirected"===i?to:eo)(e,r,n),u=s.index;if(!e)return t?void u.assign(n.nodeCommunityAttribute):u.collect();var h={count:u.C,deltaComputations:s.deltaComputations,dendrogram:u.dendrogram,level:u.level,modularity:u.modularity(),moves:s.moves,nodesVisited:s.nodesVisited,resolution:n.resolution};return t?(u.assign(n.nodeCommunityAttribute),h):(h.communities=u.collect(),h)}var no=ro.bind(null,!1,!1);no.assign=ro.bind(null,!0,!1),no.detailed=ro.bind(null,!1,!0),no.defaults=Ji;var io=no,oo={},ao={copyNode:function(t,e,r){return r=Object.assign({},r),t.addNode(e,r)}},so={};function uo(t){this.graph=t,this.stack=new Array(t.order),this.seen=new Set,this.size=0}so.addEdge=function(t,e,r,n,i,o){return e?null==r?t.addUndirectedEdge(n,i,o):t.addUndirectedEdgeWithKey(r,n,i,o):null==r?t.addDirectedEdge(n,i,o):t.addDirectedEdgeWithKey(r,n,i,o)},so.copyEdge=function(t,e,r,n,i,o){return o=Object.assign({},o),e?null==r?t.addUndirectedEdge(n,i,o):t.addUndirectedEdgeWithKey(r,n,i,o):null==r?t.addDirectedEdge(n,i,o):t.addDirectedEdgeWithKey(r,n,i,o)},so.mergeEdge=function(t,e,r,n,i,o){return e?null==r?t.mergeUndirectedEdge(n,i,o):t.mergeUndirectedEdgeWithKey(r,n,i,o):null==r?t.mergeDirectedEdge(n,i,o):t.mergeDirectedEdgeWithKey(r,n,i,o)},so.updateEdge=function(t,e,r,n,i,o){return e?null==r?t.updateUndirectedEdge(n,i,o):t.updateUndirectedEdgeWithKey(r,n,i,o):null==r?t.updateDirectedEdge(n,i,o):t.updateDirectedEdgeWithKey(r,n,i,o)},uo.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order},uo.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size},uo.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,r=this.graph;r.someNode((function(n,i){return e.size===r.order||!e.has(n)&&!!t(n,i)}))},uo.prototype.has=function(t){return this.seen.has(t)},uo.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e!==this.seen.size&&(this.stack[this.size++]=t,!0)},uo.prototype.pushWith=function(t,e){var r=this.seen.size;return this.seen.add(t),r!==this.seen.size&&(this.stack[this.size++]=e,!0)},uo.prototype.pop=function(){if(0!==this.size)return this.stack[--this.size]};var ho=uo,co=i,lo=ao.copyNode,fo=so.copyEdge,go=ho;function po(t,e){if(!co(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(t.order){var r=new go(t),n=r.push.bind(r);r.forEachNodeYetUnseen((function(i){var o,a=[];for(r.push(i);0!==r.size;)o=r.pop(),a.push(o),t.forEachNeighbor(o,n);e(a)}))}}function yo(t,e){if(!co(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(t.order){var r=new go(t),n=r.push.bind(r);r.forEachNodeYetUnseen((function(i){var o,a=0;for(r.push(i);0!==r.size;)o=r.pop(),a++,t.forEachNeighbor(o,n);e(a)}))}}function vo(t){if(!co(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];var e,r=new go(t),n=r.push.bind(r),i=[];return r.forEachNodeYetUnseen((function(o){var a;for(e=[],r.push(o);0!==r.size;)a=r.pop(),e.push(a),t.forEachNeighbor(a,n);return e.length>i.length&&(i=e),i.length>r.countUnseenNodes()})),i}oo.forEachConnectedComponent=po,oo.forEachConnectedComponentOrder=yo,oo.forEachConnectedComponentOrderWithEdgeFilter=function(t,e,r){if(!co(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(t.order){var n,i=new go(t);i.forEachNodeYetUnseen((function(e){var a=0;for(i.push(e);0!==i.size;)n=i.pop(),a++,t.forEachEdge(n,o);r(a)}))}function o(t,r,o,a,s,u,h){n===a&&(a=o),e(t,r,o,a,s,u,h)&&i.push(a)}},oo.countConnectedComponents=function(t){var e=0;return yo(t,(function(){e++})),e},oo.connectedComponents=function(t){var e=[];return po(t,(function(t){e.push(t)})),e},oo.largestConnectedComponent=vo,oo.largestConnectedComponentSubgraph=function(t){var e=vo(t),r=t.nullCopy();return e.forEach((function(e){lo(r,e,t.getNodeAttributes(e))})),t.forEachEdge((function(t,e,n,i,o,a,s){r.hasNode(n)&&fo(r,s,t,n,i,e)})),r},oo.cropToLargestConnectedComponent=function(t){var e=new Set(vo(t));t.forEachNode((function(r){e.has(r)||t.dropNode(r)}))},oo.stronglyConnectedComponents=function(t){if(!co(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];if("undirected"===t.type)throw new Error("graphology-components: the given graph is undirected");var e,r,n=t.nodes(),i=[];if(!t.size){for(e=0,r=n.length;e<r;e++)i.push([n[e]]);return i}var o,a,s,u=1,h=[],d=[],c=new Map,l=new Set,f=function(e){var r,n,s=t.outboundNeighbors(e);c.set(e,u++),h.push(e),d.push(e);for(var g=0,p=s.length;g<p;g++)if(r=s[g],c.has(r)){if(n=c.get(r),!l.has(r))for(;c.get(h[h.length-1])>n;)h.pop()}else f(r);if(c.get(h[h.length-1])===c.get(e)){o=[];do{a=d.pop(),o.push(a),l.add(a)}while(a!==e);i.push(o),h.pop()}};for(e=0,r=n.length;e<r;e++)s=n[e],l.has(s)||f(s);return i};var mo=oo,bo={},wo={},Eo=o,Ao=o,xo=function(t,e){if(!Ao(t))throw new Error("graphology-generators/classic/empty: invalid Graph constructor.");var r,n=new t;for(r=0;r<e;r++)n.addNode(r);return n},zo=o,Mo=o;wo.complete=function(t,e){if(!Eo(t))throw new Error("graphology-generators/classic/complete: invalid Graph constructor.");var r,n,i=new t;for(r=0;r<e;r++)i.addNode(r);for(r=0;r<e;r++)for(n=r+1;n<e;n++)"directed"!==i.type&&i.addUndirectedEdge(r,n),"undirected"!==i.type&&(i.addDirectedEdge(r,n),i.addDirectedEdge(n,r));return i},wo.empty=xo,wo.ladder=function(t,e){if(!zo(t))throw new Error("graphology-generators/classic/ladder: invalid Graph constructor.");var r,n=new t;for(r=0;r<e-1;r++)n.mergeEdge(r,r+1);for(r=e;r<2*e-1;r++)n.mergeEdge(r,r+1);for(r=0;r<e;r++)n.addEdge(r,r+e);return n},wo.path=function(t,e){if(!Mo(t))throw new Error("graphology-generators/classic/path: invalid Graph constructor.");for(var r=new t,n=0;n<e-1;n++)r.mergeEdge(n,n+1);return r};var Do={},So=o,No=xo,ko=o,Co=xo;Do.caveman=function(t,e,r){if(!So(t))throw new Error("graphology-generators/community/caveman: invalid Graph constructor.");var n,i,o,a=e*r,s=No(t,a);if(r<2)return s;for(n=0;n<a;n+=r)for(i=n;i<n+r;i++)for(o=i+1;o<n+r;o++)s.addEdge(i,o);return s},Do.connectedCaveman=function(t,e,r){if(!ko(t))throw new Error("graphology-generators/community/connected-caveman: invalid Graph constructor.");var n,i,o,a=e*r,s=Co(t,a);if(r<2)return s;for(n=0;n<a;n+=r){for(i=n;i<n+r;i++)for(o=i+1;o<n+r;o++)i===n&&i===o-1||s.addEdge(i,o);n>0&&s.addEdge(n,(n-1)%a)}return s.addEdge(0,a-1),s};var Oo={},Wo=o,jo={},_o=i,Po=i,Uo=function(t){if(!_o(t))throw new Error("graphology-metrics/simple-size: the given graph is not a valid graphology instance.");if(!t.multi)return t.size;var e=0,r=0;function n(){e++}function i(){r++}return t.forEachNode((function(e){"directed"!==t.type&&t.forEachUndirectedNeighbor(e,n),"undirected"!==t.type&&t.forEachOutNeighbor(e,i)})),e/2+r};function Io(t,e){return 2*e/(t*(t-1))}function Fo(t,e){return e/(t*(t-1))}function To(t,e){var r=t*(t-1);return e/(r+r/2)}function Lo(t,e,r){var n,i;if(arguments.length>3){if(i=arguments[3],"number"!=typeof(n=r)||n<0)throw new Error("graphology-metrics/density: given order is not a valid number.");if("number"!=typeof i||i<0)throw new Error("graphology-metrics/density: given size is not a valid number.")}else{if(!Po(r))throw new Error("graphology-metrics/density: given graph is not a valid graphology instance.");n=r.order,i=r.size,r.multi&&!1===e&&(i=Uo(r))}return n<2?0:(null===t&&(t=r.type),null===e&&(e=r.multi),("undirected"===t?Io:"directed"===t?Fo:To)(n,i))}jo.abstractDensity=Lo,jo.density=Lo.bind(null,null,null),jo.directedDensity=Lo.bind(null,"directed",!1),jo.undirectedDensity=Lo.bind(null,"undirected",!1),jo.mixedDensity=Lo.bind(null,"mixed",!1),jo.multiDirectedDensity=Lo.bind(null,"directed",!0),jo.multiUndirectedDensity=Lo.bind(null,"undirected",!0),jo.multiMixedDensity=Lo.bind(null,"mixed",!0);var Ro=o,Go=jo.abstractDensity;function qo(t,e){if(!Ro(t))throw new Error("graphology-generators/random/erdos-renyi: invalid Graph constructor.");var r,n,i=e.order,o=e.probability,a=e.rng||Math.random,s=new t;if("number"==typeof e.approximateSize&&(o=Go(s.type,!1,i,e.approximateSize)),"number"!=typeof i||i<=0)throw new Error("graphology-generators/random/erdos-renyi: invalid `order`. Should be a positive number.");if("number"!=typeof o||o<0||o>1)throw new Error("graphology-generators/random/erdos-renyi: invalid `probability`. Should be a number between 0 and 1. Or maybe you gave an `approximateSize` exceeding the graph's density.");if("function"!=typeof a)throw new Error("graphology-generators/random/erdos-renyi: invalid `rng`. Should be a function.");for(r=0;r<i;r++)s.addNode(r);if(o<=0)return s;for(r=0;r<i;r++)for(n=r+1;n<i;n++)"directed"!==s.type&&a()<o&&s.addUndirectedEdge(r,n),"undirected"!==s.type&&(a()<o&&s.addDirectedEdge(r,n),a()<o&&s.addDirectedEdge(n,r));return s}qo.sparse=function(t,e){if(!Ro(t))throw new Error("graphology-generators/random/erdos-renyi: invalid Graph constructor.");var r=e.order,n=e.probability,i=e.rng||Math.random,o=new t;if("number"==typeof e.approximateSize&&(n=Go(o.type,!1,r,e.approximateSize)),"number"!=typeof r||r<=0)throw new Error("graphology-generators/random/erdos-renyi: invalid `order`. Should be a positive number.");if("number"!=typeof n||n<0||n>1)throw new Error("graphology-generators/random/erdos-renyi: invalid `probability`. Should be a number between 0 and 1. Or maybe you gave an `approximateSize` exceeding the graph's density.");if("function"!=typeof i)throw new Error("graphology-generators/random/erdos-renyi: invalid `rng`. Should be a function.");for(var a=0;a<r;a++)o.addNode(a);if(n<=0)return o;var s,u=-1,h=Math.log(1-n);if("undirected"!==o.type)for(s=0;s<r;){for(s===(u+=1+(Math.log(1-i())/h|0))&&u++;s<r&&r<=u;)++s===(u-=r)&&u++;s<r&&o.addDirectedEdge(s,u)}if(u=-1,"directed"!==o.type)for(s=1;s<r;){for(u+=1+(Math.log(1-i())/h|0);u>=s&&s<r;)u-=s,s++;s<r&&o.addUndirectedEdge(s,u)}return o};var Bo=qo,Ho=o;Oo.clusters=function(t,e){if(!Wo(t))throw new Error("graphology-generators/random/clusters: invalid Graph constructor.");var r="clusterDensity"in(e=e||{})?e.clusterDensity:.5,n=e.rng||Math.random,i=e.order,o=e.size,a=e.clusters;if("number"!=typeof r||r>1||r<0)throw new Error("graphology-generators/random/clusters: `clusterDensity` option should be a number between 0 and 1.");if("function"!=typeof n)throw new Error("graphology-generators/random/clusters: `rng` option should be a function.");if("number"!=typeof i||i<=0)throw new Error("graphology-generators/random/clusters: `order` option should be a positive number.");if("number"!=typeof o||o<=0)throw new Error("graphology-generators/random/clusters: `size` option should be a positive number.");if("number"!=typeof a||a<=0)throw new Error("graphology-generators/random/clusters: `clusters` option should be a positive number.");var s=new t;if(!i)return s;var u,h,d,c,l,f,g=new Array(a);for(d=0;d<a;d++)g[d]=[];for(d=0;d<i;d++)u=n()*a|0,s.addNode(d,{cluster:u}),g[u].push(d);if(!o)return s;for(d=0;d<o;d++){if(n()<1-r){c=n()*i|0;do{l=n()*i|0}while(c===l)}else{if(!(f=(h=g[u=n()*a|0]).length)||f<2)continue;c=h[n()*f|0];do{l=h[n()*f|0]}while(c===l)}s.multi?s.addEdge(c,l):s.mergeEdge(c,l)}return s},Oo.erdosRenyi=Bo,Oo.girvanNewman=function(t,e){if(!Ho(t))throw new Error("graphology-generators/random/girvan-newman: invalid Graph constructor.");var r=e.zOut,n=e.rng||Math.random;if("number"!=typeof r)throw new Error("graphology-generators/random/girvan-newman: invalid `zOut`. Should be a number.");if("function"!=typeof n)throw new Error("graphology-generators/random/girvan-newman: invalid `rng`. Should be a function.");var i,o,a,s=r/96,u=(16-96*s)/31,h=new t;for(o=0;o<128;o++)h.addNode(o);for(o=0;o<128;o++)for(a=o+1;a<128;a++)i=n(),o%4==a%4?i<u&&h.addEdge(o,a):i<s&&h.addEdge(o,a);return h};var Vo={},Yo=function(t,e){if(0!==e.length){var r,n,i,o=e[0];for(t.mergeNode(o),n=1,i=e.length;n<i;n++)r=e[n],t.mergeEdge(o,r)}},Ko=o,$o=Yo,Xo=[["Andre","Beverley","Carol","Diane","Fernando"],["Beverley","Andre","Ed","Garth"],["Carol","Andre","Diane","Fernando"],["Diane","Andre","Beverley","Carol","Ed","Fernando","Garth"],["Ed","Beverley","Diane","Garth"],["Fernando","Andre","Carol","Diane","Garth","Heather"],["Garth","Beverley","Diane","Ed","Fernando","Heather"],["Heather","Fernando","Garth","Ike"],["Ike","Heather","Jane"],["Jane","Ike"]];Vo.krackhardtKite=function(t){if(!Ko(t))throw new Error("graphology-generators/social/krackhardt-kite: invalid Graph constructor.");var e,r,n=new t;for(e=0,r=Xo.length;e<r;e++)$o(n,Xo[e]);return n};var Jo={},Qo=o,Zo=[["Acciaiuoli","Medici"],["Castellani","Peruzzi"],["Castellani","Strozzi"],["Castellani","Barbadori"],["Medici","Barbadori"],["Medici","Ridolfi"],["Medici","Tornabuoni"],["Medici","Albizzi"],["Medici","Salviati"],["Salviati","Pazzi"],["Peruzzi","Strozzi"],["Peruzzi","Bischeri"],["Strozzi","Ridolfi"],["Strozzi","Bischeri"],["Ridolfi","Tornabuoni"],["Tornabuoni","Guadagni"],["Albizzi","Ginori"],["Albizzi","Guadagni"],["Bischeri","Guadagni"],["Guadagni","Lamberteschi"]],ta=o,ea=["0111111110111100010101000000000100","1011000100000100010101000000001000","1101000111000100000000000001100010","1110000100001100000000000000000000","1000001000100000000000000000000000","1000001000100000100000000000000000","1000110000000000100000000000000000","1111000000000000000000000000000000","1010000000000000000000000000001011","0010000000000000000000000000000001","1000110000000000000000000000000000","1000000000000000000000000000000000","1001000000000000000000000000000000","1111000000000000000000000000000001","0000000000000000000000000000000011","0000000000000000000000000000000011","0000011000000000000000000000000000","1100000000000000000000000000000000","0000000000000000000000000000000011","1100000000000000000000000000000001","0000000000000000000000000000000011","1100000000000000000000000000000000","0000000000000000000000000000000011","0000000000000000000000000101010011","0000000000000000000000000101000100","0000000000000000000000011000000100","0000000000000000000000000000010001","0010000000000000000000011000000001","0010000000000000000000000000000101","0000000000000000000000010010000011","0100000010000000000000000000000011","1000000000000000000000001100100011","0010000010000011001010110000011101","0000000011000111001110110011111110"],ra=new Set([0,1,2,3,4,5,6,7,8,10,11,12,13,16,17,19,21]);Jo.florentineFamilies=function(t){if(!Qo(t))throw new Error("graphology-generators/social/florentine-families: invalid Graph constructor.");var e,r,n,i=new t;for(r=0,n=Zo.length;r<n;r++)e=Zo[r],i.mergeEdge(e[0],e[1]);return i},Jo.karateClub=function(t){if(!ta(t))throw new Error("graphology-generators/social/karate: invalid Graph constructor.");for(var e,r,n,i,o,a,s=new t,u=0;u<34;u++)e=ra.has(u)?"Mr. Hi":"Officer",s.addNode(u,{club:e});for(n=0,o=ea.length;n<o;n++)for(i=n+1,a=(r=ea[n].split("")).length;i<a;i++)+r[i]&&s.addEdgeWithKey(n+"->"+i,n,i);return s},bo.classic=wo,bo.community=Do,bo.random=Oo,bo.small=Vo,bo.social=Jo;var na=bo,ia={};function oa(t){return function(e,r){return e+Math.floor(t()*(r-e+1))}}var aa=oa(Math.random);aa.createRandom=oa;var sa=aa.createRandom;function ua(t){var e=sa(t);return function(t){for(var r=t.length,n=r-1,i=-1;++i<r;){var o=e(i,n),a=t[o];t[o]=t[i],t[i]=a}}}var ha=ua(Math.random);ha.createShuffleInPlace=ua;var da=E,ca=i,la=ha,fa={attributes:{x:"x",y:"y"},center:0,hierarchyAttributes:[],rng:Math.random,scale:1};function ga(t,e,r,n,i){this.wrappedCircle=i||null,this.children={},this.countChildren=0,this.id=t||null,this.next=null,this.previous=null,this.x=e||null,this.y=r||null,this.r=i?1010101:n||999}function pa(t,e,r){for(var n in e.children){var i=e.children[n];i.hasChildren()?pa(t,i,r):r[i.id]={x:i.x,y:i.y}}}function ya(t,e){var r=t.r-e.r,n=e.x-t.x,i=e.y-t.y;return r<0||r*r<n*n+i*i}function va(t,e){var r=t.r-e.r+1e-6,n=e.x-t.x,i=e.y-t.y;return r>0&&r*r>n*n+i*i}function ma(t,e){for(var r=0;r<e.length;++r)if(!va(t,e[r]))return!1;return!0}function ba(t,e){var r=t.x,n=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-r,h=a-n,d=s-i,c=Math.sqrt(u*u+h*h);return new ga(null,(r+o+u/c*d)/2,(n+a+h/c*d)/2,(c+i+s)/2)}function wa(t,e,r){var n=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,h=r.x,d=r.y,c=r.r,l=n-a,f=n-h,g=i-s,p=i-d,y=u-o,v=c-o,m=n*n+i*i-o*o,b=m-a*a-s*s+u*u,w=m-h*h-d*d+c*c,E=f*g-l*p,A=(g*w-p*b)/(2*E)-n,x=(p*y-g*v)/E,z=(f*b-l*w)/(2*E)-i,M=(l*v-f*y)/E,D=x*x+M*M-1,S=2*(o+A*x+z*M),N=A*A+z*z-o*o,k=-(D?(S+Math.sqrt(S*S-4*D*N))/(2*D):N/S);return new ga(null,n+A+x*k,i+z+M*k,k)}function Ea(t){switch(t.length){case 1:return new ga(null,(e=t[0]).x,e.y,e.r);case 2:return ba(t[0],t[1]);case 3:return wa(t[0],t[1],t[2]);default:throw new Error("graphology-layout/circlepack: Invalid basis length "+t.length)}var e}function Aa(t,e){var r,n;if(ma(e,t))return[e];for(r=0;r<t.length;++r)if(ya(e,t[r])&&ma(ba(t[r],e),t))return[t[r],e];for(r=0;r<t.length-1;++r)for(n=r+1;n<t.length;++n)if(ya(ba(t[r],t[n]),e)&&ya(ba(t[r],e),t[n])&&ya(ba(t[n],e),t[r])&&ma(wa(t[r],t[n],e),t))return[t[r],t[n],e];throw new Error("graphology-layout/circlepack: extendBasis failure !")}function xa(t){var e=t.wrappedCircle,r=t.next.wrappedCircle,n=e.r+r.r,i=(e.x*r.r+r.x*e.r)/n,o=(e.y*r.r+r.y*e.r)/n;return i*i+o*o}function za(t,e,r){var n,i,o,a,s=t.x-e.x,u=t.y-e.y,h=s*s+u*u;h?(i=e.r+r.r,i*=i,a=t.r+r.r,i>(a*=a)?(n=(h+a-i)/(2*h),o=Math.sqrt(Math.max(0,a/h-n*n)),r.x=t.x-n*s-o*u,r.y=t.y-n*u+o*s):(n=(h+i-a)/(2*h),o=Math.sqrt(Math.max(0,i/h-n*n)),r.x=e.x+n*s-o*u,r.y=e.y+n*u+o*s)):(r.x=e.x+r.r,r.y=e.y)}function Ma(t,e){var r=t.r+e.r-1e-6,n=e.x-t.x,i=e.y-t.y;return r>0&&r*r>n*n+i*i}function Da(t,e){var r,n,i,o,a,s,u,h,d,c,l=t.length;if(0===l)return 0;if((r=t[0]).x=0,r.y=0,l<=1)return r.r;if(n=t[1],r.x=-n.r,n.x=r.r,n.y=0,l<=2)return r.r+n.r;za(n,r,i=t[2]),r=new ga(null,null,null,null,r),n=new ga(null,null,null,null,n),i=new ga(null,null,null,null,i),r.next=i.previous=n,n.next=r.previous=i,i.next=n.previous=r;t:for(s=3;s<l;++s){i=t[s],za(r.wrappedCircle,n.wrappedCircle,i),i=new ga(null,null,null,null,i),u=n.next,h=r.previous,d=n.wrappedCircle.r,c=r.wrappedCircle.r;do{if(d<=c){if(Ma(u.wrappedCircle,i.wrappedCircle)){n=u,r.next=n,n.previous=r,--s;continue t}d+=u.wrappedCircle.r,u=u.next}else{if(Ma(h.wrappedCircle,i.wrappedCircle)){(r=h).next=n,n.previous=r,--s;continue t}c+=h.wrappedCircle.r,h=h.previous}}while(u!==h.next);for(i.previous=r,i.next=n,r.next=n.previous=n=i,o=xa(r);(i=i.next)!==n;)(a=xa(i))<o&&(r=i,o=a);n=r.next}r=[n.wrappedCircle],i=n;for(var f=1e4;(i=i.next)!==n&&0!=--f;)r.push(i.wrappedCircle);for(i=function(t,e){var r,n,i=0,o=t.slice(),a=t.length,s=[];for(e(o);i<a;)r=o[i],n&&va(n,r)?++i:(n=Ea(s=Aa(s,r)),i=0);return n}(r,e),s=0;s<l;++s)(r=t[s]).x-=i.x,r.y-=i.y;return i.r}function Sa(t,e){var r=0;if(t.hasChildren()){for(var n in t.children){var i=t.children[n];i.hasChildren()&&(i.r=Sa(i,e))}r=Da(Object.values(t.children),e)}return r}function Na(t,e){for(var r in Sa(t,e),t.children){t.children[r].applyPositionToChildren()}}function ka(t,e,r){if(!ca(e))throw new Error("graphology-layout/circlepack: the given graph is not a valid graphology instance.");r=da(r,fa);var n={},i={},o=e.nodes(),a=r.center,s=r.hierarchyAttributes,u=la.createShuffleInPlace(r.rng),h=r.scale,d=new ga;e.forEachNode((function(t,e){var r=new ga(t,null,null,e.size?e.size:1),n=d;s.forEach((function(t){var r=e[t];n=n.getChild(r)})),n.addChild(t,r)})),Na(d,u),pa(e,d,n);var c,l,f,g=o.length;for(f=0;f<g;f++){var p=o[f];c=a+h*n[p].x,l=a+h*n[p].y,i[p]={x:c,y:l},t&&(e.setNodeAttribute(p,r.attributes.x,c),e.setNodeAttribute(p,r.attributes.y,l))}return i}ga.prototype.hasChildren=function(){return this.countChildren>0},ga.prototype.addChild=function(t,e){this.children[t]=e,++this.countChildren},ga.prototype.getChild=function(t){if(!this.children.hasOwnProperty(t)){var e=new ga;this.children[t]=e,++this.countChildren}return this.children[t]},ga.prototype.applyPositionToChildren=function(){if(this.hasChildren()){var t=this;for(var e in t.children){var r=t.children[e];r.x+=t.x,r.y+=t.y,r.applyPositionToChildren()}}};var Ca=ka.bind(null,!1);Ca.assign=ka.bind(null,!0);var Oa=Ca,Wa=E,ja=i,_a={dimensions:["x","y"],center:.5,scale:1};function Pa(t,e,r){if(!ja(e))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");var n=(r=Wa(r,_a)).dimensions;if(!Array.isArray(n)||2!==n.length)throw new Error("graphology-layout/random: given dimensions are invalid.");var i=r.center,o=r.scale,a=2*Math.PI,s=(i-.5)*o,u=e.order,h=n[0],d=n[1];function c(t,e){return e[h]=o*Math.cos(t*a/u)+s,e[d]=o*Math.sin(t*a/u)+s,e}var l=0;if(!t){var f={};return e.forEachNode((function(t){f[t]=c(l++,{})})),f}e.updateEachNodeAttributes((function(t,e){return c(l++,e),e}),{attributes:n})}var Ua=Pa.bind(null,!1);Ua.assign=Pa.bind(null,!0);var Ia=Ua,Fa=E,Ta=i,La={dimensions:["x","y"],center:.5,rng:Math.random,scale:1};function Ra(t,e,r){if(!Ta(e))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");var n=(r=Fa(r,La)).dimensions;if(!Array.isArray(n)||n.length<1)throw new Error("graphology-layout/random: given dimensions are invalid.");var i=n.length,o=r.center,a=r.rng,s=r.scale,u=(o-.5)*s;function h(t){for(var e=0;e<i;e++)t[n[e]]=a()*s+u;return t}if(!t){var d={};return e.forEachNode((function(t){d[t]=h({})})),d}e.updateEachNodeAttributes((function(t,e){return h(e),e}),{attributes:n})}var Ga=Ra.bind(null,!1);Ga.assign=Ra.bind(null,!0);var qa=Ga,Ba=E,Ha=i,Va=Math.PI/180,Ya={dimensions:["x","y"],centeredOnZero:!1,degrees:!1};function Ka(t,e,r,n){if(!Ha(e))throw new Error("graphology-layout/rotation: the given graph is not a valid graphology instance.");(n=Ba(n,Ya)).degrees&&(r*=Va);var i=n.dimensions;if(!Array.isArray(i)||2!==i.length)throw new Error("graphology-layout/random: given dimensions are invalid.");if(0===e.order){if(t)return;return{}}var o=i[0],a=i[1],s=0,u=0;if(!n.centeredOnZero){var h=1/0,d=-1/0,c=1/0,l=-1/0;e.forEachNode((function(t,e){var r=e[o],n=e[a];r<h&&(h=r),r>d&&(d=r),n<c&&(c=n),n>l&&(l=n)})),s=(h+d)/2,u=(c+l)/2}var f=Math.cos(r),g=Math.sin(r);function p(t){var e=t[o],r=t[a];return t[o]=s+(e-s)*f-(r-u)*g,t[a]=u+(e-s)*g+(r-u)*f,t}if(!t){var y={};return e.forEachNode((function(t,e){var r={};r[o]=e[o],r[a]=e[a],y[t]=p(r)})),y}e.updateEachNodeAttributes((function(t,e){return p(e),e}),{attributes:i})}var $a=Ka.bind(null,!1);$a.assign=Ka.bind(null,!0);var Xa=$a;ia.circlepack=Oa,ia.circular=Ia,ia.random=qa,ia.rotation=Xa;var Ja=ia,Qa=ia,Za=10,ts={};ts.assign=function(t){t=t||{};var e,r,n,i=Array.prototype.slice.call(arguments).slice(1);for(e=0,n=i.length;e<n;e++)if(i[e])for(r in i[e])t[r]=i[e][r];return t},ts.validateSettings=function(t){return"linLogMode"in t&&"boolean"!=typeof t.linLogMode?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in t&&"boolean"!=typeof t.outboundAttractionDistribution?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in t&&"boolean"!=typeof t.adjustSizes?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in t&&"number"!=typeof t.edgeWeightInfluence?{message:"the `edgeWeightInfluence` setting should be a number."}:!("scalingRatio"in t)||"number"==typeof t.scalingRatio&&t.scalingRatio>=0?"strongGravityMode"in t&&"boolean"!=typeof t.strongGravityMode?{message:"the `strongGravityMode` setting should be a boolean."}:!("gravity"in t)||"number"==typeof t.gravity&&t.gravity>=0?"slowDown"in t&&!("number"==typeof t.slowDown||t.slowDown>=0)?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in t&&"boolean"!=typeof t.barnesHutOptimize?{message:"the `barnesHutOptimize` setting should be a boolean."}:!("barnesHutTheta"in t)||"number"==typeof t.barnesHutTheta&&t.barnesHutTheta>=0?null:{message:"the `barnesHutTheta` setting should be a number >= 0."}:{message:"the `gravity` setting should be a number >= 0."}:{message:"the `scalingRatio` setting should be a number >= 0."}},ts.graphToByteArrays=function(t,e){var r,n=t.order,i=t.size,o={},a=new Float32Array(10*n),s=new Float32Array(3*i);return r=0,t.forEachNode((function(t,e){o[t]=r,a[r]=e.x,a[r+1]=e.y,a[r+2]=0,a[r+3]=0,a[r+4]=0,a[r+5]=0,a[r+6]=1,a[r+7]=1,a[r+8]=e.size||1,a[r+9]=e.fixed?1:0,r+=10})),r=0,t.forEachEdge((function(t,n,i,u,h,d,c){var l=o[i],f=o[u],g=e(t,n,i,u,h,d,c);a[l+6]+=g,a[f+6]+=g,s[r]=l,s[r+1]=f,s[r+2]=g,r+=3})),{nodes:a,edges:s}},ts.assignLayoutChanges=function(t,e,r){var n=0;t.updateEachNodeAttributes((function(t,i){return i.x=e[n],i.y=e[n+1],n+=10,r?r(t,i):i}))},ts.readGraphPositions=function(t,e){var r=0;t.forEachNode((function(t,n){e[r]=n.x,e[r+1]=n.y,r+=10}))},ts.collectLayoutChanges=function(t,e,r){for(var n=t.nodes(),i={},o=0,a=0,s=e.length;o<s;o+=10){if(r){var u=Object.assign({},t.getNodeAttributes(n[a]));u.x=e[o],u.y=e[o+1],u=r(n[a],u),i[n[a]]={x:u.x,y:u.y}}else i[n[a]]={x:e[o],y:e[o+1]};a++}return i},ts.createWorker=function(t){var e=window.URL||window.webkitURL,r=t.toString(),n=e.createObjectURL(new Blob(["("+r+").call(this);"],{type:"text/javascript"})),i=new Worker(n);return e.revokeObjectURL(n),i};var es={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:1,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5},rs=i,ns=Wi.createEdgeWeightGetter,is=function(t,e,r){var n,i,o,a,s,u,h,d,c,l,f,g,p,y,v,m,b,w,E,A,x,z,M,D=e.length,S=r.length,N=t.adjustSizes,k=t.barnesHutTheta*t.barnesHutTheta,C=[];for(o=0;o<D;o+=Za)e[o+4]=e[o+2],e[o+5]=e[o+3],e[o+2]=0,e[o+3]=0;if(t.outboundAttractionDistribution){for(f=0,o=0;o<D;o+=Za)f+=e[o+6];f/=D/Za}if(t.barnesHutOptimize){var O,W,j,_=1/0,P=-1/0,U=1/0,I=-1/0;for(o=0;o<D;o+=Za)_=Math.min(_,e[o+0]),P=Math.max(P,e[o+0]),U=Math.min(U,e[o+1]),I=Math.max(I,e[o+1]);var F=P-_,T=I-U;for(F>T?I=(U-=(F-T)/2)+F:P=(_-=(T-F)/2)+T,C[0]=-1,C[1]=(_+P)/2,C[2]=(U+I)/2,C[3]=Math.max(P-_,I-U),C[4]=-1,C[5]=-1,C[6]=0,C[7]=0,C[8]=0,n=1,o=0;o<D;o+=Za)for(i=0,j=3;;){if(!(C[i+5]>=0)){if(C[i+0]<0){C[i+0]=o;break}if(C[i+5]=9*n,d=C[i+3]/2,C[(c=C[i+5])+0]=-1,C[c+1]=C[i+1]-d,C[c+2]=C[i+2]-d,C[c+3]=d,C[c+4]=c+9,C[c+5]=-1,C[c+6]=0,C[c+7]=0,C[c+8]=0,C[(c+=9)+0]=-1,C[c+1]=C[i+1]-d,C[c+2]=C[i+2]+d,C[c+3]=d,C[c+4]=c+9,C[c+5]=-1,C[c+6]=0,C[c+7]=0,C[c+8]=0,C[(c+=9)+0]=-1,C[c+1]=C[i+1]+d,C[c+2]=C[i+2]-d,C[c+3]=d,C[c+4]=c+9,C[c+5]=-1,C[c+6]=0,C[c+7]=0,C[c+8]=0,C[(c+=9)+0]=-1,C[c+1]=C[i+1]+d,C[c+2]=C[i+2]+d,C[c+3]=d,C[c+4]=C[i+4],C[c+5]=-1,C[c+6]=0,C[c+7]=0,C[c+8]=0,n+=4,O=e[C[i+0]+0]<C[i+1]?e[C[i+0]+1]<C[i+2]?C[i+5]:C[i+5]+9:e[C[i+0]+1]<C[i+2]?C[i+5]+18:C[i+5]+27,C[i+6]=e[C[i+0]+6],C[i+7]=e[C[i+0]+0],C[i+8]=e[C[i+0]+1],C[O+0]=C[i+0],C[i+0]=-1,O===(W=e[o+0]<C[i+1]?e[o+1]<C[i+2]?C[i+5]:C[i+5]+9:e[o+1]<C[i+2]?C[i+5]+18:C[i+5]+27)){if(j--){i=O;continue}j=3;break}C[W+0]=o;break}O=e[o+0]<C[i+1]?e[o+1]<C[i+2]?C[i+5]:C[i+5]+9:e[o+1]<C[i+2]?C[i+5]+18:C[i+5]+27,C[i+7]=(C[i+7]*C[i+6]+e[o+0]*e[o+6])/(C[i+6]+e[o+6]),C[i+8]=(C[i+8]*C[i+6]+e[o+1]*e[o+6])/(C[i+6]+e[o+6]),C[i+6]+=e[o+6],i=O}}if(t.barnesHutOptimize){for(g=t.scalingRatio,o=0;o<D;o+=Za)for(i=0;;)if(C[i+5]>=0){if(m=Math.pow(e[o+0]-C[i+7],2)+Math.pow(e[o+1]-C[i+8],2),4*(l=C[i+3])*l/m<k){if(p=e[o+0]-C[i+7],y=e[o+1]-C[i+8],!0===N?m>0?(b=g*e[o+6]*C[i+6]/m,e[o+2]+=p*b,e[o+3]+=y*b):m<0&&(b=-g*e[o+6]*C[i+6]/Math.sqrt(m),e[o+2]+=p*b,e[o+3]+=y*b):m>0&&(b=g*e[o+6]*C[i+6]/m,e[o+2]+=p*b,e[o+3]+=y*b),(i=C[i+4])<0)break;continue}i=C[i+5]}else if((u=C[i+0])>=0&&u!==o&&(m=(p=e[o+0]-e[u+0])*p+(y=e[o+1]-e[u+1])*y,!0===N?m>0?(b=g*e[o+6]*e[u+6]/m,e[o+2]+=p*b,e[o+3]+=y*b):m<0&&(b=-g*e[o+6]*e[u+6]/Math.sqrt(m),e[o+2]+=p*b,e[o+3]+=y*b):m>0&&(b=g*e[o+6]*e[u+6]/m,e[o+2]+=p*b,e[o+3]+=y*b)),(i=C[i+4])<0)break}else for(g=t.scalingRatio,a=0;a<D;a+=Za)for(s=0;s<a;s+=Za)p=e[a+0]-e[s+0],y=e[a+1]-e[s+1],!0===N?(m=Math.sqrt(p*p+y*y)-e[a+8]-e[s+8])>0?(b=g*e[a+6]*e[s+6]/m/m,e[a+2]+=p*b,e[a+3]+=y*b,e[s+2]-=p*b,e[s+3]-=y*b):m<0&&(b=100*g*e[a+6]*e[s+6],e[a+2]+=p*b,e[a+3]+=y*b,e[s+2]-=p*b,e[s+3]-=y*b):(m=Math.sqrt(p*p+y*y))>0&&(b=g*e[a+6]*e[s+6]/m/m,e[a+2]+=p*b,e[a+3]+=y*b,e[s+2]-=p*b,e[s+3]-=y*b);for(c=t.gravity/t.scalingRatio,g=t.scalingRatio,o=0;o<D;o+=Za)b=0,p=e[o+0],y=e[o+1],m=Math.sqrt(Math.pow(p,2)+Math.pow(y,2)),t.strongGravityMode?m>0&&(b=g*e[o+6]*c):m>0&&(b=g*e[o+6]*c/m),e[o+2]-=p*b,e[o+3]-=y*b;for(g=1*(t.outboundAttractionDistribution?f:1),h=0;h<S;h+=3)a=r[h+0],s=r[h+1],d=r[h+2],v=Math.pow(d,t.edgeWeightInfluence),p=e[a+0]-e[s+0],y=e[a+1]-e[s+1],!0===N?(m=Math.sqrt(p*p+y*y)-e[a+8]-e[s+8],t.linLogMode?t.outboundAttractionDistribution?m>0&&(b=-g*v*Math.log(1+m)/m/e[a+6]):m>0&&(b=-g*v*Math.log(1+m)/m):t.outboundAttractionDistribution?m>0&&(b=-g*v/e[a+6]):m>0&&(b=-g*v)):(m=Math.sqrt(Math.pow(p,2)+Math.pow(y,2)),t.linLogMode?t.outboundAttractionDistribution?m>0&&(b=-g*v*Math.log(1+m)/m/e[a+6]):m>0&&(b=-g*v*Math.log(1+m)/m):t.outboundAttractionDistribution?(m=1,b=-g*v/e[a+6]):(m=1,b=-g*v)),m>0&&(e[a+2]+=p*b,e[a+3]+=y*b,e[s+2]-=p*b,e[s+3]-=y*b);if(!0===N)for(o=0;o<D;o+=Za)1!==e[o+9]&&((w=Math.sqrt(Math.pow(e[o+2],2)+Math.pow(e[o+3],2)))>10&&(e[o+2]=10*e[o+2]/w,e[o+3]=10*e[o+3]/w),E=e[o+6]*Math.sqrt((e[o+4]-e[o+2])*(e[o+4]-e[o+2])+(e[o+5]-e[o+3])*(e[o+5]-e[o+3])),A=Math.sqrt((e[o+4]+e[o+2])*(e[o+4]+e[o+2])+(e[o+5]+e[o+3])*(e[o+5]+e[o+3]))/2,x=.1*Math.log(1+A)/(1+Math.sqrt(E)),z=e[o+0]+e[o+2]*(x/t.slowDown),e[o+0]=z,M=e[o+1]+e[o+3]*(x/t.slowDown),e[o+1]=M);else for(o=0;o<D;o+=Za)1!==e[o+9]&&(E=e[o+6]*Math.sqrt((e[o+4]-e[o+2])*(e[o+4]-e[o+2])+(e[o+5]-e[o+3])*(e[o+5]-e[o+3])),A=Math.sqrt((e[o+4]+e[o+2])*(e[o+4]+e[o+2])+(e[o+5]+e[o+3])*(e[o+5]+e[o+3]))/2,x=e[o+7]*Math.log(1+A)/(1+Math.sqrt(E)),e[o+7]=Math.min(1,Math.sqrt(x*(Math.pow(e[o+2],2)+Math.pow(e[o+3],2))/(1+Math.sqrt(E)))),z=e[o+0]+e[o+2]*(x/t.slowDown),e[o+0]=z,M=e[o+1]+e[o+3]*(x/t.slowDown),e[o+1]=M);return{}},os=ts,as=es;function ss(t,e,r){if(!rs(e))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");"number"==typeof r&&(r={iterations:r});var n=r.iterations;if("number"!=typeof n)throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(n<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var i=ns("getEdgeWeight"in r?r.getEdgeWeight:"weight").fromEntry,o="function"==typeof r.outputReducer?r.outputReducer:null,a=os.assign({},as,r.settings),s=os.validateSettings(a);if(s)throw new Error("graphology-layout-forceatlas2: "+s.message);var u,h=os.graphToByteArrays(e,i);for(u=0;u<n;u++)is(a,h.nodes,h.edges);if(!t)return os.collectLayoutChanges(e,h.nodes);os.assignLayoutChanges(e,h.nodes,o)}var us=ss.bind(null,!1);us.assign=ss.bind(null,!0),us.inferSettings=function(t){var e="number"==typeof t?t:t.order;return{barnesHutOptimize:e>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(e)}};var hs=us;function ds(){return.01*(.5-Math.random())}var cs={};cs.validateSettings=function(t){return"gridSize"in t&&"number"!=typeof t.gridSize||t.gridSize<=0?{message:"the `gridSize` setting should be a positive number."}:"margin"in t&&"number"!=typeof t.margin||t.margin<0?{message:"the `margin` setting should be 0 or a positive number."}:"expansion"in t&&"number"!=typeof t.expansion||t.expansion<=0?{message:"the `expansion` setting should be a positive number."}:"ratio"in t&&"number"!=typeof t.ratio||t.ratio<=0?{message:"the `ratio` setting should be a positive number."}:"speed"in t&&"number"!=typeof t.speed||t.speed<=0?{message:"the `speed` setting should be a positive number."}:null},cs.graphToByteArray=function(t,e){var r=t.order,n=new Float32Array(3*r),i=0;return t.forEachNode((function(t,r){"function"==typeof e&&(r=e(t,r)),n[i]=r.x,n[i+1]=r.y,n[i+2]=r.size||1,i+=3})),n},cs.assignLayoutChanges=function(t,e,r){var n=0;t.forEachNode((function(i){var o={x:e[n],y:e[n+1]};"function"==typeof r&&(o=r(i,o)),t.mergeNodeAttributes(i,o),n+=3}))},cs.collectLayoutChanges=function(t,e,r){var n={},i=0;return t.forEachNode((function(t){var o={x:e[i],y:e[i+1]};"function"==typeof r&&(o=r(t,o)),n[t]=o,i+=3})),n},cs.createWorker=function(t){var e=window.URL||window.webkitURL,r=t.toString(),n=e.createObjectURL(new Blob(["("+r+").call(this);"],{type:"text/javascript"})),i=new Worker(n);return e.revokeObjectURL(n),i};var ls={gridSize:20,margin:5,expansion:1.1,ratio:1,speed:3},fs=i,gs=function(t,e){var r,n,i,o,a,s,u=t.margin,h=t.ratio,d=t.expansion,c=t.gridSize,l=t.speed,f=!0,g=e.length,p=g/3|0,y=new Float32Array(p),v=new Float32Array(p),m=1/0,b=1/0,w=-1/0,E=-1/0;for(r=0;r<g;r+=3)i=e[r+0],o=e[r+1],s=e[r+2]*h+u,m=Math.min(m,i-s),w=Math.max(w,i+s),b=Math.min(b,o-s),E=Math.max(E,o+s);var A=w-m,x=E-b,z=(m+w)/2,M=(b+E)/2;m=z-d*A/2,w=z+d*A/2,b=M-d*x/2,E=M+d*x/2;var D,S,N,k,C,O,W,j,_,P,U,I,F=new Array(c*c),T=F.length;for(D=0;D<T;D++)F[D]=[];for(r=0;r<g;r+=3)for(i=e[r+0],o=e[r+1],S=i-(s=e[r+2]*h+u),N=i+s,k=o-s,C=o+s,O=Math.floor(c*(S-m)/(w-m)),W=Math.floor(c*(N-m)/(w-m)),j=Math.floor(c*(k-b)/(E-b)),_=Math.floor(c*(C-b)/(E-b)),P=O;P<=W;P++)for(U=j;U<=_;U++)F[P*c+U].push(r);var L,R,G,q,B,H,V,Y,K,$,X,J,Q=new Set;for(D=0;D<T;D++)for(r=0,a=(I=F[D]).length;r<a;r++)for(G=e[(L=I[r])+0],B=e[L+1],V=e[L+2],n=r+1;n<a;n++)R=I[n],K=L+""+R,T>1&&Q.has(K)||(T>1&&Q.add(K),q=e[R+0],H=e[R+1],Y=e[R+2],$=q-G,X=H-B,(J=Math.sqrt($*$+X*X))<V*h+u+(Y*h+u)&&(f=!1,R=R/3|0,J>0?(y[R]+=$/J*(1+V),v[R]+=X/J*(1+V)):(y[R]+=A*ds(),v[R]+=x*ds())));for(r=0,n=0;r<g;r+=3,n++)e[r+0]+=.1*y[n]*l,e[r+1]+=.1*v[n]*l;return{converged:f}},ps=cs,ys=ls;function vs(t,e,r){if(!fs(e))throw new Error("graphology-layout-noverlap: the given graph is not a valid graphology instance.");var n=(r="number"==typeof r?{maxIterations:r}:r||{}).maxIterations||500;if("number"!=typeof n||n<=0)throw new Error("graphology-layout-force: you should provide a positive number of maximum iterations.");var i=Object.assign({},ys,r.settings),o=ps.validateSettings(i);if(o)throw new Error("graphology-layout-noverlap: "+o.message);var a,s=ps.graphToByteArray(e,r.inputReducer),u=!1;for(a=0;a<n&&!u;a++)u=gs(i,s).converged;if(!t)return ps.collectLayoutChanges(e,s,r.outputReducer);ps.assignLayoutChanges(e,s,r.outputReducer)}var ms=vs.bind(null,!1);ms.assign=vs.bind(null,!0);var bs=ms,ws={},Es={},As={},xs=i;function zs(t,e,r,n){var i=e+"Centrality";if(!xs(r))throw new Error("graphology-centrality/"+i+": the given graph is not a valid graphology instance.");if("degree"!==e&&"undirected"===r.type)throw new Error("graphology-centrality/"+i+": cannot compute "+e+" centrality on an undirected graph.");var o=(n=n||{}).nodeCentralityAttribute||i,a=r.order-1,s=r[e].bind(r);if(!t){var u={};return r.forEachNode((function(t){u[t]=s(t)/a})),u}r.updateEachNodeAttributes((function(t,e){return e[o]=s(t)/a,e}),{attributes:[o]})}var Ms=zs.bind(null,!1,"degree"),Ds=zs.bind(null,!1,"inDegree"),Ss=zs.bind(null,!1,"outDegree");Ms.assign=zs.bind(null,!0,"degree"),Ds.assign=zs.bind(null,!0,"inDegree"),Ss.assign=zs.bind(null,!0,"outDegree"),As.degreeCentrality=Ms,As.inDegreeCentrality=Ds,As.outDegreeCentrality=Ss;var Ns={},ks={},Cs={};Cs.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,Cs.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var Os=Cs,Ws=Os.ARRAY_BUFFER_SUPPORT,js=Os.SYMBOL_SUPPORT,_s=function(t,e){var r,n,i,o,a;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof e)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||Ws&&ArrayBuffer.isView(t)||"string"==typeof t||"[object Arguments]"===t.toString())for(i=0,o=t.length;i<o;i++)e(t[i],i);else if("function"!=typeof t.forEach)if(js&&Symbol.iterator in t&&"function"!=typeof t.next&&(t=t[Symbol.iterator]()),"function"!=typeof t.next)for(n in t)t.hasOwnProperty(n)&&e(t[n],n);else for(r=t,i=0;!0!==(a=r.next()).done;)e(a.value,i),i++;else t.forEach(e)},Ps=_s,Us=bi;function Is(t){return"number"==typeof t.length?t.length:"number"==typeof t.size?t.size:void 0}ks.isArrayLike=function(t){return Array.isArray(t)||Us.isTypedArray(t)},ks.guessLength=Is,ks.toArray=function(t){var e=Is(t),r="number"==typeof e?new Array(e):[],n=0;return Ps(t,(function(t){r[n++]=t})),r},ks.toArrayWithIndices=function(t){var e=Is(t),r="number"==typeof e?Us.getPointerArray(e):Array,n="number"==typeof e?new Array(e):[],i="number"==typeof e?new r(e):[],o=0;return Ps(t,(function(t){n[o]=t,i[o]=o++})),[n,i]};var Fs=ks,Ts=mi;function Ls(t,e){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if("number"!=typeof e||e<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=t,this.capacity=e,this.items=new t(this.capacity),this.clear()}Ls.prototype.clear=function(){this.start=0,this.size=0},Ls.prototype.push=function(t){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");var e=(this.start+this.size)%this.capacity;return this.items[e]=t,++this.size},Ls.prototype.unshift=function(t){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var e=this.start-1;return 0===this.start&&(e=this.capacity-1),this.items[e]=t,this.start=e,++this.size},Ls.prototype.pop=function(){if(0===this.size)return;const t=(this.start+this.size-1)%this.capacity;return this.size--,this.items[t]},Ls.prototype.shift=function(){if(0!==this.size){var t=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[t]}},Ls.prototype.peekFirst=function(){if(0!==this.size)return this.items[this.start]},Ls.prototype.peekLast=function(){if(0!==this.size){var t=this.start+this.size-1;return t>this.capacity&&(t-=this.capacity),this.items[t]}},Ls.prototype.get=function(t){if(0!==this.size)return(t=this.start+t)>this.capacity&&(t-=this.capacity),this.items[t]},Ls.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=this.capacity,n=this.size,i=this.start,o=0;o<n;)t.call(e,this.items[i],o,this),o++,++i===r&&(i=0)},Ls.prototype.toArray=function(){var t=this.start+this.size;if(t<this.capacity)return this.items.slice(this.start,t);for(var e=new this.ArrayClass(this.size),r=this.capacity,n=this.size,i=this.start,o=0;o<n;)e[o]=this.items[i],o++,++i===r&&(i=0);return e},Ls.prototype.values=function(){var t=this.items,e=this.capacity,r=this.size,n=this.start,i=0;return new Ts((function(){if(i>=r)return{done:!0};var o=t[n];return n++,i++,n===e&&(n=0),{value:o,done:!1}}))},Ls.prototype.entries=function(){var t=this.items,e=this.capacity,r=this.size,n=this.start,i=0;return new Ts((function(){if(i>=r)return{done:!0};var o=t[n];return++n===e&&(n=0),{value:[i++,o],done:!1}}))},"undefined"!=typeof Symbol&&(Ls.prototype[Symbol.iterator]=Ls.prototype.values),Ls.prototype.inspect=function(){var t=this.toArray();return t.type=this.ArrayClass.name,t.capacity=this.capacity,Object.defineProperty(t,"constructor",{value:Ls,enumerable:!1}),t},"undefined"!=typeof Symbol&&(Ls.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ls.prototype.inspect),Ls.from=function(t,e,r){if(arguments.length<3&&"number"!=typeof(r=Fs.guessLength(t)))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var n=new Ls(e,r);if(Fs.isArrayLike(t)){var i,o;for(i=0,o=t.length;i<o;i++)n.items[i]=t[i];return n.size=o,n}return Fs.forEach(t,(function(t){n.push(t)})),n};var Rs=Ls,Gs=mi,qs=ks;function Bs(t,e){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if("number"!=typeof e||e<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=e,this.ArrayClass=t,this.items=new this.ArrayClass(this.capacity),this.clear()}Bs.prototype.clear=function(){this.size=0},Bs.prototype.push=function(t){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=t,this.size},Bs.prototype.pop=function(){if(0!==this.size)return this.items[--this.size]},Bs.prototype.peek=function(){return this.items[this.size-1]},Bs.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,n=this.items.length;r<n;r++)t.call(e,this.items[n-r-1],r,this)},Bs.prototype.toArray=function(){for(var t=new this.ArrayClass(this.size),e=this.size-1,r=this.size;r--;)t[r]=this.items[e-r];return t},Bs.prototype.values=function(){var t=this.items,e=this.size,r=0;return new Gs((function(){if(r>=e)return{done:!0};var n=t[e-r-1];return r++,{value:n,done:!1}}))},Bs.prototype.entries=function(){var t=this.items,e=this.size,r=0;return new Gs((function(){if(r>=e)return{done:!0};var n=t[e-r-1];return{value:[r++,n],done:!1}}))},"undefined"!=typeof Symbol&&(Bs.prototype[Symbol.iterator]=Bs.prototype.values),Bs.prototype.toString=function(){return this.toArray().join(",")},Bs.prototype.toJSON=function(){return this.toArray()},Bs.prototype.inspect=function(){var t=this.toArray();return t.type=this.ArrayClass.name,t.capacity=this.capacity,Object.defineProperty(t,"constructor",{value:Bs,enumerable:!1}),t},"undefined"!=typeof Symbol&&(Bs.prototype[Symbol.for("nodejs.util.inspect.custom")]=Bs.prototype.inspect),Bs.from=function(t,e,r){if(arguments.length<3&&"number"!=typeof(r=qs.guessLength(t)))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var n=new Bs(e,r);if(qs.isArrayLike(t)){var i,o;for(i=0,o=t.length;i<o;i++)n.items[i]=t[i];return n.size=o,n}return qs.forEach(t,(function(t){n.push(t)})),n};var Hs=Bs,Vs={};Vs.DEFAULT_COMPARATOR=function(t,e){return t<e?-1:t>e?1:0},Vs.DEFAULT_REVERSE_COMPARATOR=function(t,e){return t<e?1:t>e?-1:0},Vs.reverseComparator=function(t){return function(e,r){return t(r,e)}},Vs.createTupleComparator=function(t){return 2===t?function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:t[1]<e[1]?-1:t[1]>e[1]?1:0}:function(e,r){for(var n=0;n<t;){if(e[n]<r[n])return-1;if(e[n]>r[n])return 1;n++}return 0}};var Ys=_s,Ks=Vs,$s=ks,Xs=Ks.DEFAULT_COMPARATOR,Js=Ks.reverseComparator;function Qs(t,e,r,n){for(var i,o,a=e[n];n>r&&t(a,o=e[i=n-1>>1])<0;)e[n]=o,n=i;e[n]=a}function Zs(t,e,r){for(var n,i=e.length,o=r,a=e[r],s=2*r+1;s<i;)(n=s+1)<i&&t(e[s],e[n])>=0&&(s=n),e[r]=e[s],s=2*(r=s)+1;e[r]=a,Qs(t,e,o,r)}function tu(t,e,r){e.push(r),Qs(t,e,0,e.length-1)}function eu(t,e){var r=e.pop();if(0!==e.length){var n=e[0];return e[0]=r,Zs(t,e,0),n}return r}function ru(t,e,r){if(0===e.length)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var n=e[0];return e[0]=r,Zs(t,e,0),n}function nu(t,e,r){var n;return 0!==e.length&&t(e[0],r)<0&&(n=e[0],e[0]=r,r=n,Zs(t,e,0)),r}function iu(t,e){for(var r=e.length>>1;--r>=0;)Zs(t,e,r)}function ou(t,e){for(var r=e.length,n=0,i=new Array(r);n<r;)i[n++]=eu(t,e);return i}function au(t){if(this.clear(),this.comparator=t||Xs,"function"!=typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function su(t){if(this.clear(),this.comparator=t||Xs,"function"!=typeof this.comparator)throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=Js(this.comparator)}au.prototype.clear=function(){this.items=[],this.size=0},au.prototype.push=function(t){return tu(this.comparator,this.items,t),++this.size},au.prototype.peek=function(){return this.items[0]},au.prototype.pop=function(){return 0!==this.size&&this.size--,eu(this.comparator,this.items)},au.prototype.replace=function(t){return ru(this.comparator,this.items,t)},au.prototype.pushpop=function(t){return nu(this.comparator,this.items,t)},au.prototype.consume=function(){return this.size=0,ou(this.comparator,this.items)},au.prototype.toArray=function(){return ou(this.comparator,this.items.slice())},au.prototype.inspect=function(){var t=this.toArray();return Object.defineProperty(t,"constructor",{value:au,enumerable:!1}),t},"undefined"!=typeof Symbol&&(au.prototype[Symbol.for("nodejs.util.inspect.custom")]=au.prototype.inspect),su.prototype=au.prototype,au.from=function(t,e){var r,n=new au(e);return r=$s.isArrayLike(t)?t.slice():$s.toArray(t),iu(n.comparator,r),n.items=r,n.size=r.length,n},su.from=function(t,e){var r,n=new su(e);return r=$s.isArrayLike(t)?t.slice():$s.toArray(t),iu(n.comparator,r),n.items=r,n.size=r.length,n},au.siftUp=Zs,au.siftDown=Qs,au.push=tu,au.pop=eu,au.replace=ru,au.pushpop=nu,au.heapify=iu,au.consume=ou,au.nsmallest=function(t,e,r){2===arguments.length&&(r=e,e=t,t=Xs);var n,i,o,a,s=Js(t),u=1/0;if(1===e){if($s.isArrayLike(r)){for(n=0,i=r.length;n<i;n++)o=r[n],(u===1/0||t(o,u)<0)&&(u=o);return(a=new r.constructor(1))[0]=u,a}return Ys(r,(function(e){(u===1/0||t(e,u)<0)&&(u=e)})),[u]}if($s.isArrayLike(r)){if(e>=r.length)return r.slice().sort(t);for(a=r.slice(0,e),iu(s,a),n=e,i=r.length;n<i;n++)s(r[n],a[0])>0&&ru(s,a,r[n]);return a.sort(t)}var h=$s.guessLength(r);return null!==h&&h<e&&(e=h),a=new Array(e),n=0,Ys(r,(function(t){n<e?a[n]=t:(n===e&&iu(s,a),s(t,a[0])>0&&ru(s,a,t)),n++})),a.length>n&&(a.length=n),a.sort(t)},au.nlargest=function(t,e,r){2===arguments.length&&(r=e,e=t,t=Xs);var n,i,o,a,s=Js(t),u=-1/0;if(1===e){if($s.isArrayLike(r)){for(n=0,i=r.length;n<i;n++)o=r[n],(u===-1/0||t(o,u)>0)&&(u=o);return(a=new r.constructor(1))[0]=u,a}return Ys(r,(function(e){(u===-1/0||t(e,u)>0)&&(u=e)})),[u]}if($s.isArrayLike(r)){if(e>=r.length)return r.slice().sort(s);for(a=r.slice(0,e),iu(t,a),n=e,i=r.length;n<i;n++)t(r[n],a[0])>0&&ru(t,a,r[n]);return a.sort(s)}var h=$s.guessLength(r);return null!==h&&h<e&&(e=h),a=new Array(e),n=0,Ys(r,(function(r){n<e?a[n]=r:(n===e&&iu(t,a),t(r,a[0])>0&&ru(t,a,r)),n++})),a.length>n&&(a.length=n),a.sort(s)},au.MinHeap=au,au.MaxHeap=su;var uu=au,hu={},du=bi,cu=Wi.createEdgeWeightGetter;function lu(t,e){return"outbound"===t||"inbound"===t?e.directedSize+2*e.undirectedSize:"in"===t||"out"===t||"directed"===t?e.directedSize:2*e.undirectedSize}function fu(t,e){var r=t[(e=e||"outbound")+"Neighbors"].bind(t),n=lu(e,t),i=du.getPointerArray(n),o=du.getPointerArray(t.order);this.graph=t,this.neighborhood=new o(n),this.starts=new i(t.order+1),this.nodes=t.nodes();var a,s,u,h,d,c={},l=0;for(a=0,s=t.order;a<s;a++)c[this.nodes[a]]=a;for(a=0,s=t.order;a<s;a++)for(d=r(this.nodes[a]),this.starts[a]=l,u=0,h=d.length;u<h;u++)this.neighborhood[l++]=c[d[u]];this.starts[a]=n}function gu(t,e,r){var n=t[(r=r||"outbound")+"Edges"].bind(t),i=lu(r,t),o=du.getPointerArray(i),a=du.getPointerArray(t.order),s=cu(e).fromMinimalEntry;this.graph=t,this.neighborhood=new a(i),this.weights=new Float64Array(i),this.outDegrees=new Float64Array(t.order),this.starts=new o(t.order+1),this.nodes=t.nodes();var u,h,d,c,l,f,g,p,y,v={},m=0;for(u=0,h=t.order;u<h;u++)v[this.nodes[u]]=u;for(u=0,h=t.order;u<h;u++)for(g=n(l=this.nodes[u]),this.starts[u]=m,d=0,c=g.length;d<c;d++)p=g[d],f=t.opposite(l,p),y=s(p,t.getEdgeAttributes(p)),this.neighborhood[m]=v[f],this.weights[m++]=y,this.outDegrees[u]+=y;this.starts[u]=i}fu.prototype.bounds=function(t){return[this.starts[t],this.starts[t+1]]},fu.prototype.project=function(){var t=this,e={};return t.nodes.forEach((function(r,n){e[r]=Array.from(t.neighborhood.slice(t.starts[n],t.starts[n+1])).map((function(e){return t.nodes[e]}))})),e},fu.prototype.collect=function(t){var e,r,n={};for(e=0,r=t.length;e<r;e++)n[this.nodes[e]]=t[e];return n},fu.prototype.assign=function(t,e){var r=0;this.graph.updateEachNodeAttributes((function(n,i){return i[t]=e[r++],i}),{attributes:[t]})},hu.NeighborhoodIndex=fu,gu.prototype.bounds=fu.prototype.bounds,gu.prototype.project=fu.prototype.project,gu.prototype.collect=fu.prototype.collect,gu.prototype.assign=fu.prototype.assign,hu.WeightedNeighborhoodIndex=gu;var pu=Rs,yu=Hs,vu=uu,mu=bi,bu=hu,wu=bu.NeighborhoodIndex,Eu=bu.WeightedNeighborhoodIndex;function Au(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1]>e[1]?1:t[1]<e[1]?-1:t[2]>e[2]?1:t[2]<e[2]?-1:t[3]>e[3]?1:t[3]<e[3]?-1:0}Ns.createUnweightedIndexedBrandes=function(t){var e=new wu(t),r=e.neighborhood,n=e.starts,i=t.order,o=new yu(mu.getPointerArray(i),i),a=new Uint32Array(i),s=new Array(i),u=new Int32Array(i),h=new pu(Uint32Array,i),d=function(t){var e,d,c,l,f,g,p;for(g=0;g<i;g++)s[g]=[],a[g]=0,u[g]=-1;for(a[t]=1,u[t]=0,h.push(t);0!==h.size;)for(g=h.shift(),o.push(g),e=u[g],d=a[g],c=n[g],l=n[g+1],f=c;f<l;f++)p=r[f],-1===u[p]&&(h.push(p),u[p]=e+1),u[p]===e+1&&(a[p]+=d,s[p].push(g));return[o,s,a]};return d.index=e,d},Ns.createDijkstraIndexedBrandes=function(t,e){var r=new Eu(t,e||"weight"),n=r.neighborhood,i=r.weights,o=r.starts,a=t.order,s=new yu(mu.getPointerArray(a),a),u=new Uint32Array(a),h=new Array(a),d=new Float64Array(a),c=new Float64Array(a),l=new vu(Au),f=function(t){var e,r,f,g,p,y,v,m,b,w=0;for(m=0;m<a;m++)h[m]=[],u[m]=0,d[m]=-1,c[m]=-1;for(u[t]=1,c[t]=0,l.push([0,w++,t,t]);0!==l.size;)if(g=(f=l.pop())[0],p=f[2],m=f[3],-1===d[m])for(s.push(m),d[m]=g,u[m]+=u[p],e=o[m],r=o[m+1],v=e;v<r;v++)b=n[v],y=g+i[v],-1===d[b]&&(-1===c[b]||y<c[b])?(c[b]=y,l.push([y,w++,m,b]),u[b]=0,h[b]=[m]):y===c[b]&&(u[b]+=u[m],h[b].push(m));return[s,h,u]};return f.index=r,f};var xu=i,zu=Ns,Mu=E,Du=zu.createUnweightedIndexedBrandes,Su=zu.createDijkstraIndexedBrandes,Nu={nodeCentralityAttribute:"betweennessCentrality",getEdgeWeight:"weight",normalized:!0};function ku(t,e,r){if(!xu(e))throw new Error("graphology-centrality/beetweenness-centrality: the given graph is not a valid graphology instance.");var n,i,o,a,s,u,h,d,c,l,f=(r=Mu(r,Nu)).nodeCentralityAttribute,g=r.normalized,p=r.getEdgeWeight?Su(e,r.getEdgeWeight):Du(e),y=e.order,v=new Float64Array(y),m=new Float64Array(y);for(u=0;u<y;u++){for(i=(n=p(u))[0],o=n[1],a=n[2],h=i.size;h--;)v[i.items[i.size-h]]=0;for(;0!==i.size;){for(s=(1+v[l=i.pop()])/a[l],h=0,d=o[l].length;h<d;h++)v[c=o[l][h]]+=a[c]*s;l!==u&&(m[l]+=v[l])}}var b=null;if(null!==(b=g?y<=2?null:1/((y-1)*(y-2)):"undirected"===e.type?.5:null))for(u=0;u<y;u++)m[u]*=b;return t?p.index.assign(f,m):p.index.collect(m)}var Cu=ku.bind(null,!1);Cu.assign=ku.bind(null,!0);var Ou=Cu,Wu=mi,ju=bi.getPointerArray;function _u(t){var e=ju(t);this.size=0,this.length=t,this.dense=new e(t),this.sparse=new e(t)}_u.prototype.clear=function(){this.size=0},_u.prototype.has=function(t){var e=this.sparse[t];return e<this.size&&this.dense[e]===t},_u.prototype.add=function(t){var e=this.sparse[t];return e<this.size&&this.dense[e]===t||(this.dense[this.size]=t,this.sparse[t]=this.size,this.size++),this},_u.prototype.delete=function(t){var e=this.sparse[t];return!(e>=this.size||this.dense[e]!==t)&&(e=this.dense[this.size-1],this.dense[this.sparse[t]]=e,this.sparse[e]=this.sparse[t],this.size--,!0)},_u.prototype.forEach=function(t,e){var r;e=arguments.length>1?e:this;for(var n=0;n<this.size;n++)r=this.dense[n],t.call(e,r,r)},_u.prototype.values=function(){var t=this.size,e=this.dense,r=0;return new Wu((function(){if(r<t){var n=e[r];return r++,{value:n}}return{done:!0}}))},"undefined"!=typeof Symbol&&(_u.prototype[Symbol.iterator]=_u.prototype.values),_u.prototype.inspect=function(){for(var t=new Set,e=0;e<this.size;e++)t.add(this.dense[e]);return Object.defineProperty(t,"constructor",{value:_u,enumerable:!1}),t.length=this.length,t},"undefined"!=typeof Symbol&&(_u.prototype[Symbol.for("nodejs.util.inspect.custom")]=_u.prototype.inspect);var Pu=i,Uu=E,Iu=Rs,Fu=_u,Tu=hu.NeighborhoodIndex,Lu={nodeCentralityAttribute:"closenessCentrality",wassermanFaust:!1};function Ru(t){this.index=new Tu(t,"inbound"),this.queue=new Iu(Array,t.order),this.seen=new Fu(t.order)}function Gu(t,e,r){if(!Pu(e))throw new Error("graphology-metrics/centrality/closeness: the given graph is not a valid graphology instance.");var n,i,o,a,s,u=(r=Uu(r,Lu)).wassermanFaust,h=new Ru(e),d=e.order,c=new Float64Array(d);for(n=0;n<d;n++)o=(i=h.fromNode(n))[0],s=0,(a=i[1])>0&&d>1&&(s=o/a,u&&(s*=o/(d-1))),c[n]=s;return t?h.index.assign(r.nodeCentralityAttribute,c):h.index.collect(c)}Ru.prototype.fromNode=function(t){var e,r,n,i,o,a,s=this.index,u=this.queue,h=this.seen;h.clear(),u.clear(),h.add(t),u.push([t,0]);for(var d=0,c=0;0!==u.size;)for(r=(e=u.shift())[0],0!==(n=e[1])&&(d+=n,c+=1),o=s.starts[r+1],i=s.starts[r];i<o;i++)a=s.neighborhood[i],h.has(a)||(h.add(a),u.push([a,n+1]));return[c,d]};var qu=Gu.bind(null,!1);qu.assign=Gu.bind(null,!0);var Bu=qu,Hu=i,Vu=E,Yu=hu.WeightedNeighborhoodIndex,Ku={nodeCentralityAttribute:"eigenvectorCentrality",getEdgeWeight:"weight",maxIterations:100,tolerance:1e-6};function $u(t){for(var e=0,r=0,n=0,i=t.length;n<i;n++){var o=Math.abs(t[n]);o>e&&(r*=e/o*(e/o),e=o),r+=0===o&&0===e?0:o/e*(o/e)}return e===1/0?1:e*Math.sqrt(r)}function Xu(t,e,r){if(!Hu(e))throw new Error("graphology-metrics/centrality/eigenvector: the given graph is not a valid graphology instance.");var n,i,o,a,s=(r=Vu(r,Ku)).maxIterations,u=r.tolerance,h=e.order,d=new Yu(e,r.getEdgeWeight),c=new Float64Array(e.order);for(n=0;n<h;n++)c[n]=1/h;for(var l,f,g,p=0,y=0,v=!1;p<s;){for(f=c,c=new Float64Array(f),n=0;n<h;n++)for(o=d.starts[n+1],i=d.starts[n];i<o;i++)l=d.neighborhood[i],a=d.weights[i],c[l]+=f[n]*a;for(g=$u(c),n=0;n<h;n++)c[n]/=g;for(y=0,n=0;n<h;n++)y+=Math.abs(c[n]-f[n]);if(y<h*u){v=!0;break}p++}if(!v)throw Error("graphology-metrics/centrality/eigenvector: failed to converge.");if(!t)return d.collect(c);d.assign(r.nodeCentralityAttribute,c)}var Ju=Xu.bind(null,!1);Ju.assign=Xu.bind(null,!0);var Qu=Ju,Zu=E,th=i,eh=Wi.createEdgeWeightGetter,rh={nodeAuthorityAttribute:"authority",nodeHubAttribute:"hub",getEdgeWeight:"weight",maxIterations:100,normalize:!0,tolerance:1e-8};function nh(t,e){var r,n,i=Object.create(null);for(r=0,n=t.length;r<n;r++)i[t[r]]=e;return i}function ih(t){var e=0;for(var r in t)e+=t[r];return e}function oh(t,e,r){if(!th(e))throw new Error("graphology-hits: the given graph is not a valid graphology instance.");if(e.multi)throw new Error("graphology-hits: the HITS algorithm does not work with MultiGraphs.");r=Zu(r,rh);var n,i,o,a,s,u,h,d,c,l,f,g,p,y,v=eh(r.getEdgeWeight).fromEntry,m=e.order,b=e.nodes(),w=nh(b,1/m),E={},A=!1;for(e.forEachEdge((function(t,e,r,n,i,o,a){E[t]=v(t,e,r,n,i,o,a)})),h=0;h<r.maxIterations;h++){for(i=w,w=nh(b,0),o=nh(b,0),c=0,d=0,g=0;g<m;g++)for(a=b[g],p=0,y=(n=e.outboundEdges(a)).length;p<y;p++)u=n[p],s=e.opposite(a,u),o[s]+=i[a]*E[u],o[s]>d&&(d=o[s]);for(g=0;g<m;g++)for(a=b[g],p=0,y=(n=e.outboundEdges(a)).length;p<y;p++)u=n[p],s=e.opposite(a,u),w[a]+=o[s]*E[u],w[s]>c&&(c=w[s]);for(a in f=1/c,w)w[a]*=f;for(a in f=1/d,o)o[a]*=f;for(a in l=0,w)l+=Math.abs(w[a]-i[a]);if(l<r.tolerance){A=!0;break}}if(!A)throw Error("graphology-metrics/centrality/hits: failed to converge.");if(r.normalize){for(a in f=1/ih(o),o)o[a]*=f;for(a in f=1/ih(w),w)w[a]*=f}if(!t)return{hubs:w,authorities:o};e.updateEachNodeAttributes((function(t,e){return e[r.nodeAuthorityAttribute]=o[t],e[r.nodeHubAttribute]=w[t],e}),{attributes:[r.nodeAuthorityAttribute,r.nodeHubAttribute]})}var ah=oh.bind(null,!1);ah.assign=oh.bind(null,!0);var sh=ah,uh=i,hh=E,dh=hu.WeightedNeighborhoodIndex,ch={nodePagerankAttribute:"pagerank",getEdgeWeight:"weight",alpha:.85,maxIterations:100,tolerance:1e-6};function lh(t,e,r){if(!uh(e))throw new Error("graphology-metrics/centrality/pagerank: the given graph is not a valid graphology instance.");var n,i,o,a,s=(r=hh(r,ch)).alpha,u=r.maxIterations,h=r.tolerance,d=r.nodePagerankAttribute,c=e.order,l=1/c,f=new dh(e,r.getEdgeWeight),g=new Float64Array(e.order),p=new Float64Array(f.weights.length),y=[];for(n=0;n<c;n++)for(g[n]=l,o=f.starts[n+1],0===(a=f.outDegrees[n])&&y.push(n),i=f.starts[n];i<o;i++)p[i]=f.weights[i]/a;for(var v,m,b=0,w=0,E=!1;b<u;){for(m=g,g=new Float64Array(e.order),v=0,n=0,o=y.length;n<o;n++)v+=m[y[n]];for(v*=s,n=0;n<c;n++){for(o=f.starts[n+1],i=f.starts[n];i<o;i++)g[f.neighborhood[i]]+=s*m[n]*p[i];g[n]+=v*l+(1-s)*l}for(w=0,n=0;n<c;n++)w+=Math.abs(g[n]-m[n]);if(w<c*h){E=!0;break}b++}if(!E)throw Error("graphology-metrics/centrality/pagerank: failed to converge.");if(!t)return f.collect(g);f.assign(d,g)}var fh=lh.bind(null,!1);fh.assign=lh.bind(null,!0);var gh=fh,ph=As;Es.betweenness=Ou,Es.closeness=Bu,Es.eigenvector=Qu,Es.hits=sh,Es.pagerank=gh,Es.degree=ph.degreeCentrality,Es.inDegree=ph.inDegreeCentrality,Es.outDegree=ph.outDegreeCentrality;var yh={},vh=i,mh=yi,bh=E,wh=Wi.createEdgeWeightGetter,Eh={edgeDisparityAttribute:"disparity",getEdgeWeight:"weight"};function Ah(t,e,r){if(!vh(e))throw new Error("graphology-metrics/edge/disparity: the given graph is not a valid graphology instance.");if(e.multi||"mixed"===mh(e))throw new Error("graphology-metrics/edge/disparity: not defined for multi nor mixed graphs.");r=bh(r,Eh);var n,i,o,a=wh(r.getEdgeWeight).fromEntry,s={};e.forEachNode((function(t){s[t]=0})),e.forEachAssymetricAdjacencyEntry((function(t,e,r,n,i,o,u){var h=a(i,o,t,e,r,n,u);s[t]+=h,s[e]+=h}));var u={};if(e.forEachAssymetricAdjacencyEntry((function(t,r,h,d,c,l,f){var g=a(c,l,t,r,h,d,f);n!==t&&(n=t,i=e.degree(t),o=s[t]);var p=e.degree(r),y=s[r],v=g/o,m=g/y,b=Math.pow(1-v,i-1),w=Math.pow(1-m,p-1);u[c]=Math.min(b,w)})),!t)return u;e.updateEachEdgeAttributes((function(t,e){return e[r.edgeDisparityAttribute]=u[t],e}),{attributes:[r.edgeDisparityAttribute]})}var xh=Ah.bind(null,!1);xh.assign=Ah.bind(null,!0);var zh=xh,Mh={};!function(t){t.intersection=function(){if(arguments.length<2)throw new Error("mnemonist/Set.intersection: needs at least two arguments.");var t,e,r=new Set,n=1/0,i=null,o=arguments.length;for(e=0;e<o;e++){if(0===(t=arguments[e]).size)return r;t.size<n&&(n=t.size,i=t)}for(var a,s,u,h,d=i.values();!(a=d.next()).done;){for(s=a.value,u=!0,e=0;e<o;e++)if((h=arguments[e])!==i&&!h.has(s)){u=!1;break}u&&r.add(s)}return r},t.union=function(){if(arguments.length<2)throw new Error("mnemonist/Set.union: needs at least two arguments.");var t,e,r,n=new Set,i=arguments.length;for(t=0;t<i;t++)for(e=arguments[t].values();!(r=e.next()).done;)n.add(r.value);return n},t.difference=function(t,e){if(!t.size)return new Set;if(!e.size)return new Set(t);for(var r,n=new Set,i=t.values();!(r=i.next()).done;)e.has(r.value)||n.add(r.value);return n},t.symmetricDifference=function(t,e){for(var r,n=new Set,i=t.values();!(r=i.next()).done;)e.has(r.value)||n.add(r.value);for(i=e.values();!(r=i.next()).done;)t.has(r.value)||n.add(r.value);return n},t.isSubset=function(t,e){var r,n=t.values();if(t===e)return!0;if(t.size>e.size)return!1;for(;!(r=n.next()).done;)if(!e.has(r.value))return!1;return!0},t.isSuperset=function(e,r){return t.isSubset(r,e)},t.add=function(t,e){for(var r,n=e.values();!(r=n.next()).done;)t.add(r.value)},t.subtract=function(t,e){for(var r,n=e.values();!(r=n.next()).done;)t.delete(r.value)},t.intersect=function(t,e){for(var r,n=t.values();!(r=n.next()).done;)e.has(r.value)||t.delete(r.value)},t.disjunct=function(t,e){for(var r,n=t.values(),i=[];!(r=n.next()).done;)e.has(r.value)&&i.push(r.value);for(n=e.values();!(r=n.next()).done;)t.has(r.value)||t.add(r.value);for(var o=0,a=i.length;o<a;o++)t.delete(i[o])},t.intersectionSize=function(t,e){var r;if(t.size>e.size&&(r=t,t=e,e=r),0===t.size)return 0;if(t===e)return t.size;for(var n,i=t.values(),o=0;!(n=i.next()).done;)e.has(n.value)&&o++;return o},t.unionSize=function(e,r){var n=t.intersectionSize(e,r);return e.size+r.size-n},t.jaccard=function(e,r){var n=t.intersectionSize(e,r);return 0===n?0:n/(e.size+r.size-n)},t.overlap=function(e,r){var n=t.intersectionSize(e,r);return 0===n?0:n/Math.min(e.size,r.size)}}(Mh);var Dh=i,Sh=Mh.intersectionSize;function Nh(t,e){if(!Dh(e))throw new Error("graphology-metrics/simmelian-strength: given graph is not a valid graphology instance.");var r={};if(e.forEachNode((function(t){r[t]=new Set(e.neighbors(t))})),!t){var n={};return e.forEachEdge((function(t,e,i,o){n[t]=Sh(r[i],r[o])})),n}e.updateEachEdgeAttributes((function(t,e,n,i){return e.simmelianStrength=Sh(r[n],r[i]),e}),{attributes:["simmelianStrength"]})}var kh=Nh.bind(null,!1);kh.assign=Nh.bind(null,!0);var Ch=kh;yh.disparity=zh,yh.simmelianStrength=Ch;var Oh={},Wh={},jh=i,_h=function(t){if(!jh(t))throw new Error("graphology-metrics/simple-size: the given graph is not a valid graphology instance.");if(!t.multi)return t.size;var e=0,r=0;function n(){e++}function i(){r++}return t.forEachNode((function(e){"directed"!==t.type&&t.forEachUndirectedNeighbor(e,n),"undirected"!==t.type&&t.forEachOutNeighbor(e,i)})),e/2+r},Ph=i,Uh=_h;function Ih(t,e){return 2*e/(t*(t-1))}function Fh(t,e){return e/(t*(t-1))}function Th(t,e){var r=t*(t-1);return e/(r+r/2)}function Lh(t,e,r){var n,i;if(arguments.length>3){if(i=arguments[3],"number"!=typeof(n=r)||n<0)throw new Error("graphology-metrics/density: given order is not a valid number.");if("number"!=typeof i||i<0)throw new Error("graphology-metrics/density: given size is not a valid number.")}else{if(!Ph(r))throw new Error("graphology-metrics/density: given graph is not a valid graphology instance.");n=r.order,i=r.size,r.multi&&!1===e&&(i=Uh(r))}return n<2?0:(null===t&&(t=r.type),null===e&&(e=r.multi),("undirected"===t?Ih:"directed"===t?Fh:Th)(n,i))}Wh.abstractDensity=Lh,Wh.density=Lh.bind(null,null,null),Wh.directedDensity=Lh.bind(null,"directed",!1),Wh.undirectedDensity=Lh.bind(null,"undirected",!1),Wh.mixedDensity=Lh.bind(null,"mixed",!1),Wh.multiDirectedDensity=Lh.bind(null,"directed",!0),Wh.multiUndirectedDensity=Lh.bind(null,"undirected",!0),Wh.multiMixedDensity=Lh.bind(null,"mixed",!0);var Rh={},Gh=i;Rh.nodeExtent=function(t,e){if(!Gh(t))throw new Error("graphology-metrics/extent: the given graph is not a valid graphology instance.");var r,n,i,o=[].concat(e),a={};for(i=0;i<o.length;i++)n=o[i],a[n]=[1/0,-1/0];return t.forEachNode((function(t,e){for(i=0;i<o.length;i++)n=o[i],(r=e[n])<a[n][0]&&(a[n][0]=r),r>a[n][1]&&(a[n][1]=r)})),"string"==typeof e?a[e]:a},Rh.edgeExtent=function(t,e){if(!Gh(t))throw new Error("graphology-metrics/extent: the given graph is not a valid graphology instance.");var r,n,i,o=[].concat(e),a={};for(i=0;i<o.length;i++)n=o[i],a[n]=[1/0,-1/0];return t.forEachEdge((function(t,e){for(i=0;i<o.length;i++)n=o[i],(r=e[n])<a[n][0]&&(a[n][0]=r),r>a[n][1]&&(a[n][1]=r)})),"string"==typeof e?a[e]:a};var qh={},Bh=mi,Hh=_s;function Vh(){this.clear()}Vh.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},Vh.prototype.enqueue=function(t){return this.items.push(t),++this.size},Vh.prototype.dequeue=function(){if(this.size){var t=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,t}},Vh.prototype.peek=function(){if(this.size)return this.items[this.offset]},Vh.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=this.offset,n=0,i=this.items.length;r<i;r++,n++)t.call(e,this.items[r],n,this)},Vh.prototype.toArray=function(){return this.items.slice(this.offset)},Vh.prototype.values=function(){var t=this.items,e=this.offset;return new Bh((function(){if(e>=t.length)return{done:!0};var r=t[e];return e++,{value:r,done:!1}}))},Vh.prototype.entries=function(){var t=this.items,e=this.offset,r=0;return new Bh((function(){if(e>=t.length)return{done:!0};var n=t[e];return e++,{value:[r++,n],done:!1}}))},"undefined"!=typeof Symbol&&(Vh.prototype[Symbol.iterator]=Vh.prototype.values),Vh.prototype.toString=function(){return this.toArray().join(",")},Vh.prototype.toJSON=function(){return this.toArray()},Vh.prototype.inspect=function(){var t=this.toArray();return Object.defineProperty(t,"constructor",{value:Vh,enumerable:!1}),t},"undefined"!=typeof Symbol&&(Vh.prototype[Symbol.for("nodejs.util.inspect.custom")]=Vh.prototype.inspect),Vh.from=function(t){var e=new Vh;return Hh(t,(function(t){e.enqueue(t)})),e},Vh.of=function(){return Vh.from(arguments)};var Yh=i,Kh=Vh,$h=function(t,e){var r=e.length;if(0!==r){var n=t.length;t.length+=r;for(var i=0;i<r;i++)t[n+i]=e[i]}};function Xh(t,e,r){if(!Yh(e))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!e.hasNode(r))throw new Error('graphology-shortest-path: the "'+r+'" source node does not exist in the given graph.');r=""+r;var n=new Set,i={},o=0;i[r]=0;for(var a,s,u,h=[r];0!==h.length;){var d=[];for(a=0,s=h.length;a<s;a++)u=h[a],n.has(u)||(n.add(u),$h(d,e[t](u)),i[u]=o);o++,h=d}return i}var Jh=Xh.bind(null,"outboundNeighbors"),Qh=Xh.bind(null,"neighbors");qh.bidirectional=function(t,e,r){if(!Yh(t))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!t.hasNode(e))throw new Error('graphology-shortest-path: the "'+e+'" source node does not exist in the given graph.');if(!t.hasNode(r))throw new Error('graphology-shortest-path: the "'+r+'" target node does not exist in the given graph.');if((e=""+e)===(r=""+r))return[e];var n=t.inboundNeighbors.bind(t),i=t.outboundNeighbors.bind(t),o={},a={};o[e]=null,a[r]=null;var s,u,h,d,c,l,f,g,p=[e],y=[r],v=!1;t:for(;p.length&&y.length;)if(p.length<=y.length){for(s=p,p=[],c=0,f=s.length;c<f;c++)for(l=0,g=(h=i(u=s[c])).length;l<g;l++)if((d=h[l])in o||(p.push(d),o[d]=u),d in a){v=!0;break t}}else for(s=y,y=[],c=0,f=s.length;c<f;c++)for(l=0,g=(h=n(u=s[c])).length;l<g;l++)if((d=h[l])in a||(y.push(d),a[d]=u),d in o){v=!0;break t}if(!v)return null;for(var m=[];d;)m.unshift(d),d=o[d];for(d=a[m[m.length-1]];d;)m.push(d),d=a[d];return m.length?m:null},qh.singleSource=function(t,e){if(!Yh(t))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!t.hasNode(e))throw new Error('graphology-shortest-path: the "'+e+'" source node does not exist in the given graph.');var r,n,i,o,a,s,u={},h={};for(u[e=""+e]=!0,h[e]=[e];Object.keys(u).length;)for(i in r=u,u={},r)for(a=0,s=(n=t.outboundNeighbors(i)).length;a<s;a++)h[o=n[a]]||(h[o]=h[i].concat(o),u[o]=!0);return h},qh.singleSourceLength=Jh,qh.undirectedSingleSourceLength=Qh,qh.brandes=function(t,e){e=""+e;var r,n,i,o,a,s,u,h,d,c=[],l={},f={},g=t.nodes();for(s=0,h=g.length;s<h;s++)l[o=g[s]]=[],f[o]=0;var p={};f[e]=1,p[e]=0;for(var y=Kh.of(e);y.size;)for(o=y.dequeue(),c.push(o),r=p[o],n=f[o],u=0,d=(i=t.outboundNeighbors(o)).length;u<d;u++)(a=i[u])in p||(y.enqueue(a),p[a]=r+1),p[a]===r+1&&(f[a]+=n,l[a].push(o));return[c,l,f]};var Zh=i,td=qh.singleSourceLength,ed=function(t,e){if(!Zh(t))throw new Error("graphology-metrics/eccentricity: given graph is not a valid graphology instance.");if(0===t.size)return 1/0;var r,n,i=-1/0,o=td(t,e),a=0;for(r in o)(n=o[r])>i&&(i=n),a++;return a<t.order?1/0:i},rd=i,nd=ed,id=E,od=i,ad=yi,sd=Wi,ud={getNodeCommunity:"community",getEdgeWeight:"weight",resolution:1};function hd(t,e){var r,n,i,o,a,s,u=e.resolution,h=function(t,e){var r=new Array(t.order),n=new Float64Array(t.order),i={},o=0,a=sd.createEdgeWeightGetter(e.getEdgeWeight).fromEntry,s=sd.createNodeValueGetter(e.getNodeCommunity).fromEntry,u=0,h={};return t.forEachNode((function(t,e){h[t]=u,r[u++]=s(t,e)})),t.forEachUndirectedEdge((function(t,e,r,s,u,d,c){var l=a(t,e,r,s,u,d,c);o+=l,i[t]=l,n[h[r]]+=l,r!==s&&(n[h[s]]+=l)})),{weights:i,communities:r,weightedDegrees:n,M:o}}(t,e),d=h.communities,c=h.weightedDegrees,l=h.M,f=t.nodes(),g=0,p=2*l;for(r=0,i=t.order;r<i;r++)for(n=0;n<i;n++)d[r]===d[n]&&(s=t.undirectedEdge(f[r],f[n]),o=h.weights[s]||0,a=c[r]*c[n],g+=r===n&&void 0!==s?2*(o-a/p*u):o-a/p*u);return g/p}function dd(t,e){var r,n,i,o,a=e.resolution,s=function(t,e){var r=new Array(t.order),n=new Float64Array(t.order),i=new Float64Array(t.order),o={},a=0,s=sd.createEdgeWeightGetter(e.getEdgeWeight).fromEntry,u=sd.createNodeValueGetter(e.getNodeCommunity).fromEntry,h=0,d={};return t.forEachNode((function(t,e){d[t]=h,r[h++]=u(t,e)})),t.forEachDirectedEdge((function(t,e,r,u,h,c,l){var f=s(t,e,r,u,h,c,l);a+=f,o[t]=f,i[d[r]]+=f,n[d[u]]+=f})),{weights:o,communities:r,weightedInDegrees:n,weightedOutDegrees:i,M:a}}(t,e),u=s.communities,h=s.weightedInDegrees,d=s.weightedOutDegrees,c=s.M,l=t.nodes(),f=0;for(r=0,i=t.order;r<i;r++)for(n=0;n<i;n++)u[r]===u[n]&&(o=t.directedEdge(l[r],l[n]),f+=(s.weights[o]||0)-h[r]*d[n]/c*a);return f/c}function cd(t,e){var r=e.resolution,n=function(t,e){var r={},n={},i={},o=sd.createNodeValueGetter(e.getNodeCommunity).fromEntry;return t.forEachNode((function(t,e){var a=o(t,e);if(r[t]=a,void 0===a)throw new Error('graphology-metrics/modularity: the "'+t+'" node is not in the partition.');n[a]=0,i[a]=0})),{communities:r,totalWeights:n,internalWeights:i}}(t,e),i=0,o=n.totalWeights,a=n.internalWeights,s=n.communities,u=sd.createEdgeWeightGetter(e.getEdgeWeight).fromEntry;t.forEachUndirectedEdge((function(t,e,r,n,h,d,c){var l=u(t,e,r,n,h,d,c);i+=l;var f=s[r],g=s[n];o[f]+=l,o[g]+=l,f===g&&(a[f]+=2*l)}));var h=0,d=2*i;for(var c in a)h+=a[c]/d-Math.pow(o[c]/d,2)*r;return h}function ld(t,e){var r=e.resolution,n=function(t,e){var r={},n={},i={},o={},a=sd.createNodeValueGetter(e.getNodeCommunity).fromEntry;return t.forEachNode((function(t,e){var s=a(t,e);if(r[t]=s,void 0===s)throw new Error('graphology-metrics/modularity: the "'+t+'" node is not in the partition.');n[s]=0,i[s]=0,o[s]=0})),{communities:r,totalInWeights:n,totalOutWeights:i,internalWeights:o}}(t,e),i=0,o=n.totalInWeights,a=n.totalOutWeights,s=n.internalWeights,u=n.communities,h=sd.createEdgeWeightGetter(e.getEdgeWeight).fromEntry;t.forEachDirectedEdge((function(t,e,r,n,d,c,l){var f=h(t,e,r,n,d,c,l);i+=f;var g=u[r],p=u[n];a[g]+=f,o[p]+=f,g===p&&(s[g]+=f)}));var d=0;for(var c in s)d+=s[c]/i-o[c]*a[c]/Math.pow(i,2)*r;return d}function fd(t,e){if(!od(t))throw new Error("graphology-metrics/modularity: given graph is not a valid graphology instance.");if(0===t.size)throw new Error("graphology-metrics/modularity: cannot compute modularity of an empty graph.");if(t.multi)throw new Error("graphology-metrics/modularity: cannot compute modularity of a multi graph. Cast it to a simple one beforehand.");var r=ad(t);if("mixed"===r)throw new Error("graphology-metrics/modularity: cannot compute modularity of a mixed graph.");return e=id(e,ud),"directed"===r?ld(t,e):cd(t,e)}var gd=fd;gd.sparse=fd,gd.dense=function(t,e){if(!od(t))throw new Error("graphology-metrics/modularity: given graph is not a valid graphology instance.");if(0===t.size)throw new Error("graphology-metrics/modularity: cannot compute modularity of an empty graph.");if(t.multi)throw new Error("graphology-metrics/modularity: cannot compute modularity of a multi graph. Cast it to a simple one beforehand.");var r=ad(t);if("mixed"===r)throw new Error("graphology-metrics/modularity: cannot compute modularity of a mixed graph.");return e=id(e,ud),"directed"===r?dd(t,e):hd(t,e)},gd.undirectedDelta=function(t,e,r,n){return n/(2*t)-e*r/(t*t*2)},gd.directedDelta=function(t,e,r,n,i,o){return o/t-(i*e+n*r)/(t*t)};var pd=gd,yd=i,vd=Wi.createEdgeWeightGetter,md=Wh,bd=Rh;Oh.diameter=function(t){if(!rd(t))throw new Error("graphology-metrics/diameter: given graph is not a valid graphology instance.");if(0===t.size)return 1/0;var e=-1/0;return t.someNode((function(r){var n=nd(t,r);return n>e&&(e=n),e===1/0})),e},Oh.modularity=pd,Oh.simpleSize=_h,Oh.weightedSize=function(t,e){if(!yd(t))throw new Error("graphology-metrics/weighted-size: the given graph is not a valid graphology instance.");e=vd(e||"weight").fromEntry;var r=0;return t.forEachEdge((function(t,n,i,o,a,s,u){r+=e(t,n,i,o,a,s,u)})),r},Oh.abstractDensity=md.abstractDensity,Oh.density=md.density,Oh.directedDensity=md.directedDensity,Oh.undirectedDensity=md.undirectedDensity,Oh.mixedDensity=md.mixedDensity,Oh.multiDirectedDensity=md.multiDirectedDensity,Oh.multiUndirectedDensity=md.multiUndirectedDensity,Oh.multiMixedDensity=md.multiMixedDensity,Oh.nodeExtent=bd.nodeExtent,Oh.edgeExtent=bd.edgeExtent;var wd={},Ed=i;var Ad=Vs,xd=uu,zd=Ad.DEFAULT_COMPARATOR,Md=Ad.reverseComparator;function Dd(t,e,r,n){for(var i,o=r,a=n,s=e[n],u=2*n+1;u<o;)(i=u+1)<o&&t(e[u],e[i])>=0&&(u=i),e[n]=e[u],u=2*(n=u)+1;e[n]=s,xd.siftDown(t,e,a,n)}function Sd(t,e,r,n){for(var i,o,a=n,s=new t(n);a>0;)i=r[--a],0!==a&&(o=r[0],r[0]=i,Dd(e,r,--n,0),i=o),s[a]=i;return s}function Nd(t,e,r){if(2===arguments.length&&(r=e,e=null),this.ArrayClass=t,this.capacity=r,this.items=new t(r),this.clear(),this.comparator=e||zd,"number"!=typeof r&&r<=0)throw new Error("mnemonist/FixedReverseHeap.constructor: capacity should be a number > 0.");if("function"!=typeof this.comparator)throw new Error("mnemonist/FixedReverseHeap.constructor: given comparator should be a function.");this.comparator=Md(this.comparator)}Nd.prototype.clear=function(){this.size=0},Nd.prototype.push=function(t){return this.size<this.capacity?(this.items[this.size]=t,xd.siftDown(this.comparator,this.items,0,this.size),this.size++):this.comparator(t,this.items[0])>0&&xd.replace(this.comparator,this.items,t),this.size},Nd.prototype.peek=function(){return this.items[0]},Nd.prototype.consume=function(){var t=Sd(this.ArrayClass,this.comparator,this.items,this.size);return this.size=0,t},Nd.prototype.toArray=function(){return Sd(this.ArrayClass,this.comparator,this.items.slice(0,this.size),this.size)},Nd.prototype.inspect=function(){var t=this.toArray();return Object.defineProperty(t,"constructor",{value:Nd,enumerable:!1}),t},"undefined"!=typeof Symbol&&(Nd.prototype[Symbol.for("nodejs.util.inspect.custom")]=Nd.prototype.inspect);var kd=Nd,Cd={},Od=new Float64Array(64),Wd=new Float64Array(64);Cd.inplaceQuickSort=function(t,e,r){var n,i,o,a,s;for(Od[0]=e,Wd[0]=r,i=0;i>=0;)if((o=Od[i])<(a=Wd[i]-1)){for(n=t[o];o<a;){for(;t[a]>=n&&o<a;)a--;for(o<a&&(t[o++]=t[a]);t[o]<=n&&o<a;)o++;o<a&&(t[a--]=t[o])}t[o]=n,Od[i+1]=o+1,Wd[i+1]=Wd[i],Wd[i++]=o,Wd[i]-Od[i]>Wd[i-1]-Od[i-1]&&(s=Od[i],Od[i]=Od[i-1],Od[i-1]=s,s=Wd[i],Wd[i]=Wd[i-1],Wd[i-1]=s)}else i--;return t},Cd.inplaceQuickSortIndices=function(t,e,r,n){var i,o,a,s,u,h;for(Od[0]=r,Wd[0]=n,o=0;o>=0;)if((a=Od[o])<(s=Wd[o]-1)){for(i=t[u=e[a]];a<s;){for(;t[e[s]]>=i&&a<s;)s--;for(a<s&&(e[a++]=e[s]);t[e[a]]<=i&&a<s;)a++;a<s&&(e[s--]=e[a])}e[a]=u,Od[o+1]=a+1,Wd[o+1]=Wd[o],Wd[o++]=a,Wd[o]-Od[o]>Wd[o-1]-Od[o-1]&&(h=Od[o],Od[o]=Od[o-1],Od[o-1]=h,h=Wd[o],Wd[o]=Wd[o-1],Wd[o-1]=h)}else o--;return e};var jd=ks,_d=bi,Pd=Vs.createTupleComparator,Ud=kd,Id=Cd.inplaceQuickSortIndices;function Fd(t,e,r,n){var i,o,a=0;for(i=0;i<t;i++)a+=(o=e[i][r]-n[i])*o;return a}function Td(t,e,r,n){for(var i,o,a,s,u,h,d,c,l=n.length,f=_d.getPointerArray(l+1),g=new f(l),p=new f(l),y=new f(l),v=[[0,0,r.length,-1,0]],m=0;0!==v.length;)c=(i=v.pop())[0],h=i[1],d=i[2],o=i[3],a=i[4],Id(e[c],r,h,d),u=r[s=h+((l=d-h)>>>1)],g[m]=u,o>-1&&(0===a?p[o]=m+1:y[o]=m+1),c=(c+1)%t,s!==h&&s!==d-1&&v.push([c,s+1,d,m,1]),s!==h&&v.push([c,h,s,m,0]),m++;return{axes:e,labels:n,pivots:g,lefts:p,rights:y}}function Ld(t,e){this.dimensions=t,this.visited=0,this.axes=e.axes,this.labels=e.labels,this.pivots=e.pivots,this.lefts=e.lefts,this.rights=e.rights,this.size=this.labels.length}Ld.prototype.nearestNeighbor=function(t){var e=1/0,r=null,n=this.dimensions,i=this.axes,o=this.pivots,a=this.lefts,s=this.rights,u=0;return function h(d,c){u++;var l=a[c],f=s[c],g=o[c],p=Fd(n,i,g,t);if(!(p<e&&(r=g,e=p,0===p))){var y=i[d][g]-t[d];d=(d+1)%n,y>0?0!==l&&h(d,l-1):0!==f&&h(d,f-1),y*y<e&&(y>0?0!==f&&h(d,f-1):0!==l&&h(d,l-1))}}(0,0),this.visited=u,this.labels[r]};var Rd=Pd(3),Gd=Pd(2);Ld.prototype.kNearestNeighbors=function(t,e){if(t<=0)throw new Error("mnemonist/kd-tree.kNearestNeighbors: k should be a positive number.");if(1===(t=Math.min(t,this.size)))return[this.nearestNeighbor(e)];var r=new Ud(Array,Rd,t),n=this.dimensions,i=this.axes,o=this.pivots,a=this.lefts,s=this.rights,u=0;!function h(d,c){var l=a[c],f=s[c],g=o[c],p=Fd(n,i,g,e);r.push([p,u++,g]);var y=e[d],v=i[d][g],m=y-v;d=(d+1)%n,y<v?0!==l&&h(d,l-1):0!==f&&h(d,f-1),(m*m<r.peek()[0]||r.size<t)&&(y<v?0!==f&&h(d,f-1):0!==l&&h(d,l-1))}(0,0),this.visited=u;for(var h=r.consume(),d=0;d<h.length;d++)h[d]=this.labels[h[d][2]];return h},Ld.prototype.linearKNearestNeighbors=function(t,e){if(t<=0)throw new Error("mnemonist/kd-tree.kNearestNeighbors: k should be a positive number.");t=Math.min(t,this.size);var r,n,i,o=new Ud(Array,Gd,t);for(r=0,n=this.size;r<n;r++)i=Fd(this.dimensions,this.axes,this.pivots[r],e),o.push([i,r]);var a=o.consume();for(r=0;r<a.length;r++)a[r]=this.labels[this.pivots[a[r][1]]];return a},Ld.prototype.inspect=function(){var t,e,r,n=new Map;for(n.dimensions=this.dimensions,Object.defineProperty(n,"constructor",{value:Ld,enumerable:!1}),t=0;t<this.size;t++){for(r=new Array(this.dimensions),e=0;e<this.dimensions;e++)r[e]=this.axes[e][t];n.set(this.labels[t],r)}return n},"undefined"!=typeof Symbol&&(Ld.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ld.prototype.inspect),Ld.from=function(t,e){var r=function(t,e){var r,n,i,o,a=e.length,s=new Array(t),u=new Array(a),h=new(_d.getPointerArray(a))(a),d=!0;for(n=0;n<t;n++){for(r=new Float64Array(a),i=0;i<a;i++)o=e[i],r[i]=o[1][n],d&&(u[i]=o[0],h[i]=i);d=!1,s[n]=r}return{axes:s,ids:h,labels:u}}(e,jd.toArray(t));return new Ld(e,Td(e,r.axes,r.ids,r.labels))},Ld.fromAxes=function(t,e){return e||(e=_d.indices(t[0].length)),new Ld(t.length,Td(t.length,t,_d.indices(e.length),e))};var qd=i,Bd=Ld,Hd=Mh.intersectionSize,Vd=i,Yd=qh.undirectedSingleSourceLength;wd.edgeUniformity=function(t){if(!Ed(t))throw new Error("graphology-metrics/layout-quality/edge-uniformity: given graph is not a valid graphology instance.");if(0===t.size)return 0;var e,r=0,n=0,i=new Float64Array(t.size);t.forEachEdge((function(t,e,o,a,s,u){var h,d,c=(h=s,d=u,Math.sqrt(Math.pow(h.x-d.x,2)+Math.pow(h.y-d.y,2)));i[n++]=c,r+=c}));var o=r/t.size,a=0;for(n=0,e=t.size;n<e;n++)a+=Math.pow(o-i[n],2);var s=a/(t.size*Math.pow(o,2));return Math.sqrt(s)},wd.neighborhoodPreservation=function(t){if(!qd(t))throw new Error("graphology-metrics/layout-quality/neighborhood-preservation: given graph is not a valid graphology instance.");if(0===t.order)throw new Error("graphology-metrics/layout-quality/neighborhood-preservation: cannot compute stress for a null graph.");if(0===t.size)return 0;var e=[new Float64Array(t.order),new Float64Array(t.order)],r=0;t.forEachNode((function(t,n){e[0][r]=n.x,e[1][r++]=n.y}));var n=Bd.fromAxes(e,t.nodes()),i=0;return t.forEachNode((function(e,r){var o=new Set(t.neighbors(e));if(0!==o.size&&o.size!==t.order-1){var a=n.kNearestNeighbors(o.size+1,[r.x,r.y]);a=new Set(a.slice(1));var s=Hd(o,a);i+=s/a.size}else i+=1})),i/t.order},wd.stress=function(t){if(!Vd(t))throw new Error("graphology-metrics/layout-quality/stress: given graph is not a valid graphology instance.");if(0===t.order)throw new Error("graphology-metrics/layout-quality/stress: cannot compute stress for a null graph.");var e,r,n,i,o,a,s,u=new Array(t.order),h=new Array(t.order),d=0,c=4*t.order;t.forEachNode((function(t,e){u[d]=t,h[d++]=e}));var l,f,g=0;for(d=0,r=t.order;d<r;d++)for(o=Yd(t,u[d]),n=h[d],e=d+1;e<r;e++)i=h[e],void 0===(a=o[u[e]])&&(a=c),l=n,f=i,s=Math.sqrt(Math.pow(l.x-f.x,2)+Math.pow(l.y-f.y,2)),g+=1/(a*a)*Math.pow(s-a,2);return g};var Kd={},$d={},Xd=i;function Jd(t,e,r,n,i){if(!Xd(r))throw new Error("graphology-metrics/"+t+": the given graph is not a valid graphology instance.");i=i||"weight";var o=0;return r[e](n,(function(t,e,r,n,a,s,u){var h="function"==typeof i?i(t,e,r,n,a,s,u):e[i];("number"!=typeof h||isNaN(h))&&(h=1),o+=h})),o}$d.weightedDegree=Jd.bind(null,"weightedDegree","forEachEdge"),$d.weightedInDegree=Jd.bind(null,"weightedInDegree","forEachInEdge"),$d.weightedOutDegree=Jd.bind(null,"weightedOutDegree","forEachOutEdge"),$d.weightedInboundDegree=Jd.bind(null,"weightedInboundDegree","forEachInboundEdge"),$d.weightedOutboundDegree=Jd.bind(null,"weightedOutboundDegree","forEachOutboundEdge"),$d.weightedUndirectedDegree=Jd.bind(null,"weightedUndirectedDegree","forEachUndirectedEdge"),$d.weightedDirectedDegree=Jd.bind(null,"weightedDirectedDegree","forEachDirectedEdge");var Qd=$d;Kd.eccentricity=ed,Kd.weightedDegree=Qd.weightedDegree,Kd.weightedInDegree=Qd.weightedInDegree,Kd.weightedOutDegree=Qd.weightedOutDegree,Kd.weightedInboundDegree=Qd.weightedInboundDegree,Kd.weightedOutboundDegree=Qd.weightedOutboundDegree,Kd.weightedUndirectedDegree=Qd.weightedUndirectedDegree,Kd.weightedDirectedDegree=Qd.weightedDirectedDegree,ws.centrality=Es,ws.edge=yh,ws.graph=Oh,ws.layoutQuality=wd,ws.node=Kd;var Zd=ws,tc={},ec=i,rc=ao.copyNode,nc=so.copyEdge,ic=i,oc=so.copyEdge,ac=i,sc=ao.copyNode,uc=so.copyEdge,hc=i,dc=so.copyEdge,cc=i,lc=function(t){if(!cc(t))throw new Error("graphology-operators/to-mixed: expecting a valid graphology instance.");return t.copy({type:"mixed"})},fc=i,gc=function(t){if(!fc(t))throw new Error("graphology-operators/to-multi: expecting a valid graphology instance.");return t.copy({multi:!0})},pc=i,yc=so.copyEdge,vc=i,mc=so.copyEdge,bc=i;tc.disjointUnion=function(t,e){if(!ec(t)||!ec(e))throw new Error("graphology-operators/disjoint-union: invalid graph.");if(t.multi!==e.multi)throw new Error("graphology-operators/disjoint-union: both graph should be simple or multi.");var r=t.nullCopy();r.mergeAttributes(t.getAttributes());var n={},i={},o=0;return t.forEachNode((function(t,e){n[t]=o,rc(r,o,e),o++})),e.forEachNode((function(t,e){i[t]=o,rc(r,o,e),o++})),o=0,t.forEachEdge((function(t,e,i,a,s,u,h){nc(r,h,o++,n[i],n[a],a,e)})),e.forEachEdge((function(t,e,n,a,s,u,h){nc(r,h,o++,i[n],i[a],a,e)})),r},tc.reverse=function(t){if(!ic(t))throw new Error("graphology-operators/reverse: invalid graph.");var e=t.emptyCopy();return t.forEachUndirectedEdge((function(t,r,n,i){oc(e,!0,t,n,i,r)})),t.forEachDirectedEdge((function(t,r,n,i){oc(e,!1,t,i,n,r)})),e},tc.subgraph=function(t,e){if(!ac(t))throw new Error("graphology-operators/subgraph: invalid graph instance.");var r=t.nullCopy(),n=e;if(Array.isArray(e)){if(0===e.length)return r;e=new Set(e)}if(e instanceof Set){if(0===e.size)return r;n=function(t){return e.has(t)};var i=e;e=new Set,i.forEach((function(t){e.add(""+t)}))}if("function"!=typeof n)throw new Error("graphology-operators/subgraph: invalid nodes. Expecting an array or a set or a filtering function.");if("function"==typeof e){if(t.forEachNode((function(t,e){n(t,e)&&sc(r,t,e)})),0===r.order)return r}else e.forEach((function(e){if(!t.hasNode(e))throw new Error('graphology-operators/subgraph: the "'+e+'" node was not found in the graph.');sc(r,e,t.getNodeAttributes(e))}));return t.forEachEdge((function(t,e,i,o,a,s,u){n(i,a)&&(o===i||n(o,s))&&uc(r,u,t,i,o,e)})),r},tc.toDirected=function(t,e){if(!hc(t))throw new Error("graphology-operators/to-directed: expecting a valid graphology instance.");"function"==typeof e&&(e={mergeEdge:e});var r="function"==typeof(e=e||{}).mergeEdge?e.mergeEdge:null;if("directed"===t.type)return t.copy();var n=t.emptyCopy({type:"directed"});return t.forEachDirectedEdge((function(t,e,r,i){dc(n,!1,t,r,i,e)})),t.forEachUndirectedEdge((function(e,i,o,a){var s=!t.multi&&"mixed"===t.type&&n.edge(o,a),u=!t.multi&&"mixed"===t.type&&n.edge(a,o);s?n.replaceEdgeAttributes(s,r(n.getEdgeAttributes(s),i)):dc(n,!1,null,o,a,i),o!==a&&(u?n.replaceEdgeAttributes(u,r(n.getEdgeAttributes(u),i)):dc(n,!1,null,a,o,i))})),n},tc.toMixed=lc,tc.toMulti=gc,tc.toSimple=function(t,e){if(!pc(t))throw new Error("graphology-operators/to-simple: expecting a valid graphology instance.");"function"==typeof e&&(e={mergeEdge:e});var r="function"==typeof(e=e||{}).mergeEdge?e.mergeEdge:null;if(!t.multi)return t.copy();var n=t.emptyCopy({multi:!1});return t.forEachEdge((function(t,e,i,o,a,s,u){var h=u?n.undirectedEdge(i,o):n.directedEdge(i,o);h?r&&n.replaceEdgeAttributes(h,r(n.getEdgeAttributes(h),e)):yc(n,u,t,i,o,e)})),n},tc.toUndirected=function(t,e){if(!vc(t))throw new Error("graphology-operators/to-undirected: expecting a valid graphology instance.");"function"==typeof e&&(e={mergeEdge:e});var r="function"==typeof(e=e||{}).mergeEdge?e.mergeEdge:null;if("undirected"===t.type)return t.copy();var n=t.emptyCopy({type:"undirected"});return t.forEachUndirectedEdge((function(t,e,r,i){mc(n,!0,t,r,i,e)})),t.forEachDirectedEdge((function(e,i,o,a){if(!t.multi){var s=n.edge(o,a);if(s)return void(r&&n.replaceEdgeAttributes(s,r(n.getEdgeAttributes(s),i)))}mc(n,!0,null,o,a,i)})),n},tc.union=function(t,e){if(!bc(t)||!bc(e))throw new Error("graphology-operators/union: invalid graph.");if(t.multi!==e.multi)throw new Error("graphology-operators/union: both graph should be simple or multi.");var r=t.copy();return r.import(e,!0),r};var wc=tc,Ec={},Ac={},xc=function(){return!0};Ac.edgePathFromNodePath=function(t,e){var r,n,i,o,a=e.length;if(a<2)return n=e[0],(o=t.multi?t.findEdge(n,n,xc):t.edge(n,n))?[o]:[];a--;var s=new Array(a);for(r=0;r<a;r++){if(n=e[r],i=e[r+1],void 0===(o=t.multi?t.findOutboundEdge(n,i,xc):t.edge(n,i)))throw new Error("graphology-shortest-path: given path is impossible in given graph.");s[r]=o}return s};var zc={},Mc=i,Dc=Wi.createEdgeWeightGetter,Sc=uu,Nc="weight";function kc(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1]>e[1]?1:t[1]<e[1]?-1:t[2]>e[2]?1:t[2]<e[2]?-1:0}function Cc(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1]>e[1]?1:t[1]<e[1]?-1:t[2]>e[2]?1:t[2]<e[2]?-1:t[3]>e[3]?1:t[3]<e[3]?-1:0}zc.bidirectional=function(t,e,r,n){return function(t,e,r,n){if(e=""+e,r=""+r,!Mc(t))throw new Error("graphology-shortest-path/dijkstra: invalid graphology instance.");if(e&&!t.hasNode(e))throw new Error('graphology-shortest-path/dijkstra: the "'+e+'" source node does not exist in the given graph.');if(r&&!t.hasNode(r))throw new Error('graphology-shortest-path/dijkstra: the "'+r+'" target node does not exist in the given graph.');if(n=Dc(n||Nc).fromMinimalEntry,e===r)return[0,[e]];var i=[{},{}],o=[{},{}],a=[new Sc(kc),new Sc(kc)],s=[{},{}];o[0][e]=[e],o[1][r]=[r],s[0][e]=0,s[1][r]=0;var u,h,d,c,l,f,g,p,y,v=[],m=1/0,b=0,w=1;for(a[0].push([0,b++,e]),a[1].push([0,b++,r]);a[0].size&&a[1].size;)if(c=(u=a[w=1-w].pop())[0],!((l=u[2])in i[w])){if(i[w][l]=c,l in i[1-w])return[m,v];for(p=0,y=(h=1===w?t.inboundEdges(l):t.outboundEdges(l)).length;p<y;p++){if(g=h[p],f=t.opposite(l,g),d=i[w][l]+n(g,t.getEdgeAttributes(g)),f in i[w]&&d<i[w][f])throw Error("graphology-shortest-path/dijkstra: contradictory paths found. Do some of your edges have a negative weight?");(!(f in s[w])||d<s[w][f])&&(s[w][f]=d,a[w].push([d,b++,f]),o[w][f]=o[w][l].concat(f),f in s[0]&&f in s[1]&&(c=s[0][f]+s[1][f],(0===v.length||m>c)&&(m=c,v=o[0][f].concat(o[1][f].slice(0,-1).reverse()))))}}return[1/0,null]}(t,e,r,n)[1]},zc.singleSource=function(t,e,r){var n={};return function(t,e,r,n,i,o){if(!Mc(t))throw new Error("graphology-shortest-path/dijkstra: invalid graphology instance.");if(i&&!t.hasNode(i))throw new Error('graphology-shortest-path/dijkstra: the "'+i+'" target node does not exist in the given graph.');r=Dc(r||Nc).fromMinimalEntry;var a,s,u,h,d,c,l,f,g,p,y,v={},m={},b=new Sc(kc),w=0;for(f=0,p=e.length;f<p;f++)m[h=e[f]]=0,b.push([0,w++,h]),o&&(o[h]=[h]);for(;b.size;)if(l=(s=b.pop())[0],!((h=s[2])in v)){if(v[h]=l,h===i)break;for(g=0,y=(a=t.outboundEdges(h)).length;g<y;g++)if(c=a[g],d=t.opposite(h,c),u=r(c,t.getEdgeAttributes(c))+v[h],!(n&&u>n)){if(d in v&&u<v[d])throw Error("graphology-shortest-path/dijkstra: contradictory paths found. Do some of your edges have a negative weight?");(!(d in m)||u<m[d])&&(m[d]=u,b.push([u,w++,d]),o&&(o[d]=o[h].concat(d)))}}}(t,[e],r,0,null,n),n},zc.brandes=function(t,e,r){e=""+e,r=Dc(r||Nc).fromMinimalEntry;var n,i,o,a,s,u,h,d,c,l,f=[],g={},p={},y=t.nodes();for(c=0,l=y.length;c<l;c++)g[u=y[c]]=[],p[u]=0;var v={};p[e]=1;var m={};m[e]=0;var b=0,w=new Sc(Cc);for(w.push([0,b++,e,e]);w.size;)if(a=(i=w.pop())[0],o=i[2],!((u=i[3])in v))for(p[u]+=p[o],f.push(u),v[u]=a,c=0,l=(n=t.outboundEdges(u)).length;c<l;c++)d=n[c],h=t.opposite(u,d),s=a+r(d,t.getEdgeAttributes(d)),h in v||h in m&&!(s<m[h])?s===m[h]&&(p[h]+=p[u],g[h].push(u)):(m[h]=s,w.push([s,b++,u,h]),p[h]=0,g[h]=[u]);return[f,g,p]};var Oc=qh,Wc=Ac;Ec.unweighted=Oc,Ec.dijkstra=zc,Ec.bidirectional=Oc.bidirectional,Ec.singleSource=Oc.singleSource,Ec.singleSourceLength=Oc.singleSourceLength,Ec.undirectedSingleSourceLength=Oc.undirectedSingleSourceLength,Ec.brandes=Oc.brandes,Ec.edgePathFromNodePath=Wc.edgePathFromNodePath;var jc=Ec,_c={},Pc=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi};function Uc(){this.set=new Set,this.stack=[]}function Ic(){this.set=new Set,this.stack=[]}function Fc(t,e){var r=[];return t.forEachOutboundEdge(e,(function(t,n,i,o){r.push([t,e===i?o:i])})),r}function Tc(t,e){var r,n={};t.forEachOutboundEdge(e,(function(t,i,o,a){(r=e===o?a:o)in n||(n[r]=[]),n[r].push(t)}));var i=[];for(r in n)i.push([n[r],r]);return i}Uc.prototype.has=function(t){return this.set.has(t)},Uc.prototype.push=function(t){this.stack.push(t),this.set.add(t)},Uc.prototype.pop=function(){this.set.delete(this.stack.pop())},Uc.prototype.path=function(t){return this.stack.concat(t)},Uc.of=function(t,e){var r=new Uc;return e?r.stack.push(t):r.push(t),r},Ic.prototype.has=function(t){return this.set.has(t)},Ic.prototype.push=function(t){this.stack.push(t),this.set.add(t[1])},Ic.prototype.pop=function(){this.set.delete(this.stack.pop()[1])},Ic.prototype.path=function(t){return this.stack.slice(1).map((function(t){return t[0]})).concat([t[0]])},Ic.of=function(t,e){var r=new Ic,n=[null,t];return e?r.stack.push(n):r.push(n),r},_c.allSimplePaths=function(t,e,r,n){if(!Pc(t))throw new Error("graphology-simple-path.allSimplePaths: expecting a graphology instance.");if(!t.hasNode(e))throw new Error('graphology-simple-path.allSimplePaths: expecting: could not find source node "'+e+'" in the graph.');if(!t.hasNode(r))throw new Error('graphology-simple-path.allSimplePaths: expecting: could not find target node "'+r+'" in the graph.');for(var i,o,a="number"==typeof(n=n||{}).maxDepth?n.maxDepth:1/0,s=(e=""+e)===(r=""+r),u=[t.outboundNeighbors(e)],h=Uc.of(e,s),d=[];0!==u.length;)if(o=u[u.length-1].pop()){if(h.has(o))continue;o===r&&(i=h.path(o),d.push(i)),h.push(o),!h.has(r)&&u.length<a?u.push(t.outboundNeighbors(o)):h.pop()}else u.pop(),h.pop();return d},_c.allSimpleEdgePaths=function(t,e,r,n){if(!Pc(t))throw new Error("graphology-simple-path.allSimpleEdgePaths: expecting a graphology instance.");if(t.multi)throw new Error("graphology-simple-path.allSimpleEdgePaths: not implemented for multi graphs.");if(!t.hasNode(e))throw new Error('graphology-simple-path.allSimpleEdgePaths: expecting: could not find source node "'+e+'" in the graph.');if(!t.hasNode(r))throw new Error('graphology-simple-path.allSimpleEdgePaths: expecting: could not find target node "'+r+'" in the graph.');for(var i,o,a,s="number"==typeof(n=n||{}).maxDepth?n.maxDepth:1/0,u=(e=""+e)===(r=""+r),h=[Fc(t,e)],d=Ic.of(e,u),c=[];0!==h.length;)if(o=h[h.length-1].pop()){if(a=o[1],d.has(a))continue;a===r&&(i=d.path(o),c.push(i)),d.push(o),!d.has(r)&&h.length<s?h.push(Fc(t,a)):d.pop()}else h.pop(),d.pop();return c},_c.allSimpleEdgeGroupPaths=function(t,e,r,n){if(!Pc(t))throw new Error("graphology-simple-path.allSimpleEdgeGroupPaths: expecting a graphology instance.");if(!t.hasNode(e))throw new Error('graphology-simple-path.allSimpleEdgeGroupPaths: expecting: could not find source node "'+e+'" in the graph.');if(!t.hasNode(r))throw new Error('graphology-simple-path.allSimpleEdgeGroupPaths: expecting: could not find target node "'+r+'" in the graph.');for(var i,o,a,s="number"==typeof(n=n||{}).maxDepth?n.maxDepth:1/0,u=(e=""+e)===(r=""+r),h=[Tc(t,e)],d=Ic.of(e,u),c=[];0!==h.length;)if(o=h[h.length-1].pop()){if(a=o[1],d.has(a))continue;a===r&&(i=d.path(o),c.push(i)),d.push(o),!d.has(r)&&h.length<s?h.push(Tc(t,a)):d.pop()}else h.pop(),d.pop();return c};var Lc=_c,Rc={},Gc={},qc=Rs;function Bc(t){this.graph=t,this.queue=new qc(Array,t.order),this.seen=new Set,this.size=0}Bc.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order},Bc.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size},Bc.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,r=this.graph;r.someNode((function(n,i){return e.size===r.order||!e.has(n)&&!!t(n,i)}))},Bc.prototype.has=function(t){return this.seen.has(t)},Bc.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e!==this.seen.size&&(this.queue.push(t),this.size++,!0)},Bc.prototype.pushWith=function(t,e){var r=this.seen.size;return this.seen.add(t),r!==this.seen.size&&(this.queue.push(e),this.size++,!0)},Bc.prototype.shift=function(){var t=this.queue.shift();return this.size=this.queue.size,t};var Hc=Bc,Vc={};Vc.TraversalRecord=function(t,e,r){this.node=t,this.attributes=e,this.depth=r},Vc.capitalize=function(t){return t[0].toUpperCase()+t.slice(1)};var Yc=i,Kc=Hc,$c=Vc,Xc=$c.TraversalRecord,Jc=$c.capitalize;function Qc(t,e,r,n){if(n=n||{},!Yc(t))throw new Error("graphology-traversal/bfs: expecting a graphology instance.");if("function"!=typeof r)throw new Error("graphology-traversal/bfs: given callback is not a function.");if(0!==t.order){var i,o,a=new Kc(t),s=t["forEach"+Jc(n.mode||"outbound")+"Neighbor"].bind(t);i=null===e?a.forEachNodeYetUnseen.bind(a):function(r){r(e=""+e,t.getNodeAttributes(e))},i((function(t,e){for(a.pushWith(t,new Xc(t,e,0));0!==a.size;)o=a.shift(),!0!==r(o.node,o.attributes,o.depth)&&s(o.node,u)}))}function u(t,e){a.pushWith(t,new Xc(t,e,o.depth+1))}}Gc.bfs=function(t,e,r){return Qc(t,null,e,r)},Gc.bfsFromNode=Qc;var Zc={},tl=i,el=ho,rl=Vc,nl=rl.TraversalRecord,il=rl.capitalize;function ol(t,e,r,n){if(n=n||{},!tl(t))throw new Error("graphology-traversal/dfs: expecting a graphology instance.");if("function"!=typeof r)throw new Error("graphology-traversal/dfs: given callback is not a function.");if(0!==t.order){var i,o,a=new el(t),s=t["forEach"+il(n.mode||"outbound")+"Neighbor"].bind(t);i=null===e?a.forEachNodeYetUnseen.bind(a):function(r){r(e=""+e,t.getNodeAttributes(e))},i((function(t,e){for(a.pushWith(t,new nl(t,e,0));0!==a.size;)o=a.pop(),!0!==r(o.node,o.attributes,o.depth)&&s(o.node,u)}))}function u(t,e){a.pushWith(t,new nl(t,e,o.depth+1))}}Zc.dfs=function(t,e,r){return ol(t,null,e,r)},Zc.dfsFromNode=ol;var al=Gc,sl=Zc;Rc.bfs=al.bfs,Rc.bfsFromNode=al.bfsFromNode,Rc.dfs=sl.dfs,Rc.dfsFromNode=sl.dfsFromNode;var ul=Rc,hl={},dl=i,cl=so.copyEdge,ll=so.copyEdge;hl.inferMulti=function(t){if(!dl(t))throw new Error("graphology-utils/infer-multi: expecting a valid graphology instance.");if(!t.multi||0===t.order||t.size<2)return!1;var e,r,n,i,o=!1;return t.forEachAssymetricAdjacencyEntry((function(t,a,s,u,h,d,c){o||(c&&t>a&&(i=a,a=t,t=i),t!==e||a!==r||c!==n?(e=t,r=a,n=c):o=!0)})),o},hl.inferType=yi,hl.isGraph=i,hl.isGraphConstructor=o,hl.mergeClique=function(t,e){var r,n,i,o,a;if(0!==e.length)for(i=0,a=e.length;i<a;i++)for(r=e[i],o=i+1;o<a;o++)n=e[o],t.mergeEdge(r,n)},hl.mergeCycle=function(t,e){var r,n,i,o;if(0!==e.length&&(t.mergeNode(e[0]),1!==e.length)){for(i=1,o=e.length;i<o;i++)r=e[i-1],n=e[i],t.mergeEdge(r,n);t.mergeEdge(n,e[0])}},hl.mergePath=function(t,e){var r,n,i,o;if(0!==e.length)for(t.mergeNode(e[0]),i=1,o=e.length;i<o;i++)r=e[i-1],n=e[i],t.mergeEdge(r,n)},hl.mergeStar=Yo,hl.renameGraphKeys=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r={});var n,i,o=t.nullCopy();return t.forEachNode((function(t,r){var n=e[t];void 0===n&&(n=t),o.addNode(n,r)})),t.forEachAssymetricAdjacencyEntry((function(t,a,s,u,h,d,c){t!==n&&(n=t,void 0===(i=e[t])&&(i=t));var l=e[a];void 0===l&&(l=a);var f=r[h];void 0===f&&(f=h),cl(o,c,f,i,l,d)})),o},hl.updateGraphKeys=function(t,e,r){var n,i,o=t.nullCopy();return t.forEachNode((function(t,r){var n=e?e(t,r):t;o.addNode(n,r)})),t.forEachAssymetricAdjacencyEntry((function(t,a,s,u,h,d,c){t!==n&&(n=t,i=e?e(t,s):t);var l=e?e(a,u):a,f=r?r(h,d,t,a,s,u,c):h;ll(o,c,f,i,l,d)})),o};var fl=hl;const{createNodeValueGetter:gl,createEdgeValueGetter:pl}=Wi;var yl={assignLayoutChanges:function(t,e,r){const{nodeXAttribute:n,nodeYAttribute:i}=r;t.updateEachNodeAttributes(((t,r)=>{const o=e[t];return!o||o.fixed||(r[n]=o.x,r[i]=o.y),r}),{attributes:["x","y"]})},collectLayoutChanges:function(t){const e={};for(const r in t){const n=t[r];e[r]={x:n.x,y:n.y}}return e}};const vl=i,ml=E,bl=function(t,e,r){const{nodeXAttribute:n,nodeYAttribute:i}=r,{attraction:o,repulsion:a,gravity:s,inertia:u,maxMove:h}=r.settings;let{shouldSkipNode:d,shouldSkipEdge:c,isNodeFixed:l}=r;l=gl(l),d=gl(d,!1),c=pl(c,!1);const f=t.filterNodes(((t,e)=>!d.fromEntry(t,e))),g=f.length;for(let r=0;r<g;r++){const o=f[r],a=t.getNodeAttributes(o),s=e[o];e[o]=s?{dx:s.dx*u,dy:s.dy*u,x:a[n]||0,y:a[i]||0}:{dx:0,dy:0,x:a[n]||0,y:a[i]||0}}if(a)for(let t=0;t<g;t++){const r=f[t],n=e[r];for(let r=t+1;r<g;r++){const t=f[r],i=e[t],o=i.x-n.x,s=i.y-n.y,u=Math.sqrt(o*o+s*s)||1,h=a/u*o,d=a/u*s;n.dx-=h,n.dy-=d,i.dx+=h,i.dy+=d}}if(o&&t.forEachEdge(((t,r,n,i,a,s,u)=>{if(n===i)return;if(d.fromEntry(n,a)||d.fromEntry(i,s))return;if(c.fromEntry(t,r,n,i,a,s,u))return;const h=e[n],l=e[i],f=l.x-h.x,g=l.y-h.y,p=Math.sqrt(f*f+g*g)||1,y=o*p*f,v=o*p*g;h.dx+=y,h.dy+=v,l.dx-=y,l.dy-=v})),s)for(let t=0;t<g;t++){const r=f[t],n=e[r],{x:i,y:o}=n,a=Math.sqrt(i*i+o*o)||1;e[r].dx-=i*s*a,e[r].dy-=o*s*a}for(let r=0;r<g;r++){const n=f[r],i=e[n],o=Math.sqrt(i.dx*i.dx+i.dy*i.dy);o>h&&(i.dx*=h/o,i.dy*=h/o),l.fromGraph(t,n)?i.fixed=!0:(i.x+=i.dx,i.y+=i.dy,i.fixed=!1)}return{converged:!1}},wl=yl,El={nodeXAttribute:"x",nodeYAttribute:"y",isNodeFixed:"fixed",shouldSkipNode:null,shouldSkipEdge:null,settings:{attraction:5e-4,repulsion:.1,gravity:1e-4,inertia:.6,maxMove:200}};function Al(t,e){if(!vl(t))throw new Error("graphology-layout-force/worker: the given graph is not a valid graphology instance.");e=ml(e,El),this.callbacks={},e.onConverged&&(this.callbacks.onConverged=e.onConverged),this.graph=t,this.params=e,this.nodeStates={},this.frameID=null,this.running=!1,this.killed=!1}Al.prototype.isRunning=function(){return this.running},Al.prototype.runFrame=function(){let{converged:t}=bl(this.graph,this.nodeStates,this.params);wl.assignLayoutChanges(this.graph,this.nodeStates,this.params),t=!1,t?(this.callbacks.onConverged&&this.callbacks.onConverged(),this.stop()):this.frameID=window.requestAnimationFrame((()=>this.runFrame()))},Al.prototype.stop=function(){return this.running=!1,null!==this.frameID&&(window.cancelAnimationFrame(this.frameID),this.frameID=null),this},Al.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-force/worker.start: layout was killed.");this.running||(this.running=!0,this.runFrame())},Al.prototype.kill=function(){this.stop(),delete this.nodeStates,this.killed=!0};var xl=Al,zl=function(){var t,e,r={};!function(){var t=10;r.exports=function(e,r,n){var i,o,a,s,u,h,d,c,l,f,g,p,y,v,m,b,w,E,A,x,z,M,D,S=r.length,N=n.length,k=e.adjustSizes,C=e.barnesHutTheta*e.barnesHutTheta,O=[];for(a=0;a<S;a+=t)r[a+4]=r[a+2],r[a+5]=r[a+3],r[a+2]=0,r[a+3]=0;if(e.outboundAttractionDistribution){for(g=0,a=0;a<S;a+=t)g+=r[a+6];g/=S/t}if(e.barnesHutOptimize){var W,j,_,P=1/0,U=-1/0,I=1/0,F=-1/0;for(a=0;a<S;a+=t)P=Math.min(P,r[a+0]),U=Math.max(U,r[a+0]),I=Math.min(I,r[a+1]),F=Math.max(F,r[a+1]);var T=U-P,L=F-I;for(T>L?F=(I-=(T-L)/2)+T:U=(P-=(L-T)/2)+L,O[0]=-1,O[1]=(P+U)/2,O[2]=(I+F)/2,O[3]=Math.max(U-P,F-I),O[4]=-1,O[5]=-1,O[6]=0,O[7]=0,O[8]=0,i=1,a=0;a<S;a+=t)for(o=0,_=3;;){if(!(O[o+5]>=0)){if(O[o+0]<0){O[o+0]=a;break}if(O[o+5]=9*i,c=O[o+3]/2,O[(l=O[o+5])+0]=-1,O[l+1]=O[o+1]-c,O[l+2]=O[o+2]-c,O[l+3]=c,O[l+4]=l+9,O[l+5]=-1,O[l+6]=0,O[l+7]=0,O[l+8]=0,O[(l+=9)+0]=-1,O[l+1]=O[o+1]-c,O[l+2]=O[o+2]+c,O[l+3]=c,O[l+4]=l+9,O[l+5]=-1,O[l+6]=0,O[l+7]=0,O[l+8]=0,O[(l+=9)+0]=-1,O[l+1]=O[o+1]+c,O[l+2]=O[o+2]-c,O[l+3]=c,O[l+4]=l+9,O[l+5]=-1,O[l+6]=0,O[l+7]=0,O[l+8]=0,O[(l+=9)+0]=-1,O[l+1]=O[o+1]+c,O[l+2]=O[o+2]+c,O[l+3]=c,O[l+4]=O[o+4],O[l+5]=-1,O[l+6]=0,O[l+7]=0,O[l+8]=0,i+=4,W=r[O[o+0]+0]<O[o+1]?r[O[o+0]+1]<O[o+2]?O[o+5]:O[o+5]+9:r[O[o+0]+1]<O[o+2]?O[o+5]+18:O[o+5]+27,O[o+6]=r[O[o+0]+6],O[o+7]=r[O[o+0]+0],O[o+8]=r[O[o+0]+1],O[W+0]=O[o+0],O[o+0]=-1,W===(j=r[a+0]<O[o+1]?r[a+1]<O[o+2]?O[o+5]:O[o+5]+9:r[a+1]<O[o+2]?O[o+5]+18:O[o+5]+27)){if(_--){o=W;continue}_=3;break}O[j+0]=a;break}W=r[a+0]<O[o+1]?r[a+1]<O[o+2]?O[o+5]:O[o+5]+9:r[a+1]<O[o+2]?O[o+5]+18:O[o+5]+27,O[o+7]=(O[o+7]*O[o+6]+r[a+0]*r[a+6])/(O[o+6]+r[a+6]),O[o+8]=(O[o+8]*O[o+6]+r[a+1]*r[a+6])/(O[o+6]+r[a+6]),O[o+6]+=r[a+6],o=W}}if(e.barnesHutOptimize){for(p=e.scalingRatio,a=0;a<S;a+=t)for(o=0;;)if(O[o+5]>=0){if(b=Math.pow(r[a+0]-O[o+7],2)+Math.pow(r[a+1]-O[o+8],2),4*(f=O[o+3])*f/b<C){if(y=r[a+0]-O[o+7],v=r[a+1]-O[o+8],!0===k?b>0?(w=p*r[a+6]*O[o+6]/b,r[a+2]+=y*w,r[a+3]+=v*w):b<0&&(w=-p*r[a+6]*O[o+6]/Math.sqrt(b),r[a+2]+=y*w,r[a+3]+=v*w):b>0&&(w=p*r[a+6]*O[o+6]/b,r[a+2]+=y*w,r[a+3]+=v*w),(o=O[o+4])<0)break;continue}o=O[o+5]}else if((h=O[o+0])>=0&&h!==a&&(b=(y=r[a+0]-r[h+0])*y+(v=r[a+1]-r[h+1])*v,!0===k?b>0?(w=p*r[a+6]*r[h+6]/b,r[a+2]+=y*w,r[a+3]+=v*w):b<0&&(w=-p*r[a+6]*r[h+6]/Math.sqrt(b),r[a+2]+=y*w,r[a+3]+=v*w):b>0&&(w=p*r[a+6]*r[h+6]/b,r[a+2]+=y*w,r[a+3]+=v*w)),(o=O[o+4])<0)break}else for(p=e.scalingRatio,s=0;s<S;s+=t)for(u=0;u<s;u+=t)y=r[s+0]-r[u+0],v=r[s+1]-r[u+1],!0===k?(b=Math.sqrt(y*y+v*v)-r[s+8]-r[u+8])>0?(w=p*r[s+6]*r[u+6]/b/b,r[s+2]+=y*w,r[s+3]+=v*w,r[u+2]-=y*w,r[u+3]-=v*w):b<0&&(w=100*p*r[s+6]*r[u+6],r[s+2]+=y*w,r[s+3]+=v*w,r[u+2]-=y*w,r[u+3]-=v*w):(b=Math.sqrt(y*y+v*v))>0&&(w=p*r[s+6]*r[u+6]/b/b,r[s+2]+=y*w,r[s+3]+=v*w,r[u+2]-=y*w,r[u+3]-=v*w);for(l=e.gravity/e.scalingRatio,p=e.scalingRatio,a=0;a<S;a+=t)w=0,y=r[a+0],v=r[a+1],b=Math.sqrt(Math.pow(y,2)+Math.pow(v,2)),e.strongGravityMode?b>0&&(w=p*r[a+6]*l):b>0&&(w=p*r[a+6]*l/b),r[a+2]-=y*w,r[a+3]-=v*w;for(p=1*(e.outboundAttractionDistribution?g:1),d=0;d<N;d+=3)s=n[d+0],u=n[d+1],c=n[d+2],m=Math.pow(c,e.edgeWeightInfluence),y=r[s+0]-r[u+0],v=r[s+1]-r[u+1],!0===k?(b=Math.sqrt(y*y+v*v)-r[s+8]-r[u+8],e.linLogMode?e.outboundAttractionDistribution?b>0&&(w=-p*m*Math.log(1+b)/b/r[s+6]):b>0&&(w=-p*m*Math.log(1+b)/b):e.outboundAttractionDistribution?b>0&&(w=-p*m/r[s+6]):b>0&&(w=-p*m)):(b=Math.sqrt(Math.pow(y,2)+Math.pow(v,2)),e.linLogMode?e.outboundAttractionDistribution?b>0&&(w=-p*m*Math.log(1+b)/b/r[s+6]):b>0&&(w=-p*m*Math.log(1+b)/b):e.outboundAttractionDistribution?(b=1,w=-p*m/r[s+6]):(b=1,w=-p*m)),b>0&&(r[s+2]+=y*w,r[s+3]+=v*w,r[u+2]-=y*w,r[u+3]-=v*w);if(!0===k)for(a=0;a<S;a+=t)1!==r[a+9]&&((E=Math.sqrt(Math.pow(r[a+2],2)+Math.pow(r[a+3],2)))>10&&(r[a+2]=10*r[a+2]/E,r[a+3]=10*r[a+3]/E),A=r[a+6]*Math.sqrt((r[a+4]-r[a+2])*(r[a+4]-r[a+2])+(r[a+5]-r[a+3])*(r[a+5]-r[a+3])),x=Math.sqrt((r[a+4]+r[a+2])*(r[a+4]+r[a+2])+(r[a+5]+r[a+3])*(r[a+5]+r[a+3]))/2,z=.1*Math.log(1+x)/(1+Math.sqrt(A)),M=r[a+0]+r[a+2]*(z/e.slowDown),r[a+0]=M,D=r[a+1]+r[a+3]*(z/e.slowDown),r[a+1]=D);else for(a=0;a<S;a+=t)1!==r[a+9]&&(A=r[a+6]*Math.sqrt((r[a+4]-r[a+2])*(r[a+4]-r[a+2])+(r[a+5]-r[a+3])*(r[a+5]-r[a+3])),x=Math.sqrt((r[a+4]+r[a+2])*(r[a+4]+r[a+2])+(r[a+5]+r[a+3])*(r[a+5]+r[a+3]))/2,z=r[a+7]*Math.log(1+x)/(1+Math.sqrt(A)),r[a+7]=Math.min(1,Math.sqrt(z*(Math.pow(r[a+2],2)+Math.pow(r[a+3],2))/(1+Math.sqrt(A)))),M=r[a+0]+r[a+2]*(z/e.slowDown),r[a+0]=M,D=r[a+1]+r[a+3]*(z/e.slowDown),r[a+1]=D);return{}}}();var n=r.exports;self.addEventListener("message",(function(r){var i=r.data;t=new Float32Array(i.nodes),i.edges&&(e=new Float32Array(i.edges)),n(i.settings,t,e),self.postMessage({nodes:t.buffer},[t.buffer])}))},Ml=i,Dl=Wi.createEdgeWeightGetter,Sl=ts,Nl=es;function kl(t,e){if(e=e||{},!Ml(t))throw new Error("graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.");var r=Dl("getEdgeWeight"in e?e.getEdgeWeight:"weight").fromEntry,n=Sl.assign({},Nl,e.settings),i=Sl.validateSettings(n);if(i)throw new Error("graphology-layout-forceatlas2/worker: "+i.message);this.worker=null,this.graph=t,this.settings=n,this.getEdgeWeight=r,this.matrices=null,this.running=!1,this.killed=!1,this.outputReducer="function"==typeof e.outputReducer?e.outputReducer:null,this.handleMessage=this.handleMessage.bind(this);var o=void 0,a=this;this.handleGraphUpdate=function(){a.worker&&a.worker.terminate(),o&&clearTimeout(o),o=setTimeout((function(){o=void 0,a.spawnWorker()}),0)},t.on("nodeAdded",this.handleGraphUpdate),t.on("edgeAdded",this.handleGraphUpdate),t.on("nodeDropped",this.handleGraphUpdate),t.on("edgeDropped",this.handleGraphUpdate),this.spawnWorker()}kl.prototype.isRunning=function(){return this.running},kl.prototype.spawnWorker=function(){this.worker&&this.worker.terminate(),this.worker=Sl.createWorker(zl),this.worker.addEventListener("message",this.handleMessage),this.running&&(this.running=!1,this.start())},kl.prototype.handleMessage=function(t){if(this.running){var e=new Float32Array(t.data.nodes);Sl.assignLayoutChanges(this.graph,e,this.outputReducer),this.outputReducer&&Sl.readGraphPositions(this.graph,e),this.matrices.nodes=e,this.askForIterations()}},kl.prototype.askForIterations=function(t){var e=this.matrices,r={settings:this.settings,nodes:e.nodes.buffer},n=[e.nodes.buffer];return t&&(r.edges=e.edges.buffer,n.push(e.edges.buffer)),this.worker.postMessage(r,n),this},kl.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-forceatlas2/worker.start: layout was killed.");return this.running||(this.matrices=Sl.graphToByteArrays(this.graph,this.getEdgeWeight),this.running=!0,this.askForIterations(!0)),this},kl.prototype.stop=function(){return this.running=!1,this},kl.prototype.kill=function(){if(this.killed)return this;this.running=!1,this.killed=!0,this.matrices=null,this.worker.terminate(),this.graph.removeListener("nodeAdded",this.handleGraphUpdate),this.graph.removeListener("edgeAdded",this.handleGraphUpdate),this.graph.removeListener("nodeDropped",this.handleGraphUpdate),this.graph.removeListener("edgeDropped",this.handleGraphUpdate)};var Cl=kl,Ol=function(){var t,e={};!function(){function t(){return.01*(.5-Math.random())}e.exports=function(e,r){var n,i,o,a,s,u,h=e.margin,d=e.ratio,c=e.expansion,l=e.gridSize,f=e.speed,g=!0,p=r.length,y=p/3|0,v=new Float32Array(y),m=new Float32Array(y),b=1/0,w=1/0,E=-1/0,A=-1/0;for(n=0;n<p;n+=3)o=r[n+0],a=r[n+1],u=r[n+2]*d+h,b=Math.min(b,o-u),E=Math.max(E,o+u),w=Math.min(w,a-u),A=Math.max(A,a+u);var x=E-b,z=A-w,M=(b+E)/2,D=(w+A)/2;b=M-c*x/2,E=M+c*x/2,w=D-c*z/2,A=D+c*z/2;var S,N,k,C,O,W,j,_,P,U,I,F,T=new Array(l*l),L=T.length;for(S=0;S<L;S++)T[S]=[];for(n=0;n<p;n+=3)for(o=r[n+0],a=r[n+1],N=o-(u=r[n+2]*d+h),k=o+u,C=a-u,O=a+u,W=Math.floor(l*(N-b)/(E-b)),j=Math.floor(l*(k-b)/(E-b)),_=Math.floor(l*(C-w)/(A-w)),P=Math.floor(l*(O-w)/(A-w)),U=W;U<=j;U++)for(I=_;I<=P;I++)T[U*l+I].push(n);var R,G,q,B,H,V,Y,K,$,X,J,Q,Z=new Set;for(S=0;S<L;S++)for(n=0,s=(F=T[S]).length;n<s;n++)for(q=r[(R=F[n])+0],H=r[R+1],Y=r[R+2],i=n+1;i<s;i++)G=F[i],$=R+""+G,L>1&&Z.has($)||(L>1&&Z.add($),B=r[G+0],V=r[G+1],K=r[G+2],X=B-q,J=V-H,(Q=Math.sqrt(X*X+J*J))<Y*d+h+(K*d+h)&&(g=!1,G=G/3|0,Q>0?(v[G]+=X/Q*(1+Y),m[G]+=J/Q*(1+Y)):(v[G]+=x*t(),m[G]+=z*t())));for(n=0,i=0;n<p;n+=3,i++)r[n+0]+=.1*v[i]*f,r[n+1]+=.1*m[i]*f;return{converged:g}}}();var r=e.exports;self.addEventListener("message",(function(e){var n=e.data;t=new Float32Array(n.nodes);var i=r(n.settings,t);self.postMessage({result:i,nodes:t.buffer},[t.buffer])}))},Wl=i,jl=cs,_l=ls;function Pl(t,e){if(e=e||{},!Wl(t))throw new Error("graphology-layout-noverlap/worker: the given graph is not a valid graphology instance.");var r=Object.assign({},_l,e.settings),n=jl.validateSettings(r);if(n)throw new Error("graphology-layout-noverlap/worker: "+n.message);this.worker=null,this.graph=t,this.settings=r,this.matrices=null,this.running=!1,this.killed=!1,this.inputReducer=e.inputReducer,this.outputReducer=e.outputReducer,this.callbacks={onConverged:"function"==typeof e.onConverged?e.onConverged:null},this.handleMessage=this.handleMessage.bind(this);var i=!1,o=this;this.handleAddition=function(){i||(i=!0,o.spawnWorker(),setTimeout((function(){i=!1}),0))},t.on("nodeAdded",this.handleAddition),t.on("edgeAdded",this.handleAddition),this.spawnWorker()}Pl.prototype.isRunning=function(){return this.running},Pl.prototype.spawnWorker=function(){this.worker&&this.worker.terminate(),this.worker=jl.createWorker(Ol),this.worker.addEventListener("message",this.handleMessage),this.running&&(this.running=!1,this.start())},Pl.prototype.handleMessage=function(t){if(this.running){var e=new Float32Array(t.data.nodes);if(jl.assignLayoutChanges(this.graph,e,this.outputReducer),this.matrices.nodes=e,t.data.result.converged)return this.callbacks.onConverged&&this.callbacks.onConverged(),void this.stop();this.askForIterations()}},Pl.prototype.askForIterations=function(){var t=this.matrices,e={settings:this.settings,nodes:t.nodes.buffer},r=[t.nodes.buffer];return this.worker.postMessage(e,r),this},Pl.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-noverlap/worker.start: layout was killed.");return this.running||(this.matrices={nodes:jl.graphToByteArray(this.graph,this.inputReducer)},this.running=!0,this.askForIterations()),this},Pl.prototype.stop=function(){return this.running=!1,this},Pl.prototype.kill=function(){if(this.killed)return this;this.running=!1,this.killed=!0,this.matrices=null,this.worker.terminate(),this.graph.removeListener("nodeAdded",this.handleAddition),this.graph.removeListener("edgeAdded",this.handleAddition)};var Ul=Pl,Il={},Fl={cast:function(t,e){switch(t){case"boolean":e="true"===e;break;case"integer":case"long":case"float":case"double":e=+e;break;case"liststring":e=e?e.split("|"):[]}return e}},Tl=/["'<>&\s]/g;Fl.sanitizeTagName=function(t){return t.replace(Tl,"").trim()};var Ll=o,Rl=so.mergeEdge,Gl=lc,ql=gc,Bl=Fl.cast;function Hl(t,e){var r=t.getElementsByTagName("viz:"+e)[0];return r||(r=t.getElementsByTagNameNS("viz",e)[0]),r||(r=t.getElementsByTagName(e)[0]),r}function Vl(t){for(var e,r,n,i,o={},a={},s=0,u=t.length;s<u;s++)o[n=(e=t[s]).getAttribute("id")||e.getAttribute("for")]={id:n,type:e.getAttribute("type")||"string",title:(i=+n,i==i&&e.getAttribute("title")||n)},(r=e.getElementsByTagName("default")[0])&&(a[o[n].title]=Bl(o[n].type,r.textContent));return[o,a]}function Yl(t,e,r){var n={},i=r.getAttribute("label"),o=r.getAttribute("weight");i&&(n.label=i),o&&(n.weight=+o);for(var a,s,u,h=r.getElementsByTagName("attvalue"),d=0,c=h.length;d<c;d++)n[t[s=(a=h[d]).getAttribute("id")||a.getAttribute("for")].title]=Bl(t[s].type,a.getAttribute("value"));for(u in e)u in n||(n[u]=e[u]);var l,f,g,p=Hl(r,"color");return p&&(n.color=function(t){var e=t.getAttribute("a"),r=t.getAttribute("r"),n=t.getAttribute("g"),i=t.getAttribute("b");return e?"rgba("+r+","+n+","+i+","+e+")":"rgb("+r+","+n+","+i+")"}(p)),(p=Hl(r,"size"))&&(n.size=+p.getAttribute("value")),(p=Hl(r,"position"))&&(l=p.getAttribute("x"),f=p.getAttribute("y"),g=p.getAttribute("z"),l&&(n.x=+l),f&&(n.y=+f),g&&(n.z=+g)),(p=Hl(r,"shape"))&&(n.shape=p.getAttribute("value")),(p=Hl(r,"thickness"))&&(n.thickness=+p.getAttribute("value")),n}var Kl=function(t,e){return function(r,n,i){var o,a,s,u,h,d,c,l,f,g,p=!0===(i=i||{}).addMissingNodes,y=n;if(!Ll(r))throw new Error("graphology-gexf/parser: invalid Graph constructor.");if("string"==typeof n&&(y=(new t).parseFromString(n,"application/xml")),!(y instanceof e))throw new Error("graphology-gexf/parser: source should either be a XML document or a string.");var v=y.getElementsByTagName("graph")[0],m=y.getElementsByTagName("meta")[0],b=m&&m.childNodes||[],w=y.getElementsByTagName("node"),E=y.getElementsByTagName("edge"),A=y.getElementsByTagName("attributes"),x=[],z=[];for(f=0,g=A.length;f<g;f++)"node"===(a=A[f]).getAttribute("class")?x=a.getElementsByTagName("attribute"):"edge"===a.getAttribute("class")&&(z=a.getElementsByTagName("attribute"));var M=v.getAttribute("defaultedgetype")||"undirected";"mutual"===M&&(M="undirected");var D=(s=Vl(x))[0],S=s[1],N=(s=Vl(z))[0],k=s[1],C=new r({type:E[0]?E[0].getAttribute("type")||M:"mixed"}),O=function(t){for(var e,r={},n=0,i=t.length;n<i;n++)"#text"!==(e=t[n]).nodeName&&e.textContent.trim()&&(r[e.tagName.toLowerCase()]=e.textContent);return r}(b),W=m&&m.getAttribute("lastmodifieddate");for(C.replaceAttributes(O),W&&C.setAttribute("lastModifiedDate",W),f=0,g=w.length;f<g;f++)a=w[f],C.addNode(a.getAttribute("id"),Yl(D,S,a));for(f=0,g=E.length;f<g;f++)if(d=(a=E[f]).getAttribute("id"),u=a.getAttribute("type")||M,c=a.getAttribute("source"),l=a.getAttribute("target"),h=Yl(N,k,a),u!==C.type&&"mixed"!==C.type&&(C=Gl(C)),!C.multi&&("directed"===u&&C.hasDirectedEdge(c,l)||C.hasUndirectedEdge(c,l))&&(C=ql(C)),o=Rl(C,"directed"!==u,d||null,c,l,h),!p&&(o[2]||o[3]))throw new Error("graphology-gexf/parser: one of your gexf file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.");return C}},$l=Kl(DOMParser,Document);function Xl(t){return"number"!=typeof t&&!t}function Jl(t){if("string"==typeof t)return t;if("number"==typeof t)return t+"";if("function"==typeof t)return t();if(t instanceof Ql)return t.toString();throw Error("Bad Parameter")}function Ql(t,e){if(!(this instanceof Ql))return new Ql;this.name_regex=/[_:A-Za-z][-._:A-Za-z0-9]*/,this.indent=!!t,this.indentString=this.indent&&"string"==typeof t?t:"    ",this.output="",this.stack=[],this.tags=0,this.attributes=0,this.attribute=0,this.texts=0,this.comment=0,this.dtd=0,this.root="",this.pi=0,this.cdata=0,this.started_write=!1,this.writer,this.writer_encoding="UTF-8",this.writer="function"==typeof e?e:function(t,e){this.output+=t}}Ql.prototype={toString:function(){return this.flush(),this.output},indenter:function(){if(this.indent){this.write("\n");for(var t=1;t<this.tags;t++)this.write(this.indentString)}},write:function(){for(var t=0;t<arguments.length;t++)this.writer(arguments[t],this.writer_encoding)},flush:function(){for(var t=this.tags;t>0;t--)this.endElement();this.tags=0},startDocument:function(t,e,r){return this.tags||this.attributes||(this.startPI("xml"),this.startAttribute("version"),this.text("string"==typeof t?t:"1.0"),this.endAttribute(),"string"==typeof e&&(this.startAttribute("encoding"),this.text(e),this.endAttribute(),this.writer_encoding=e),r&&(this.startAttribute("standalone"),this.text("yes"),this.endAttribute()),this.endPI(),this.indent||this.write("\n")),this},endDocument:function(){return this.attributes&&this.endAttributes(),this},writeElement:function(t,e){return this.startElement(t).text(e).endElement()},writeElementNS:function(t,e,r,n){return n||(n=r),this.startElementNS(t,e,r).text(n).endElement()},startElement:function(t){if(!(t=Jl(t)).match(this.name_regex))throw Error("Invalid Parameter");if(0===this.tags&&this.root&&this.root!==t)throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:t,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",t),this.startAttributes(),this.started_write=!0,this},startElementNS:function(t,e,r){if(t=Jl(t),e=Jl(e),!t.match(this.name_regex))throw Error("Invalid Parameter");if(!e.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:t+":"+e,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",t+":"+e),this.startAttributes(),this.started_write=!0,this},endElement:function(){if(!this.tags)return this;var t=this.stack.pop();return this.attributes>0?(this.attribute&&(this.texts&&this.endAttribute(),this.endAttribute()),this.write("/"),this.endAttributes()):(t.containsTag&&this.indenter(),this.write("</",t.name,">")),--this.tags,this.texts=0,this},writeAttribute:function(t,e){return"function"==typeof e&&(e=e()),Xl(e)?this:this.startAttribute(t).text(e).endAttribute()},writeAttributeNS:function(t,e,r,n){return n||(n=r),"function"==typeof n&&(n=n()),Xl(n)?this:this.startAttributeNS(t,e,r).text(n).endAttribute()},startAttributes:function(){return this.attributes=1,this},endAttributes:function(){return this.attributes?(this.attribute&&this.endAttribute(),this.attributes=0,this.attribute=0,this.texts=0,this.write(">"),this):this},startAttribute:function(t){if(!(t=Jl(t)).match(this.name_regex))throw Error("Invalid Parameter");return this.attributes||this.pi?(this.attribute||(this.attribute=1,this.write(" ",t,'="')),this):this},startAttributeNS:function(t,e,r){if(t=Jl(t),e=Jl(e),!t.match(this.name_regex))throw Error("Invalid Parameter");if(!e.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes||this.pi?(this.attribute||(this.attribute=1,this.write(" ",t+":"+e,'="')),this):this},endAttribute:function(){return this.attribute?(this.attribute=0,this.texts=0,this.write('"'),this):this},text:function(t){return t=Jl(t),this.tags||this.comment||this.pi||this.cdata?this.attributes&&this.attribute?(++this.texts,this.write(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),this.comment||this.cdata?this.write(t):this.write(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),++this.texts,this.started_write=!0,this):this},writeComment:function(t){return this.startComment().text(t).endComment()},startComment:function(){return this.comment||(this.attributes&&this.endAttributes(),this.indenter(),this.write("\x3c!--"),this.comment=1,this.started_write=!0),this},endComment:function(){return this.comment?(this.write("--\x3e"),this.comment=0,this):this},writeDocType:function(t,e,r,n){return this.startDocType(t,e,r,n).endDocType()},startDocType:function(t,e,r,n){if(this.dtd||this.tags)return this;if(t=Jl(t),e=e?Jl(e):e,r=r?Jl(r):r,n=n?Jl(n):n,!t.match(this.name_regex))throw Error("Invalid Parameter");if(e&&!e.match(/^[\w\-][\w\s\-\/\+\:\.]*/))throw Error("Invalid Parameter");if(r&&!r.match(/^[\w\.][\w\-\/\\\:\.]*/))throw Error("Invalid Parameter");if(n&&!n.match(/[\w\s\<\>\+\.\!\#\-\?\*\,\(\)\|]*/))throw Error("Invalid Parameter");return e=e?' PUBLIC "'+e+'"':r?" SYSTEM":"",r=r?' "'+r+'"':"",n=n?" ["+n+"]":"",this.started_write&&this.indenter(),this.write("<!DOCTYPE ",t,e,r,n),this.root=t,this.dtd=1,this.started_write=!0,this},endDocType:function(){return this.dtd?(this.write(">"),this):this},writePI:function(t,e){return this.startPI(t).text(e).endPI()},startPI:function(t){if(!(t=Jl(t)).match(this.name_regex))throw Error("Invalid Parameter");return this.pi||(this.attributes&&this.endAttributes(),this.started_write&&this.indenter(),this.write("<?",t),this.pi=1,this.started_write=!0),this},endPI:function(){return this.pi?(this.write("?>"),this.pi=0,this):this},writeCData:function(t){return this.startCData().text(t).endCData()},startCData:function(){return this.cdata||(this.attributes&&this.endAttributes(),this.indenter(),this.write("<![CDATA["),this.cdata=1,this.started_write=!0),this},endCData:function(){return this.cdata?(this.write("]]>"),this.cdata=0,this):this},writeRaw:function(t){return t=Jl(t),this.tags||this.comment||this.pi||this.cdata?this.attributes&&this.attribute?(++this.texts,this.write(t.replace("&","&amp;").replace('"',"&quot;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),++this.texts,this.write(t),this.started_write=!0,this):this}};var Zl=i,tf=yi,ef=Ql,rf=Fl.sanitizeTagName,nf=new Set(["color","size","x","y","z","shape","thickness"]),of=/^\s*rgba?\s*\(/i,af=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)\s*(?:,\s*([.0-9]*))?\)\s*$/;function sf(t){if(!t||"string"!=typeof t)return{};if("#"===t[0])return 3===(t=t.slice(1)).length?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)}:{r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)};if(of.test(t)){var e={};return t=t.match(af),e.r=+t[1],e.g=+t[2],e.b=+t[3],t[4]&&(e.a=+t[4]),e}return{}}function uf(t,e,r){var n,i={};for(n in r)"label"===n?i.label=r.label:"edge"===t&&"weight"===n?i.weight=r.weight:nf.has(n)?(i.viz=i.viz||{},i.viz[n]=r[n]):(i.attributes=i.attributes||{},i.attributes[n]=r[n]);return i}function hf(t){return null==t||""===t||t!=t}function df(t,e){return"liststring"===t&&Array.isArray(e)?e.join("|"):""+e}function cf(t){for(var e,r,n,i,o,a={},s=0,u=t.length;s<u;s++)if(e=t[s].attributes)for(n in e)i=e[n],o=void 0,"empty"!==(r=hf(i)?"empty":Array.isArray(i)?"liststring":"boolean"==typeof i?"boolean":"object"==typeof i?"string":"number"==typeof i?i===(0|i)?(o=i)<=2147483647&&o>=-2147483647?"integer":"long":"double":"string")&&(a[n]?"integer"===a[n]&&"long"===r?a[n]=r:a[n]!==r&&(a[n]="string"):a[n]=r);return a}function lf(t,e,r){var n;if(Object.keys(e).length){for(n in t.startElement("attributes"),t.writeAttribute("class",r),e)t.startElement("attribute"),t.writeAttribute("id",n),t.writeAttribute("title",n),t.writeAttribute("type",e[n]),t.endElement();t.endElement()}}function ff(t,e,r,n){var i,o,a,s,u,h,d,c,l,f,g,p=!Object.keys(r).length;for(t.startElement(e+"s"),f=0,g=n.length;f<g;f++){if(h=(i=n[f]).attributes,c=i.viz,t.startElement(e),t.writeAttribute("id",i.key),"edge"===e&&((u=i.undirected?"undirected":"directed")!==t.defaultEdgeType&&t.writeAttribute("type",u),t.writeAttribute("source",i.source),t.writeAttribute("target",i.target),("number"==typeof(d=i.weight)&&!isNaN(d)||"string"==typeof d)&&t.writeAttribute("weight",i.weight)),i.label&&t.writeAttribute("label",i.label),!p&&h){for(o in t.startElement("attvalues"),r)if(o in h){if(hf(s=h[o]))continue;t.startElement("attvalue"),t.writeAttribute("for",o),t.writeAttribute("value",df(r[o],s)),t.endElement()}t.endElement()}if(c){if(c.color){for(l in a=sf(c.color),t.startElementNS("viz","color"),a)t.writeAttribute(l,a[l]);t.endElement()}"size"in c&&(t.startElementNS("viz","size"),t.writeAttribute("value",c.size),t.endElement()),("x"in c||"y"in c||"z"in c)&&(t.startElementNS("viz","position"),"x"in c&&t.writeAttribute("x",c.x),"y"in c&&t.writeAttribute("y",c.y),"z"in c&&t.writeAttribute("z",c.z),t.endElement()),c.shape&&(t.startElementNS("viz","shape"),t.writeAttribute("value",c.shape),t.endElement()),"thickness"in c&&(t.startElementNS("viz","thickness"),t.writeAttribute("value",c.thickness),t.endElement())}t.endElement()}t.endElement()}var gf={encoding:"UTF-8",pretty:!0,formatNode:uf.bind(null,"node"),formatEdge:uf.bind(null,"edge")};Il.parse=$l,Il.write=function(t,e){if(!Zl(t))throw new Error("graphology-gexf/writer: invalid graphology instance.");var r=!1!==(e=e||{}).pretty&&"  ",n=e.formatNode||gf.formatNode,i=e.formatEdge||gf.formatEdge,o=new ef(r);o.startDocument("1.0",e.encoding||gf.encoding),o.startElement("gexf"),o.writeAttribute("version","1.2"),o.writeAttribute("xmlns","http://www.gexf.net/1.2draft"),o.writeAttribute("xmlns:viz","http:///www.gexf.net/1.1draft/viz"),o.startElement("meta");var a,s,u=t.getAttributes();for(var h in u.lastModifiedDate&&o.writeAttribute("lastmodifieddate",u.lastModifiedDate),u)"lastModifiedDate"!==h&&(a=rf(h))&&("string"!=typeof(s=u[h])&&"number"!=typeof s&&"boolean"!=typeof s||o.writeElement(a,""+s));o.endElement(),o.startElement("graph");var d=tf(t);o.defaultEdgeType="mixed"===d?"directed":d,o.writeAttribute("defaultedgetype",o.defaultEdgeType);var c=function(t,e){var r=new Array(t.order),n=0;return t.forEachNode((function(t,i){var o=e(t,i);o.key=t,r[n++]=o})),r}(t,n),l=function(t,e){var r=new Array(t.size),n=0;return t.forEachEdge((function(t,i,o,a,s,u,h){var d=e(t,i);d.key=t,d.source=o,d.target=a,d.undirected=h,r[n++]=d})),r}(t,i),f=cf(c);lf(o,f,"node");var g=cf(l);return lf(o,g,"edge"),ff(o,"node",f,c),ff(o,"edge",g,l),o.toString()};var pf={},yf={};function vf(t){return("0"+(0|t).toString(16)).slice(-2)}yf.DEFAULT_FORMATTER=function(t){var e,r,n,i;return"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b?((e=function(t){var e={};for(var r in t)"r"!==r&&"g"!==r&&"b"!==r&&(e[r]=t[r]);return e}(t)).color=(r=t.r,n=t.g,i=t.b,"#"+vf(r)+vf(n)+vf(i)),e):t};var mf=o,bf=so.mergeEdge,wf=lc,Ef=gc,Af=yf.DEFAULT_FORMATTER;function xf(t){return+t}var zf={boolean:function(t){return"true"===t.toLowerCase()},int:xf,long:xf,float:xf,double:xf,string:function(t){return t}};function Mf(t,e,r){var n,i,o,a,s,u=r.getElementsByTagName("data"),h={};for(i=0,o=u.length;i<o;i++)void 0===(s=t[a=(n=u[i]).getAttribute("key")])?h[a]=n.textContent:h[s.name]=s.cast(n.textContent);for(a in e)a in h||(h[a]=e[a]);return h}var Df=function(t,e){return function(r,n,i){var o,a=!0===(i=i||{}).addMissingNodes,s=n;if(!mf(r))throw new Error("graphology-graphml/parser: invalid Graph constructor.");if("string"==typeof n&&(s=(new t).parseFromString(n,"application/xml")),!(s instanceof e))throw new Error("graphology-gexf/parser: source should either be a XML document or a string.");var u=s.getElementsByTagName("graph")[0],h=function(t){for(var e,r=t.childNodes,n=[],i=0,o=r.length;i<o;i++)if(1===(e=r[i]).nodeType){if("data"!==e.tagName.toLowerCase())break;n.push(e)}return n}(u),d=s.getElementsByTagName("key"),c=s.getElementsByTagName("node"),l=s.getElementsByTagName("edge"),f=u.getAttribute("edgedefault")||"undirected",g=function(t){var e,r,n,i,o,a,s,u,h,d={graph:{},node:{},edge:{}},c={graph:{},node:{},edge:{}};for(e=0,r=t.length;e<r;e++)n=(s=t[e]).getAttribute("for")||"node",i=s.getAttribute("id"),o=s.getAttribute("attr.name"),a=s.getAttribute("attr.type")||"string",h=void 0,0!==(u=s.getElementsByTagName("default")).length&&(h=u[0].textContent),d[n][i]={name:o,cast:zf[a]},void 0!==h&&(c[n][o]=h);return{models:d,defaults:c}}(d),p=new r({type:f}),y=u.getAttribute("id");y&&p.setAttribute("id",y);var v=s.createElement("graph");h.forEach((function(t){v.appendChild(t)}));var m,b,w,E,A,x,z,M,D,S=Mf(g.models.graph,g.defaults.graph,v);for(p.mergeAttributes(S),m=0,b=c.length;m<b;m++)E=(w=c[m]).getAttribute("id"),A=Mf(g.models.node,g.defaults.node,w),A=Af(A),p.addNode(E,A);for(m=0,b=l.length;m<b;m++)if(E=(x=l[m]).getAttribute("id"),z=x.getAttribute("source"),M=x.getAttribute("target"),D="true"===x.getAttribute("directed")?"directed":f,A=Mf(g.models.edge,g.defaults.edge,x),A=Af(A),"mixed"!==!p.type&&D!==p.type&&(p=wf(p)),p.multi||("undirected"===D?p.hasUndirectedEdge(z,M)&&(p=Ef(p)):p.hasDirectedEdge(z,M)&&(p=Ef(p))),o=bf(p,"undirected"===D,E||null,z,M,A),!a&&(o[2]||o[3]))throw new Error("graphology-graphml/parser: one of your graphml file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.");return p}},Sf=Df(DOMParser,Document);pf.parse=Sf;var Nf=r.assertions=y,kf=r.canvas=gi,Cf=r.communitiesLouvain=io,Of=r.components=mo,Wf=r.generators=na,jf=r.layout=Ja,_f=r.layoutForce=Qa,Pf=r.layoutForceAtlas2=hs,Uf=r.layoutNoverlap=bs,If=r.metrics=Zd,Ff=r.operators=wc,Tf=r.shortestPath=jc,Lf=r.simplePath=Lc,Rf=r.traversal=ul,Gf=r.utils=fl,qf=r.ForceLayout=xl,Bf=r.FA2Layout=Cl,Hf=r.NoverlapLayout=Ul,Vf=r.gexf=Il,Yf=r.graphml=pf;t.FA2Layout=Bf,t.ForceLayout=qf,t.NoverlapLayout=Hf,t.assertions=Nf,t.canvas=kf,t.communitiesLouvain=Cf,t.components=Of,t.default=r,t.generators=Wf,t.gexf=Vf,t.graphml=Yf,t.layout=jf,t.layoutForce=_f,t.layoutForceAtlas2=Pf,t.layoutNoverlap=Uf,t.metrics=If,t.operators=Ff,t.shortestPath=Tf,t.simplePath=Lf,t.traversal=Rf,t.utils=Gf,Object.defineProperty(t,"__esModule",{value:!0})}));
//# <-- sourceMappingURL=graphology-library.min.js.map
//# --> sigma.js
var Sigma;(()=>{var t={796:t=>{t.exports=function(t,e){var r=e.length;if(0!==r){var i=t.length;t.length+=r;for(var n=0;n<r;n++)t[i+n]=e[n]}}},187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var n=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,i){function n(r){t.removeListener(e,o),i(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",n),r([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,n)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,r,i){var n,o,a,l;if(s(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),(n=h(t))>0&&a.length>n&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,l=c,console&&console.warn&&console.warn(l)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=c.bind(i);return n.listener=r,i.wrapFn=n,n}function d(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):p(n,n.length)}function f(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function g(t,e,r,i){if("function"==typeof t.on)i.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function n(o){i.once&&t.removeEventListener(e,n),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var h=o[t];if(void 0===h)return!1;if("function"==typeof h)i(h,this,e);else{var l=h.length,c=p(h,l);for(r=0;r<l;++r)i(c[r],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,u(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,u(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,i,n,o,a;if(s(e),void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return d(this,t,!0)},o.prototype.rawListeners=function(t){return d(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},186:t=>{t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi}},973:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main(void) {\n  gl_FragColor = v_color;\n}\n"},912:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_radius;\nattribute vec4 a_color;\nattribute vec3 a_barycentric;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadWidthLengthRatio = 0.66;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl and\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\n  // happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n  float adaptedWebGLNodeRadius = a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n  float adaptedWebGLArrowHeadHalfWidth = adaptedWebGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\n\n  float da = a_barycentric.x;\n  float db = a_barycentric.y;\n  float dc = a_barycentric.z;\n\n  vec2 delta = vec2(\n      da * (adaptedWebGLNodeRadius * unitNormal.y)\n    + db * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y + adaptedWebGLArrowHeadHalfWidth * unitNormal.x)\n    + dc * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y - adaptedWebGLArrowHeadHalfWidth * unitNormal.x),\n\n      da * (-adaptedWebGLNodeRadius * unitNormal.x)\n    + db * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x + adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\n    + dc * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x - adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\n  );\n\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\n\n  gl_Position = vec4(position, 0, 1);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},620:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\nattribute float a_radius;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl. Please read it to\n  // get better comments on what's happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n\n  // Here, we move the point to leave space for the arrow head:\n  float direction = sign(a_radius);\n  float adaptedWebGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength);\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness + compensationVector, 1)).xy, 0, 1);\n\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},498:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float feather = 0.001;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_normal) * v_thickness;\n\n  float t = smoothstep(\n    v_thickness - feather,\n    v_thickness,\n    dist\n  );\n\n  gl_FragColor = mix(v_color, transparent, t);\n}\n"},223:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i='attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // We require edges to be at least `minThickness` pixels thick *on screen*\n  // (so we need to compensate the SQRT zoom ratio):\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\n  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction\n  // ratio:\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n\n  // Finally, we adapt the edge thickness to the "SQRT rule" in sigma (so that\n  // items are not too big when zoomed in, and not too small when zoomed out).\n  // The exact computation should be `adapted = value * zoom / sqrt(zoom)`, but\n  // it\'s simpler like this:\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness, 1)).xy, 0, 1);\n\n  // For the fragment shader though, we need a thickness that takes the "magic"\n  // correction ratio into account (as in webGLThickness), but so that the\n  // antialiasing effect does not depend on the zoom level. So here\'s yet\n  // another thickness version:\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n'},262:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="precision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float radius = 0.5;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\n  float dist = radius - length(m);\n\n  float t = 0.0;\n  if (dist > v_border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / v_border;\n\n  gl_FragColor = mix(transparent, v_color, t);\n}\n"},106:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="attribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\n\nuniform float u_ratio;\nuniform float u_scale;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\n\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},764:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(751),s=o(r(358)),h=r(928),l=r(699),c=1.5,u=function(t){function e(){var e=t.call(this)||this;return e.x=.5,e.y=.5,e.angle=0,e.ratio=1,e.minRatio=null,e.maxRatio=null,e.nextFrame=null,e.previousState=null,e.enabled=!0,e.previousState=e.getState(),e}return n(e,t),e.from=function(t){return(new e).setState(t)},e.prototype.enable=function(){return this.enabled=!0,this},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.getState=function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}},e.prototype.hasState=function(t){return this.x===t.x&&this.y===t.y&&this.ratio===t.ratio&&this.angle===t.angle},e.prototype.getPreviousState=function(){var t=this.previousState;return t?{x:t.x,y:t.y,angle:t.angle,ratio:t.ratio}:null},e.prototype.getBoundedRatio=function(t){var e=t;return"number"==typeof this.minRatio&&(e=Math.max(e,this.minRatio)),"number"==typeof this.maxRatio&&(e=Math.min(e,this.maxRatio)),e},e.prototype.validateState=function(t){var e={};return"number"==typeof t.x&&(e.x=t.x),"number"==typeof t.y&&(e.y=t.y),"number"==typeof t.angle&&(e.angle=t.angle),"number"==typeof t.ratio&&(e.ratio=this.getBoundedRatio(t.ratio)),e},e.prototype.isAnimated=function(){return!!this.nextFrame},e.prototype.setState=function(t){if(!this.enabled)return this;this.previousState=this.getState();var e=this.validateState(t);return"number"==typeof e.x&&(this.x=e.x),"number"==typeof e.y&&(this.y=e.y),"number"==typeof e.angle&&(this.angle=e.angle),"number"==typeof e.ratio&&(this.ratio=e.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this},e.prototype.updateState=function(t){return this.setState(t(this.getState())),this},e.prototype.animate=function(t,e,r){var i=this;if(this.enabled){var n=Object.assign({},a.ANIMATE_DEFAULTS,e),o=this.validateState(t),l="function"==typeof n.easing?n.easing:s.default[n.easing],c=Date.now(),u=this.getState(),d=function(){var t=(Date.now()-c)/n.duration;if(t>=1)return i.nextFrame=null,i.setState(o),void(i.animationCallback&&(i.animationCallback.call(null),i.animationCallback=void 0));var e=l(t),r={};"number"==typeof o.x&&(r.x=u.x+(o.x-u.x)*e),"number"==typeof o.y&&(r.y=u.y+(o.y-u.y)*e),"number"==typeof o.angle&&(r.angle=u.angle+(o.angle-u.angle)*e),"number"==typeof o.ratio&&(r.ratio=u.ratio+(o.ratio-u.ratio)*e),i.setState(r),i.nextFrame=(0,h.requestFrame)(d)};this.nextFrame?((0,h.cancelFrame)(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=(0,h.requestFrame)(d)):d(),this.animationCallback=r}},e.prototype.animatedZoom=function(t){if(t){if("number"==typeof t)return this.animate({ratio:this.ratio/t});this.animate({ratio:this.ratio/(t.factor||c)},t)}else this.animate({ratio:this.ratio/c})},e.prototype.animatedUnzoom=function(t){if(t){if("number"==typeof t)return this.animate({ratio:this.ratio*t});this.animate({ratio:this.ratio*(t.factor||c)},t)}else this.animate({ratio:this.ratio*c})},e.prototype.animatedReset=function(t){this.animate({x:.5,y:.5,ratio:1,angle:0},t)},e.prototype.copy=function(){return e.from(this.getState())},e}(l.TypedEventEmitter);e.default=u},291:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getWheelDelta=e.getTouchCoords=e.getTouchesArray=e.getWheelCoords=e.getMouseCoords=e.getPosition=void 0;var a=r(699);function s(t,e){var r=e.getBoundingClientRect();return{x:t.clientX-r.left,y:t.clientY-r.top}}function h(t,e){var r=o(o({},s(t,e)),{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){r.sigmaDefaultPrevented=!0},original:t});return r}function l(t){for(var e=[],r=0,i=Math.min(t.length,2);r<i;r++)e.push(t[r]);return e}function c(t){if(void 0!==t.deltaY)return-3*t.deltaY/360;if(void 0!==t.detail)return t.detail/-9;throw new Error("Captor: could not extract delta from event.")}e.getPosition=s,e.getMouseCoords=h,e.getWheelCoords=function(t,e){return o(o({},h(t,e)),{delta:c(t)})},e.getTouchesArray=l,e.getTouchCoords=function(t,e){return{touches:l(t.touches).map((function(t){return s(t,e)})),original:t}},e.getWheelDelta=c;var u=function(t){function e(e,r){var i=t.call(this)||this;return i.container=e,i.renderer=r,i}return n(e,t),e}(a.TypedEventEmitter);e.default=u},269:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var h=s(r(291)),l=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.enabled=!0,i.draggedEvents=0,i.downStartTime=null,i.lastMouseX=null,i.lastMouseY=null,i.isMouseDown=!1,i.isMoving=!1,i.movingTimeout=null,i.startCameraState=null,i.clicks=0,i.doubleClickTimeout=null,i.currentWheelDirection=0,i.handleClick=i.handleClick.bind(i),i.handleRightClick=i.handleRightClick.bind(i),i.handleDown=i.handleDown.bind(i),i.handleUp=i.handleUp.bind(i),i.handleMove=i.handleMove.bind(i),i.handleWheel=i.handleWheel.bind(i),i.handleOut=i.handleOut.bind(i),e.addEventListener("click",i.handleClick,!1),e.addEventListener("contextmenu",i.handleRightClick,!1),e.addEventListener("mousedown",i.handleDown,!1),e.addEventListener("wheel",i.handleWheel,!1),e.addEventListener("mouseout",i.handleOut,!1),document.addEventListener("mousemove",i.handleMove,!1),document.addEventListener("mouseup",i.handleUp,!1),i}return n(e,t),e.prototype.kill=function(){var t=this.container;t.removeEventListener("click",this.handleClick),t.removeEventListener("contextmenu",this.handleRightClick),t.removeEventListener("mousedown",this.handleDown),t.removeEventListener("wheel",this.handleWheel),t.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)},e.prototype.handleClick=function(t){var e=this;if(this.enabled){if(this.clicks++,2===this.clicks)return this.clicks=0,"number"==typeof this.doubleClickTimeout&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(t);setTimeout((function(){e.clicks=0,e.doubleClickTimeout=null}),300),this.draggedEvents<3&&this.emit("click",(0,h.getMouseCoords)(t,this.container))}},e.prototype.handleRightClick=function(t){this.enabled&&this.emit("rightClick",(0,h.getMouseCoords)(t,this.container))},e.prototype.handleDoubleClick=function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e=(0,h.getMouseCoords)(t,this.container);if(this.emit("doubleClick",e),!e.sigmaDefaultPrevented){var r=this.renderer.getCamera(),i=r.getBoundedRatio(r.getState().ratio/2.2);r.animate(this.renderer.getViewportZoomedState((0,h.getPosition)(t,this.container),i),{easing:"quadraticInOut",duration:200})}}},e.prototype.handleDown=function(t){if(this.enabled){if(0===t.button){this.startCameraState=this.renderer.getCamera().getState();var e=(0,h.getPosition)(t,this.container),r=e.x,i=e.y;this.lastMouseX=r,this.lastMouseY=i,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",(0,h.getMouseCoords)(t,this.container))}},e.prototype.handleUp=function(t){var e=this;if(this.enabled&&this.isMouseDown){var r=this.renderer.getCamera();this.isMouseDown=!1,"number"==typeof this.movingTimeout&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var i=(0,h.getPosition)(t,this.container),n=i.x,o=i.y,a=r.getState(),s=r.getPreviousState()||{x:0,y:0};this.isMoving?r.animate({x:a.x+3*(a.x-s.x),y:a.y+3*(a.y-s.y)},{duration:200,easing:"quadraticOut"}):this.lastMouseX===n&&this.lastMouseY===o||r.setState({x:a.x,y:a.y}),this.isMoving=!1,setTimeout((function(){e.draggedEvents=0,e.renderer.refresh()}),0),this.emit("mouseup",(0,h.getMouseCoords)(t,this.container))}},e.prototype.handleMove=function(t){var e=this;if(this.enabled){var r=(0,h.getMouseCoords)(t,this.container);if(this.emit("mousemovebody",r),t.target===this.container&&this.emit("mousemove",r),!r.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,"number"==typeof this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout((function(){e.movingTimeout=null,e.isMoving=!1}),100);var i=this.renderer.getCamera(),n=(0,h.getPosition)(t,this.container),o=n.x,a=n.y,s=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),l=this.renderer.viewportToFramedGraph({x:o,y:a}),c=s.x-l.x,u=s.y-l.y,d=i.getState(),f=d.x+c,p=d.y+u;i.setState({x:f,y:p}),this.lastMouseX=o,this.lastMouseY=a,t.preventDefault(),t.stopPropagation()}}},e.prototype.handleWheel=function(t){var e=this;if(this.enabled){t.preventDefault(),t.stopPropagation();var r=(0,h.getWheelDelta)(t);if(r){var i=(0,h.getWheelCoords)(t,this.container);if(this.emit("wheel",i),!i.sigmaDefaultPrevented){var n=r>0?1/1.7:1.7,o=this.renderer.getCamera(),a=o.getBoundedRatio(o.getState().ratio*n),s=r>0?1:-1,l=Date.now();this.currentWheelDirection===s&&this.lastWheelTriggerTime&&l-this.lastWheelTriggerTime<50||(o.animate(this.renderer.getViewportZoomedState((0,h.getPosition)(t,this.container),a),{easing:"quadraticOut",duration:250},(function(){e.currentWheelDirection=0})),this.currentWheelDirection=s,this.lastWheelTriggerTime=l)}}}},e.prototype.handleOut=function(){},e}(h.default);e.default=l},508:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return a(e,t),e},h=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var l=s(r(291)),c=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.enabled=!0,i.isMoving=!1,i.hasMoved=!1,i.touchMode=0,i.startTouchesPositions=[],i.handleStart=i.handleStart.bind(i),i.handleLeave=i.handleLeave.bind(i),i.handleMove=i.handleMove.bind(i),e.addEventListener("touchstart",i.handleStart,!1),e.addEventListener("touchend",i.handleLeave,!1),e.addEventListener("touchcancel",i.handleLeave,!1),e.addEventListener("touchmove",i.handleMove,!1),i}return n(e,t),e.prototype.kill=function(){var t=this.container;t.removeEventListener("touchstart",this.handleStart),t.removeEventListener("touchend",this.handleLeave),t.removeEventListener("touchcancel",this.handleLeave),t.removeEventListener("touchmove",this.handleMove)},e.prototype.getDimensions=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},e.prototype.dispatchRelatedMouseEvent=function(t,e,r,i){var n=r||e.touches[0],o=new MouseEvent(t,{clientX:n.clientX,clientY:n.clientY,altKey:e.altKey,ctrlKey:e.ctrlKey});o.isFakeSigmaMouseEvent=!0,(i||this.container).dispatchEvent(o)},e.prototype.handleStart=function(t){var e=this;if(this.enabled){t.preventDefault(),1===t.touches.length&&this.dispatchRelatedMouseEvent("mousedown",t);var r=(0,l.getTouchesArray)(t.touches);if(this.touchMode=r.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=r.map((function(t){return(0,l.getPosition)(t,e.container)})),this.lastTouches=r,this.lastTouchesPositions=this.startTouchesPositions,2===this.touchMode){var i=h(this.startTouchesPositions,2),n=i[0],o=n.x,a=n.y,s=i[1],c=s.x,u=s.y;this.startTouchesAngle=Math.atan2(u-a,c-o),this.startTouchesDistance=Math.sqrt(Math.pow(c-o,2)+Math.pow(u-a,2))}this.emit("touchdown",(0,l.getTouchCoords)(t,this.container))}},e.prototype.handleLeave=function(t){if(this.enabled){switch(t.preventDefault(),0===t.touches.length&&this.lastTouches&&this.lastTouches.length&&(this.dispatchRelatedMouseEvent("mouseup",t,this.lastTouches[0],document),this.hasMoved||this.dispatchRelatedMouseEvent("click",t,this.lastTouches[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(1===t.touches.length){this.handleStart(t),t.preventDefault();break}case 1:if(this.isMoving){var e=this.renderer.getCamera(),r=e.getState(),i=e.getPreviousState()||{x:0,y:0};e.animate({x:r.x+3*(r.x-i.x),y:r.y+3*(r.y-i.y)},{duration:200,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0}this.emit("touchup",(0,l.getTouchCoords)(t,this.container))}},e.prototype.handleMove=function(t){var e,r=this;if(this.enabled){t.preventDefault(),1===t.touches.length&&this.dispatchRelatedMouseEvent("mousemove",t);var i=(0,l.getTouchesArray)(t.touches),n=i.map((function(t){return(0,l.getPosition)(t,r.container)}));if(this.lastTouches=i,this.lastTouchesPositions=n,this.hasMoved||(this.hasMoved=n.some((function(t,e){var i=r.startTouchesPositions[e];return t.x!==i.x||t.y!==i.y}))),this.hasMoved){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout((function(){r.isMoving=!1}),200);var o=this.renderer.getCamera(),a=this.startCameraState;switch(this.touchMode){case 1:var s=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),c=s.x,u=s.y,d=this.renderer.viewportToFramedGraph(n[0]),f=d.x,p=d.y;o.setState({x:a.x+c-f,y:a.y+u-p});break;case 2:var g={},v=n[0],m=v.x,y=v.y,b=n[1],_=b.x,x=b.y,w=Math.atan2(x-y,_-m)-this.startTouchesAngle,E=Math.hypot(x-y,_-m)/this.startTouchesDistance,L=o.getBoundedRatio(a.ratio/E);g.ratio=L,g.angle=a.angle+w;var F=this.getDimensions(),C=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:a}),A=Math.min(F.width,F.height),T=A/F.width,P=L/A;p=y-A/2/(A/F.height),f=(e=h([(f=m-A/2/T)*Math.cos(-g.angle)-p*Math.sin(-g.angle),p*Math.cos(-g.angle)+f*Math.sin(-g.angle)],2))[0],p=e[1],g.x=C.x-f*P,g.y=C.y+p*P,o.setState(g)}this.emit("touchmove",(0,l.getTouchCoords)(t,this.container))}}},e}(l.default);e.default=c},730:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.edgeLabelsToDisplayFromNodes=e.LabelGrid=void 0;var r=function(){function t(t,e){this.key=t,this.size=e}return t.compare=function(t,e){return t.size>e.size?-1:t.size<e.size||t.key>e.key?1:-1},t}(),i=function(){function t(){this.width=0,this.height=0,this.cellSize=0,this.columns=0,this.rows=0,this.cells={}}return t.prototype.resizeAndClear=function(t,e){this.width=t.width,this.height=t.height,this.cellSize=e,this.columns=Math.ceil(t.width/e),this.rows=Math.ceil(t.height/e),this.cells={}},t.prototype.getIndex=function(t){var e=Math.floor(t.x/this.cellSize);return Math.floor(t.y/this.cellSize)*this.columns+e},t.prototype.add=function(t,e,i){var n=new r(t,e),o=this.getIndex(i),a=this.cells[o];a||(a=[],this.cells[o]=a),a.push(n)},t.prototype.organize=function(){for(var t in this.cells)this.cells[t].sort(r.compare)},t.prototype.getLabelsToDisplay=function(t,e){var r=this.cellSize*this.cellSize,i=r/t/t*e/r,n=Math.ceil(i),o=[];for(var a in this.cells)for(var s=this.cells[a],h=0;h<Math.min(n,s.length);h++)o.push(s[h].key);return o},t}();e.LabelGrid=i,e.edgeLabelsToDisplayFromNodes=function(t){var e=t.graph,r=t.hoveredNode,i=t.highlightedNodes,n=t.displayedNodeLabels,o=[];return e.forEachEdge((function(t,e,a,s){(a===r||s===r||i.has(a)||i.has(s)||n.has(a)&&n.has(s))&&o.push(t)})),o}},134:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.rectangleCollidesWithQuad=e.squareCollidesWithQuad=e.getCircumscribedAlignedRectangle=e.isRectangleAligned=void 0;var n=i(r(796)),o=!1;function a(t){return t.x1===t.x2||t.y1===t.y2}function s(t){var e=Math.sqrt(Math.pow(t.x2-t.x1,2)+Math.pow(t.y2-t.y1,2)),r=(t.y1-t.y2)*t.height/e,i=(t.x2-t.x1)*t.height/e,n={x:t.x1,y:t.y1},o={x:t.x2,y:t.y2},a={x:t.x1+r,y:t.y1+i},s={x:t.x2+r,y:t.y2+i},h=Math.min(n.x,o.x,a.x,s.x),l=Math.max(n.x,o.x,a.x,s.x),c=Math.min(n.y,o.y,a.y,s.y);return{x1:h,y1:c,x2:l,y2:c,height:Math.max(n.y,o.y,a.y,s.y)-c}}function h(t,e,r,i,n,o,a){return t<i+o&&t+r>i&&e<n+a&&e+r>n}function l(t,e,r,i,n,o,a,s){return t<n+a&&t+r>n&&e<o+s&&e+i>o}function c(t,e,r,i,n,o){var a=t<r+n/2;return e<i+o/2?a?1:2:a?3:4}e.isRectangleAligned=a,e.getCircumscribedAlignedRectangle=s,e.squareCollidesWithQuad=h,e.rectangleCollidesWithQuad=l;var u=function(){function t(t){var e;void 0===t&&(t={}),this.containers=((e={})[5460]=[],e),this.cache=null,this.lastRectangle=null;var r=Math.pow(4,5);this.data=new Float32Array((4*r-1)/3*4),t.boundaries?this.resize(t.boundaries):this.resize({x:0,y:0,width:1,height:1})}return t.prototype.add=function(t,e,r,i){return function(t,e,r,i,n,a,s){for(var l=n-s,c=a-s,u=2*s,d=0,f=0;;){if(d>=5)return r[f]=r[f]||[],void r[f].push(i);var p=4*f+4,g=4*f+8,v=4*f+12,m=4*f+16,y=h(l,c,u,e[p+0],e[p+1],e[p+2],e[p+3]),b=h(l,c,u,e[g+0],e[g+1],e[g+2],e[g+3]),_=h(l,c,u,e[v+0],e[v+1],e[v+2],e[v+3]),x=h(l,c,u,e[m+0],e[m+1],e[m+2],e[m+3]),w=[y,b,_,x].reduce((function(t,e){return e?t+1:t}),0);if(0===w&&0===d)return r[5460].push(i),void(!o&&r[5460].length>=5&&(o=!0,console.warn("sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. You might have a problem with the normalization function or the custom bounding box.")));if(0===w)throw new Error("sigma/quadtree.insertNode: no collision (level: ".concat(d,", key: ").concat(i,", x: ").concat(n,", y: ").concat(a,", size: ").concat(s,")."));if(3===w)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: ".concat(d,", key: ").concat(i,", x: ").concat(n,", y: ").concat(a,", size: ").concat(s,")."));if(w>1)return r[f]=r[f]||[],void r[f].push(i);d++,y&&(f=p),b&&(f=g),_&&(f=v),x&&(f=m)}}(0,this.data,this.containers,t,e,r,i),this},t.prototype.resize=function(t){this.clear(),this.data[0]=t.x,this.data[1]=t.y,this.data[2]=t.width,this.data[3]=t.height,function(t,e){for(var r=[0,0];r.length;){var i=r.pop(),n=r.pop(),o=4*n+4,a=4*n+8,s=4*n+12,h=4*n+16,l=e[n+0],c=e[n+1],u=e[n+2]/2,d=e[n+3]/2;e[o+0]=l,e[o+1]=c,e[o+2]=u,e[o+3]=d,e[a+0]=l+u,e[a+1]=c,e[a+2]=u,e[a+3]=d,e[s+0]=l,e[s+1]=c+d,e[s+2]=u,e[s+3]=d,e[h+0]=l+u,e[h+1]=c+d,e[h+2]=u,e[h+3]=d,i<4&&(r.push(h,i+1),r.push(s,i+1),r.push(a,i+1),r.push(o,i+1))}}(0,this.data)},t.prototype.clear=function(){var t;return this.containers=((t={})[5460]=[],t),this},t.prototype.point=function(t,e){var r=this.containers[5460].slice(),i=0,o=0;do{this.containers[i]&&(0,n.default)(r,this.containers[i]),i=4*i+4*c(t,e,this.data[i+0],this.data[i+1],this.data[i+2],this.data[i+3]),o++}while(o<=5);return r},t.prototype.rectangle=function(t,e,r,i,o){var h=this.lastRectangle;return h&&t===h.x1&&r===h.x2&&e===h.y1&&i===h.y2&&o===h.height||(this.lastRectangle={x1:t,y1:e,x2:r,y2:i,height:o},a(this.lastRectangle)||(this.lastRectangle=s(this.lastRectangle)),this.cache=function(t,e,r,i,o,a,s){for(var h,c=[0,0],u=[];c.length;){var d=c.pop(),f=c.pop();if((h=r[f])&&(0,n.default)(u,h),!(d>=5)){var p=4*f+4,g=4*f+8,v=4*f+12,m=4*f+16,y=l(i,o,a,s,e[p+0],e[p+1],e[p+2],e[p+3]),b=l(i,o,a,s,e[g+0],e[g+1],e[g+2],e[g+3]),_=l(i,o,a,s,e[v+0],e[v+1],e[v+2],e[v+3]),x=l(i,o,a,s,e[m+0],e[m+1],e[m+2],e[m+3]);y&&c.push(p,d+1),b&&c.push(g,d+1),_&&c.push(v,d+1),x&&c.push(m,d+1)}}return u}(0,this.data,this.containers,t,e,Math.abs(t-r)||Math.abs(e-i),o),(0,n.default)(this.cache,this.containers[5460])),this.cache},t}();e.default=u},265:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r(159)),s=o(r(764)),h=o(r(134)),l=o(r(269)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.Camera=s.default,e.QuadTree=h.default,e.MouseCaptor=l.default,e.Sigma=a.default,e}(a.default);t.exports=c},942:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,i,n){var o=n.edgeLabelSize,a=n.edgeLabelFont,s=n.edgeLabelWeight,h=n.edgeLabelColor.attribute?e[n.edgeLabelColor.attribute]||n.edgeLabelColor.color||"#000":n.edgeLabelColor.color,l=e.label;if(l){t.fillStyle=h,t.font="".concat(s," ").concat(o,"px ").concat(a);var c,u,d=r.size,f=i.size,p=r.x,g=r.y,v=i.x,m=i.y,y=v-p,b=m-g,_=Math.sqrt(y*y+b*b);if(!(_<d+f)){c=((p+=y*d/_)+(v-=y*f/_))/2,u=((g+=b*d/_)+(m-=b*f/_))/2,y=v-p,b=m-g,_=Math.sqrt(y*y+b*b);var x,w=t.measureText(l).width;if(w>_){for(l+="",w=t.measureText(l).width;w>_&&l.length>1;)l=l.slice(0,-2)+"",w=t.measureText(l).width;if(l.length<4)return}x=y>0?b>0?Math.acos(y/_):Math.asin(b/_):b>0?Math.acos(y/_)+Math.PI:Math.asin(y/_)+Math.PI/2,t.save(),t.translate(c,u),t.rotate(x),t.fillText(l,-w/2,e.size/2+o),t.restore()}}}},61:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(622));e.default=function(t,e,r){var i=r.labelSize,o=r.labelFont,a=r.labelWeight;if(t.font="".concat(a," ").concat(i,"px ").concat(o),t.fillStyle="#FFF",t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=8,t.shadowColor="#000","string"==typeof e.label){var s=t.measureText(e.label).width,h=Math.round(s+5),l=Math.round(i+4),c=Math.max(e.size,i/2)+2,u=Math.asin(l/2/c),d=Math.sqrt(Math.abs(Math.pow(c,2)-Math.pow(l/2,2)));t.beginPath(),t.moveTo(e.x+d,e.y+l/2),t.lineTo(e.x+c+h,e.y+l/2),t.lineTo(e.x+c+h,e.y-l/2),t.lineTo(e.x+d,e.y-l/2),t.arc(e.x,e.y,c,u,-u),t.closePath(),t.fill()}else t.beginPath(),t.arc(e.x,e.y,e.size+2,0,2*Math.PI),t.closePath(),t.fill();t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,(0,n.default)(t,e,r)}},622:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){if(e.label){var i=r.labelSize,n=r.labelFont,o=r.labelWeight,a=r.labelColor.attribute?e[r.labelColor.attribute]||r.labelColor.color||"#000":r.labelColor.color;t.fillStyle=a,t.font="".concat(o," ").concat(i,"px ").concat(n),t.fillText(e.label,e.x+e.size+3,e.y+i/3)}}},195:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.createEdgeCompoundProgram=e.AbstractEdgeProgram=void 0;var o=function(t){function e(e,r,i,n,o){return t.call(this,e,r,i,n,o)||this}return n(e,t),e}(r(171).AbstractProgram);e.AbstractEdgeProgram=o,e.createEdgeCompoundProgram=function(t){return function(){function e(e,r){this.programs=t.map((function(t){return new t(e,r)}))}return e.prototype.bufferData=function(){this.programs.forEach((function(t){return t.bufferData()}))},e.prototype.allocate=function(t){this.programs.forEach((function(e){return e.allocate(t)}))},e.prototype.bind=function(){},e.prototype.computeIndices=function(){this.programs.forEach((function(t){return t.computeIndices()}))},e.prototype.render=function(t){this.programs.forEach((function(e){e.bind(),e.bufferData(),e.render(t)}))},e.prototype.process=function(t,e,r,i,n){this.programs.forEach((function(o){return o.process(t,e,r,i,n)}))},e}()}},909:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.createNodeCompoundProgram=e.AbstractNodeProgram=void 0;var o=function(t){function e(e,r,i,n,o){var a=t.call(this,e,r,i,n,o)||this;a.positionLocation=e.getAttribLocation(a.program,"a_position"),a.sizeLocation=e.getAttribLocation(a.program,"a_size"),a.colorLocation=e.getAttribLocation(a.program,"a_color");var s=e.getUniformLocation(a.program,"u_matrix");if(null===s)throw new Error("AbstractNodeProgram: error while getting matrixLocation");a.matrixLocation=s;var h=e.getUniformLocation(a.program,"u_ratio");if(null===h)throw new Error("AbstractNodeProgram: error while getting ratioLocation");a.ratioLocation=h;var l=e.getUniformLocation(a.program,"u_scale");if(null===l)throw new Error("AbstractNodeProgram: error while getting scaleLocation");return a.scaleLocation=l,a}return n(e,t),e.prototype.bind=function(){var t=this.gl;t.enableVertexAttribArray(this.positionLocation),t.enableVertexAttribArray(this.sizeLocation),t.enableVertexAttribArray(this.colorLocation),t.vertexAttribPointer(this.positionLocation,2,t.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.sizeLocation,1,t.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(this.colorLocation,4,t.UNSIGNED_BYTE,!0,this.attributes*Float32Array.BYTES_PER_ELEMENT,12)},e}(r(171).AbstractProgram);e.AbstractNodeProgram=o,e.createNodeCompoundProgram=function(t){return function(){function e(e,r){this.programs=t.map((function(t){return new t(e,r)}))}return e.prototype.bufferData=function(){this.programs.forEach((function(t){return t.bufferData()}))},e.prototype.allocate=function(t){this.programs.forEach((function(e){return e.allocate(t)}))},e.prototype.bind=function(){},e.prototype.render=function(t){this.programs.forEach((function(e){e.bind(),e.bufferData(),e.render(t)}))},e.prototype.process=function(t,e,r){this.programs.forEach((function(i){return i.process(t,e,r)}))},e}()}},171:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractProgram=void 0;var i=r(706),n=function(){function t(t,e,r,n,o){this.array=new Float32Array,this.points=n,this.attributes=o,this.gl=t,this.vertexShaderSource=e,this.fragmentShaderSource=r;var a=t.createBuffer();if(null===a)throw new Error("AbstractProgram: error while creating the buffer");this.buffer=a,t.bindBuffer(t.ARRAY_BUFFER,this.buffer),this.vertexShader=(0,i.loadVertexShader)(t,this.vertexShaderSource),this.fragmentShader=(0,i.loadFragmentShader)(t,this.fragmentShaderSource),this.program=(0,i.loadProgram)(t,[this.vertexShader,this.fragmentShader])}return t.prototype.bufferData=function(){var t=this.gl;t.bufferData(t.ARRAY_BUFFER,this.array,t.DYNAMIC_DRAW)},t.prototype.allocate=function(t){this.array=new Float32Array(this.points*this.attributes*t)},t.prototype.hasNothingToRender=function(){return 0===this.array.length},t}();e.AbstractProgram=n},569:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(195),o=i(r(805)),a=i(r(483)),s=(0,n.createEdgeCompoundProgram)([a.default,o.default]);e.default=s},805:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(928),s=o(r(912)),h=o(r(973)),l=function(t){function e(e){var r=t.call(this,e,s.default,h.default,3,9)||this;r.positionLocation=e.getAttribLocation(r.program,"a_position"),r.colorLocation=e.getAttribLocation(r.program,"a_color"),r.normalLocation=e.getAttribLocation(r.program,"a_normal"),r.radiusLocation=e.getAttribLocation(r.program,"a_radius"),r.barycentricLocation=e.getAttribLocation(r.program,"a_barycentric");var i=e.getUniformLocation(r.program,"u_matrix");if(null===i)throw new Error("EdgeArrowHeadProgram: error while getting matrixLocation");r.matrixLocation=i;var n=e.getUniformLocation(r.program,"u_sqrtZoomRatio");if(null===n)throw new Error("EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation");r.sqrtZoomRatioLocation=n;var o=e.getUniformLocation(r.program,"u_correctionRatio");if(null===o)throw new Error("EdgeArrowHeadProgram: error while getting correctionRatioLocation");return r.correctionRatioLocation=o,r.bind(),r}return n(e,t),e.prototype.bind=function(){var t=this.gl;t.enableVertexAttribArray(this.positionLocation),t.enableVertexAttribArray(this.normalLocation),t.enableVertexAttribArray(this.radiusLocation),t.enableVertexAttribArray(this.colorLocation),t.enableVertexAttribArray(this.barycentricLocation),t.vertexAttribPointer(this.positionLocation,2,t.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.normalLocation,2,t.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(this.radiusLocation,1,t.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(this.colorLocation,4,t.UNSIGNED_BYTE,!0,9*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(this.barycentricLocation,3,t.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,24)},e.prototype.computeIndices=function(){},e.prototype.process=function(t,e,r,i,n){if(i)for(var o=27*n,s=o+27;o<s;o++)this.array[o]=0;else{var h=r.size||1,l=e.size||1,c=t.x,u=t.y,d=e.x,f=e.y,p=(0,a.floatColor)(r.color),g=d-c,v=f-u,m=g*g+v*v,y=0,b=0;m&&(y=-v*(m=1/Math.sqrt(m))*h,b=g*m*h);var _=27*n,x=this.array;x[_++]=d,x[_++]=f,x[_++]=-y,x[_++]=-b,x[_++]=l,x[_++]=p,x[_++]=1,x[_++]=0,x[_++]=0,x[_++]=d,x[_++]=f,x[_++]=-y,x[_++]=-b,x[_++]=l,x[_++]=p,x[_++]=0,x[_++]=1,x[_++]=0,x[_++]=d,x[_++]=f,x[_++]=-y,x[_++]=-b,x[_++]=l,x[_++]=p,x[_++]=0,x[_++]=0,x[_]=1}},e.prototype.render=function(t){if(!this.hasNothingToRender()){var e=this.gl,r=this.program;e.useProgram(r),e.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),e.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(t.ratio)),e.uniform1f(this.correctionRatioLocation,t.correctionRatio),e.drawArrays(e.TRIANGLES,0,this.array.length/9)}},e}(r(195).AbstractEdgeProgram);e.default=l},483:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(195),s=r(928),h=o(r(620)),l=o(r(498)),c=function(t){function e(e){var r=t.call(this,e,h.default,l.default,4,6)||this,i=e.createBuffer();if(null===i)throw new Error("EdgeClampedProgram: error while getting resolutionLocation");r.indicesBuffer=i,r.positionLocation=e.getAttribLocation(r.program,"a_position"),r.colorLocation=e.getAttribLocation(r.program,"a_color"),r.normalLocation=e.getAttribLocation(r.program,"a_normal"),r.radiusLocation=e.getAttribLocation(r.program,"a_radius");var n=e.getUniformLocation(r.program,"u_matrix");if(null===n)throw new Error("EdgeClampedProgram: error while getting matrixLocation");r.matrixLocation=n;var o=e.getUniformLocation(r.program,"u_sqrtZoomRatio");if(null===o)throw new Error("EdgeClampedProgram: error while getting cameraRatioLocation");r.sqrtZoomRatioLocation=o;var a=e.getUniformLocation(r.program,"u_correctionRatio");if(null===a)throw new Error("EdgeClampedProgram: error while getting viewportRatioLocation");return r.correctionRatioLocation=a,r.canUse32BitsIndices=(0,s.canUse32BitsIndices)(e),r.IndicesArray=r.canUse32BitsIndices?Uint32Array:Uint16Array,r.indicesArray=new r.IndicesArray,r.indicesType=r.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,r.bind(),r}return n(e,t),e.prototype.bind=function(){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),t.enableVertexAttribArray(this.positionLocation),t.enableVertexAttribArray(this.normalLocation),t.enableVertexAttribArray(this.colorLocation),t.enableVertexAttribArray(this.radiusLocation),t.vertexAttribPointer(this.positionLocation,2,t.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.normalLocation,2,t.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(this.colorLocation,4,t.UNSIGNED_BYTE,!0,6*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(this.radiusLocation,1,t.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,20)},e.prototype.process=function(t,e,r,i,n){if(i)for(var o=24*n,a=o+24;o<a;o++)this.array[o]=0;else{var h=r.size||1,l=t.x,c=t.y,u=e.x,d=e.y,f=e.size||1,p=(0,s.floatColor)(r.color),g=u-l,v=d-c,m=g*g+v*v,y=0,b=0;m&&(y=-v*(m=1/Math.sqrt(m))*h,b=g*m*h);var _=24*n,x=this.array;x[_++]=l,x[_++]=c,x[_++]=y,x[_++]=b,x[_++]=p,x[_++]=0,x[_++]=l,x[_++]=c,x[_++]=-y,x[_++]=-b,x[_++]=p,x[_++]=0,x[_++]=u,x[_++]=d,x[_++]=y,x[_++]=b,x[_++]=p,x[_++]=f,x[_++]=u,x[_++]=d,x[_++]=-y,x[_++]=-b,x[_++]=p,x[_]=-f}},e.prototype.computeIndices=function(){for(var t=this.array.length/6,e=t+t/2,r=new this.IndicesArray(e),i=0,n=0;i<t;i+=4)r[n++]=i,r[n++]=i+1,r[n++]=i+2,r[n++]=i+2,r[n++]=i+1,r[n++]=i+3;this.indicesArray=r},e.prototype.bufferData=function(){t.prototype.bufferData.call(this);var e=this.gl;e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)},e.prototype.render=function(t){if(!this.hasNothingToRender()){var e=this.gl,r=this.program;e.useProgram(r),e.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),e.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(t.ratio)),e.uniform1f(this.correctionRatioLocation,t.correctionRatio),e.drawElements(e.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},e}(a.AbstractEdgeProgram);e.default=c},753:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(928),s=o(r(223)),h=o(r(498)),l=function(t){function e(e){var r=t.call(this,e,s.default,h.default,4,5)||this,i=e.createBuffer();if(null===i)throw new Error("EdgeProgram: error while creating indicesBuffer");r.indicesBuffer=i,r.positionLocation=e.getAttribLocation(r.program,"a_position"),r.colorLocation=e.getAttribLocation(r.program,"a_color"),r.normalLocation=e.getAttribLocation(r.program,"a_normal");var n=e.getUniformLocation(r.program,"u_matrix");if(null===n)throw new Error("EdgeProgram: error while getting matrixLocation");r.matrixLocation=n;var o=e.getUniformLocation(r.program,"u_correctionRatio");if(null===o)throw new Error("EdgeProgram: error while getting correctionRatioLocation");r.correctionRatioLocation=o;var l=e.getUniformLocation(r.program,"u_sqrtZoomRatio");if(null===l)throw new Error("EdgeProgram: error while getting sqrtZoomRatioLocation");return r.sqrtZoomRatioLocation=l,r.canUse32BitsIndices=(0,a.canUse32BitsIndices)(e),r.IndicesArray=r.canUse32BitsIndices?Uint32Array:Uint16Array,r.indicesArray=new r.IndicesArray,r.indicesType=r.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,r.bind(),r}return n(e,t),e.prototype.bind=function(){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),t.enableVertexAttribArray(this.positionLocation),t.enableVertexAttribArray(this.normalLocation),t.enableVertexAttribArray(this.colorLocation),t.vertexAttribPointer(this.positionLocation,2,t.FLOAT,!1,5*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.normalLocation,2,t.FLOAT,!1,5*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(this.colorLocation,4,t.UNSIGNED_BYTE,!0,5*Float32Array.BYTES_PER_ELEMENT,16)},e.prototype.computeIndices=function(){for(var t=this.array.length/5,e=t+t/2,r=new this.IndicesArray(e),i=0,n=0;i<t;i+=4)r[n++]=i,r[n++]=i+1,r[n++]=i+2,r[n++]=i+2,r[n++]=i+1,r[n++]=i+3;this.indicesArray=r},e.prototype.bufferData=function(){t.prototype.bufferData.call(this);var e=this.gl;e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)},e.prototype.process=function(t,e,r,i,n){if(i)for(var o=20*n,s=o+20;o<s;o++)this.array[o]=0;else{var h=r.size||1,l=t.x,c=t.y,u=e.x,d=e.y,f=(0,a.floatColor)(r.color),p=u-l,g=d-c,v=p*p+g*g,m=0,y=0;v&&(m=-g*(v=1/Math.sqrt(v))*h,y=p*v*h);var b=20*n,_=this.array;_[b++]=l,_[b++]=c,_[b++]=m,_[b++]=y,_[b++]=f,_[b++]=l,_[b++]=c,_[b++]=-m,_[b++]=-y,_[b++]=f,_[b++]=u,_[b++]=d,_[b++]=m,_[b++]=y,_[b++]=f,_[b++]=u,_[b++]=d,_[b++]=-m,_[b++]=-y,_[b]=f}},e.prototype.render=function(t){if(!this.hasNothingToRender()){var e=this.gl,r=this.program;e.useProgram(r),e.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),e.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(t.ratio)),e.uniform1f(this.correctionRatioLocation,t.correctionRatio),e.drawElements(e.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},e}(r(195).AbstractEdgeProgram);e.default=l},582:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(928),s=o(r(106)),h=o(r(262)),l=function(t){function e(e){var r=t.call(this,e,s.default,h.default,1,4)||this;return r.bind(),r}return n(e,t),e.prototype.process=function(t,e,r){var i=this.array,n=1*r*4;if(e)return i[n++]=0,i[n++]=0,i[n++]=0,void(i[n++]=0);var o=(0,a.floatColor)(t.color);i[n++]=t.x,i[n++]=t.y,i[n++]=t.size,i[n]=o},e.prototype.render=function(t){if(!this.hasNothingToRender()){var e=this.gl,r=this.program;e.useProgram(r),e.uniform1f(this.ratioLocation,1/Math.sqrt(t.ratio)),e.uniform1f(this.scaleLocation,t.scalingRatio),e.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),e.drawArrays(e.POINTS,0,this.array.length/4)}},e}(r(909).AbstractNodeProgram);e.default=l},706:(t,e)=>{"use strict";function r(t,e,r){var i="VERTEX"===t?e.VERTEX_SHADER:e.FRAGMENT_SHADER,n=e.createShader(i);if(null===n)throw new Error("loadShader: error while creating the shader");if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var o=e.getShaderInfoLog(n);throw e.deleteShader(n),new Error("loadShader: error while compiling the shader:\n".concat(o,"\n").concat(r))}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.loadProgram=e.loadFragmentShader=e.loadVertexShader=void 0,e.loadVertexShader=function(t,e){return r("VERTEX",t,e)},e.loadFragmentShader=function(t,e){return r("FRAGMENT",t,e)},e.loadProgram=function(t,e){var r,i,n=t.createProgram();if(null===n)throw new Error("loadProgram: error while creating the program.");for(r=0,i=e.length;r<i;r++)t.attachShader(n,e[r]);if(t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS))throw t.deleteProgram(n),new Error("loadProgram: error while linking the program.");return n}},310:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSettings=e.validateSettings=e.DEFAULT_EDGE_PROGRAM_CLASSES=e.DEFAULT_NODE_PROGRAM_CLASSES=e.DEFAULT_SETTINGS=void 0;var n=r(928),o=i(r(622)),a=i(r(61)),s=i(r(942)),h=i(r(582)),l=i(r(753)),c=i(r(569));e.DEFAULT_SETTINGS={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeClickEvents:!1,enableEdgeWheelEvents:!1,enableEdgeHoverEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,labelRenderer:o.default,hoverRenderer:a.default,edgeLabelRenderer:s.default,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},e.DEFAULT_NODE_PROGRAM_CLASSES={circle:h.default},e.DEFAULT_EDGE_PROGRAM_CLASSES={arrow:c.default,line:l.default},e.validateSettings=function(t){if("number"!=typeof t.labelDensity||t.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var e=t.minCameraRatio,r=t.maxCameraRatio;if("number"==typeof e&&"number"==typeof r&&r<e)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")},e.resolveSettings=function(t){var r=(0,n.assign)({},e.DEFAULT_SETTINGS,t);return r.nodeProgramClasses=(0,n.assign)({},e.DEFAULT_NODE_PROGRAM_CLASSES,r.nodeProgramClasses),r.edgeProgramClasses=(0,n.assign)({},e.DEFAULT_EDGE_PROGRAM_CLASSES,r.edgeProgramClasses),r}},159:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},o.apply(this,arguments)},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var h=s(r(796)),l=s(r(764)),c=s(r(269)),u=s(r(134)),d=r(699),f=r(928),p=r(730),g=r(310),v=s(r(508)),m=r(700),y=r(628);function b(t,e,r){if(!r.hasOwnProperty("x")||!r.hasOwnProperty("y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(e,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return r.color||(r.color=t.defaultNodeColor),r.label||""===r.label||(r.label=null),void 0!==r.label&&null!==r.label?r.label=""+r.label:r.label=null,r.size||(r.size=2),r.hasOwnProperty("hidden")||(r.hidden=!1),r.hasOwnProperty("highlighted")||(r.highlighted=!1),r.hasOwnProperty("forceLabel")||(r.forceLabel=!1),r.type&&""!==r.type||(r.type=t.defaultNodeType),r.zIndex||(r.zIndex=0),r}function _(t,e,r){return r.color||(r.color=t.defaultEdgeColor),r.label||(r.label=""),r.size||(r.size=.5),r.hasOwnProperty("hidden")||(r.hidden=!1),r.hasOwnProperty("forceLabel")||(r.forceLabel=!1),r.type&&""!==r.type||(r.type=t.defaultEdgeType),r.zIndex||(r.zIndex=0),r}var x=function(t){function e(e,r,i){void 0===i&&(i={});var n=t.call(this)||this;if(n.elements={},n.canvasContexts={},n.webGLContexts={},n.activeListeners={},n.quadtree=new u.default,n.labelGrid=new p.LabelGrid,n.nodeDataCache={},n.edgeDataCache={},n.nodesWithForcedLabels=[],n.edgesWithForcedLabels=[],n.nodeExtent={x:[0,1],y:[0,1]},n.matrix=(0,m.identity)(),n.invMatrix=(0,m.identity)(),n.correctionRatio=1,n.customBBox=null,n.normalizationFunction=(0,f.createNormalizationFunction)({x:[0,1],y:[0,1]}),n.cameraSizeRatio=1,n.width=0,n.height=0,n.pixelRatio=(0,f.getPixelRatio)(),n.displayedLabels=new Set,n.highlightedNodes=new Set,n.hoveredNode=null,n.hoveredEdge=null,n.renderFrame=null,n.renderHighlightedNodesFrame=null,n.needToProcess=!1,n.needToSoftProcess=!1,n.checkEdgesEventsFrame=null,n.nodePrograms={},n.nodeHoverPrograms={},n.edgePrograms={},n.settings=(0,g.resolveSettings)(i),(0,g.validateSettings)(n.settings),(0,f.validateGraph)(e),!(r instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");for(var o in n.graph=e,n.container=r,n.createWebGLContext("edges",{preserveDrawingBuffer:!0}),n.createCanvasContext("edgeLabels"),n.createWebGLContext("nodes"),n.createCanvasContext("labels"),n.createCanvasContext("hovers"),n.createWebGLContext("hoverNodes"),n.createCanvasContext("mouse"),n.webGLContexts){var a=n.webGLContexts[o];a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),a.enable(a.BLEND)}for(var s in n.settings.nodeProgramClasses){var h=n.settings.nodeProgramClasses[s];n.nodePrograms[s]=new h(n.webGLContexts.nodes,n);var d=h;s in n.settings.nodeHoverProgramClasses&&(d=n.settings.nodeHoverProgramClasses[s]),n.nodeHoverPrograms[s]=new d(n.webGLContexts.hoverNodes,n)}for(var s in n.settings.edgeProgramClasses){var y=n.settings.edgeProgramClasses[s];n.edgePrograms[s]=new y(n.webGLContexts.edges,n)}return n.resize(),n.camera=new l.default,n.bindCameraHandlers(),n.mouseCaptor=new c.default(n.elements.mouse,n),n.touchCaptor=new v.default(n.elements.mouse,n),n.bindEventHandlers(),n.bindGraphHandlers(),n.handleSettingsUpdate(),n.process(),n.render(),n}return n(e,t),e.prototype.createCanvas=function(t){var e=(0,f.createElement)("canvas",{position:"absolute"},{class:"sigma-".concat(t)});return this.elements[t]=e,this.container.appendChild(e),e},e.prototype.createCanvasContext=function(t){var e=this.createCanvas(t);return this.canvasContexts[t]=e.getContext("2d",{preserveDrawingBuffer:!1,antialias:!1}),this},e.prototype.createWebGLContext=function(t,e){var r,i=this.createCanvas(t),n=o({preserveDrawingBuffer:!1,antialias:!1},e||{});return(r=i.getContext("webgl2",n))||(r=i.getContext("webgl",n)),r||(r=i.getContext("experimental-webgl",n)),this.webGLContexts[t]=r,this},e.prototype.bindCameraHandlers=function(){var t=this;return this.activeListeners.camera=function(){t._scheduleRefresh()},this.camera.on("updated",this.activeListeners.camera),this},e.prototype.mouseIsOnNode=function(t,e,r){var i=t.x,n=t.y,o=e.x,a=e.y;return i>o-r&&i<o+r&&n>a-r&&n<a+r&&Math.sqrt(Math.pow(i-o,2)+Math.pow(n-a,2))<r},e.prototype.getQuadNodes=function(t){var e=this.viewportToFramedGraph(t);return this.quadtree.point(e.x,1-e.y)},e.prototype.getNodeAtPosition=function(t){for(var e=t.x,r=t.y,i=this.getQuadNodes(t),n=1/0,o=null,a=0,s=i.length;a<s;a++){var h=i[a],l=this.nodeDataCache[h],c=this.framedGraphToViewport(l),u=this.scaleSize(l.size);if(!l.hidden&&this.mouseIsOnNode(t,c,u)){var d=Math.sqrt(Math.pow(e-c.x,2)+Math.pow(r-c.y,2));d<n&&(n=d,o=h)}}return o},e.prototype.bindEventHandlers=function(){var t=this;this.activeListeners.handleResize=function(){t.needToSoftProcess=!0,t._scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(e){var r={event:e,preventSigmaDefault:function(){e.preventSigmaDefault()}},i=t.getNodeAtPosition(e);if(i&&t.hoveredNode!==i&&!t.nodeDataCache[i].hidden)return t.hoveredNode&&t.emit("leaveNode",o(o({},r),{node:t.hoveredNode})),t.hoveredNode=i,t.emit("enterNode",o(o({},r),{node:i})),void t.scheduleHighlightedNodesRender();if(t.hoveredNode){var n=t.nodeDataCache[t.hoveredNode],a=t.framedGraphToViewport(n),s=t.scaleSize(n.size);if(!t.mouseIsOnNode(e,a,s)){var h=t.hoveredNode;return t.hoveredNode=null,t.emit("leaveNode",o(o({},r),{node:h})),void t.scheduleHighlightedNodesRender()}}!0===t.settings.enableEdgeHoverEvents?t.checkEdgeHoverEvents(r):"debounce"===t.settings.enableEdgeHoverEvents&&(t.checkEdgesEventsFrame||(t.checkEdgesEventsFrame=(0,f.requestFrame)((function(){t.checkEdgeHoverEvents(r),t.checkEdgesEventsFrame=null}))))};var e=function(e){return function(r){var i={event:r,preventSigmaDefault:function(){r.preventSigmaDefault()}},n=r.original.isFakeSigmaMouseEvent?t.getNodeAtPosition(r):t.hoveredNode;if(n)return t.emit("".concat(e,"Node"),o(o({},i),{node:n}));if("wheel"===e?t.settings.enableEdgeWheelEvents:t.settings.enableEdgeClickEvents){var a=t.getEdgeAtPoint(r.x,r.y);if(a)return t.emit("".concat(e,"Edge"),o(o({},i),{edge:a}))}return t.emit("".concat(e,"Stage"),i)}};return this.activeListeners.handleClick=e("click"),this.activeListeners.handleRightClick=e("rightClick"),this.activeListeners.handleDoubleClick=e("doubleClick"),this.activeListeners.handleWheel=e("wheel"),this.activeListeners.handleDown=e("down"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this},e.prototype.bindGraphHandlers=function(){var t=this,e=this.graph;return this.activeListeners.graphUpdate=function(){t.needToProcess=!0,t._scheduleRefresh()},this.activeListeners.softGraphUpdate=function(){t.needToSoftProcess=!0,t._scheduleRefresh()},this.activeListeners.dropNodeGraphUpdate=function(e){delete t.nodeDataCache[e.key],t.hoveredNode===e.key&&(t.hoveredNode=null),t.activeListeners.graphUpdate()},this.activeListeners.dropEdgeGraphUpdate=function(e){delete t.edgeDataCache[e.key],t.hoveredEdge===e.key&&(t.hoveredEdge=null),t.activeListeners.graphUpdate()},this.activeListeners.clearEdgesGraphUpdate=function(){t.edgeDataCache={},t.hoveredEdge=null,t.activeListeners.graphUpdate()},this.activeListeners.clearGraphUpdate=function(){t.nodeDataCache={},t.hoveredNode=null,t.activeListeners.clearEdgesGraphUpdate()},e.on("nodeAdded",this.activeListeners.graphUpdate),e.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),e.on("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),e.on("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),e.on("edgeAdded",this.activeListeners.graphUpdate),e.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),e.on("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),e.on("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),e.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),e.on("cleared",this.activeListeners.clearGraphUpdate),this},e.prototype.unbindGraphHandlers=function(){var t=this.graph;t.removeListener("nodeAdded",this.activeListeners.graphUpdate),t.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),t.removeListener("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),t.removeListener("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),t.removeListener("edgeAdded",this.activeListeners.graphUpdate),t.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),t.removeListener("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),t.removeListener("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),t.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),t.removeListener("cleared",this.activeListeners.clearGraphUpdate)},e.prototype.checkEdgeHoverEvents=function(t){var e=this.hoveredNode?null:this.getEdgeAtPoint(t.event.x,t.event.y);return e!==this.hoveredEdge&&(this.hoveredEdge&&this.emit("leaveEdge",o(o({},t),{edge:this.hoveredEdge})),e&&this.emit("enterEdge",o(o({},t),{edge:e})),this.hoveredEdge=e),this},e.prototype.getEdgeAtPoint=function(t,e){var r,i,n=this,o=this.edgeDataCache,s=this.nodeDataCache;if(!(0,y.isPixelColored)(this.webGLContexts.edges,t*this.pixelRatio,e*this.pixelRatio))return null;var h=this.viewportToGraph({x:t,y:e}),l=h.x,c=h.y,u=0;if(this.graph.someEdge((function(t,e,r,i,a,h){var l=a.x,c=a.y,d=h.x,f=h.y;if(o[t].hidden||s[r].hidden||s[i].hidden)return!1;if(l!==d||c!==f){var p=Math.sqrt(Math.pow(d-l,2)+Math.pow(f-c,2)),g=n.graphToViewport({x:l,y:c}),v=g.x,m=g.y,y=n.graphToViewport({x:d,y:f}),b=y.x,_=y.y,x=Math.sqrt(Math.pow(b-v,2)+Math.pow(_-m,2));return u=p/x,!0}})),!u)return null;var d=this.graph.filterEdges((function(t,e,r,i,a,h){return!(o[t].hidden||s[r].hidden||s[i].hidden)&&(!!(0,y.doEdgeCollideWithPoint)(l,c,a.x,a.y,h.x,h.y,o[t].size*u/n.cameraSizeRatio)||void 0)}));if(0===d.length)return null;var f=d[d.length-1],p=-1/0;try{for(var g=a(d),v=g.next();!v.done;v=g.next()){var m=v.value,b=this.graph.getEdgeAttribute(m,"zIndex");b>=p&&(f=m,p=b)}}catch(t){r={error:t}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}return f},e.prototype.process=function(t){var e=this;void 0===t&&(t=!1);var r=this.graph,i=this.settings,n=this.getDimensions(),o=[1/0,-1/0],a=[1/0,-1/0];this.quadtree.clear(),this.labelGrid.resizeAndClear(n,i.labelGridCellSize),this.highlightedNodes=new Set,this.nodeExtent=(0,f.graphExtent)(r),this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[];var s=new l.default,h=(0,f.matrixFromCamera)(s.getState(),this.getDimensions(),this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.normalizationFunction=(0,f.createNormalizationFunction)(this.customBBox||this.nodeExtent);for(var c={},u=r.nodes(),d=0,p=u.length;d<p;d++){var g=u[d],v=Object.assign({},r.getNodeAttributes(g));i.nodeReducer&&(v=i.nodeReducer(g,v)),c[(y=b(this.settings,g,v)).type]=(c[y.type]||0)+1,this.nodeDataCache[g]=y,this.normalizationFunction.applyTo(y),y.forceLabel&&this.nodesWithForcedLabels.push(g),this.settings.zIndex&&(y.zIndex<o[0]&&(o[0]=y.zIndex),y.zIndex>o[1]&&(o[1]=y.zIndex))}for(var m in this.nodePrograms){if(!this.nodePrograms.hasOwnProperty(m))throw new Error('Sigma: could not find a suitable program for node type "'.concat(m,'"!'));t||this.nodePrograms[m].allocate(c[m]||0),c[m]=0}for(this.settings.zIndex&&o[0]!==o[1]&&(u=(0,f.zIndexOrdering)(o,(function(t){return e.nodeDataCache[t].zIndex}),u)),d=0,p=u.length;d<p;d++){g=u[d];var y=this.nodeDataCache[g];this.quadtree.add(g,y.x,1-y.y,y.size/this.width),"string"!=typeof y.label||y.hidden||this.labelGrid.add(g,y.size,this.framedGraphToViewport(y,{matrix:h}));var x=this.nodePrograms[y.type];if(!x)throw new Error('Sigma: could not find a suitable program for node type "'.concat(y.type,'"!'));x.process(y,y.hidden,c[y.type]++),y.highlighted&&!y.hidden&&this.highlightedNodes.add(g)}this.labelGrid.organize();var w={},E=r.edges();for(d=0,p=E.length;d<p;d++){var L=E[d];v=Object.assign({},r.getEdgeAttributes(L)),i.edgeReducer&&(v=i.edgeReducer(L,v)),w[(y=_(this.settings,0,v)).type]=(w[y.type]||0)+1,this.edgeDataCache[L]=y,y.forceLabel&&!y.hidden&&this.edgesWithForcedLabels.push(L),this.settings.zIndex&&(y.zIndex<a[0]&&(a[0]=y.zIndex),y.zIndex>a[1]&&(a[1]=y.zIndex))}for(var m in this.edgePrograms){if(!this.edgePrograms.hasOwnProperty(m))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(m,'"!'));t||this.edgePrograms[m].allocate(w[m]||0),w[m]=0}for(this.settings.zIndex&&a[0]!==a[1]&&(E=(0,f.zIndexOrdering)(a,(function(t){return e.edgeDataCache[t].zIndex}),E)),d=0,p=E.length;d<p;d++){L=E[d],y=this.edgeDataCache[L];var F=r.extremities(L),C=this.nodeDataCache[F[0]],A=this.nodeDataCache[F[1]],T=y.hidden||C.hidden||A.hidden;this.edgePrograms[y.type].process(C,A,y,T,w[y.type]++)}for(var m in this.edgePrograms){var P=this.edgePrograms[m];t||"function"!=typeof P.computeIndices||P.computeIndices()}return this},e.prototype.handleSettingsUpdate=function(){return this.camera.minRatio=this.settings.minCameraRatio,this.camera.maxRatio=this.settings.maxCameraRatio,this.camera.setState(this.camera.validateState(this.camera.getState())),this},e.prototype._refresh=function(){return this.needToProcess?this.process():this.needToSoftProcess&&this.process(!0),this.needToProcess=!1,this.needToSoftProcess=!1,this.render(),this},e.prototype._scheduleRefresh=function(){var t=this;return this.renderFrame||(this.renderFrame=(0,f.requestFrame)((function(){t._refresh(),t.renderFrame=null}))),this},e.prototype.renderLabels=function(){if(!this.settings.renderLabels)return this;var t=this.camera.getState(),e=this.labelGrid.getLabelsToDisplay(t.ratio,this.settings.labelDensity);(0,h.default)(e,this.nodesWithForcedLabels),this.displayedLabels=new Set;for(var r=this.canvasContexts.labels,i=0,n=e.length;i<n;i++){var a=e[i],s=this.nodeDataCache[a];if(!this.displayedLabels.has(a)&&!s.hidden){var l=this.framedGraphToViewport(s),c=l.x,u=l.y,d=this.scaleSize(s.size);!s.forceLabel&&d<this.settings.labelRenderedSizeThreshold||c<-150||c>this.width+150||u<-50||u>this.height+50||(this.displayedLabels.add(a),this.settings.labelRenderer(r,o(o({key:a},s),{size:d,x:c,y:u}),this.settings))}}return this},e.prototype.renderEdgeLabels=function(){if(!this.settings.renderEdgeLabels)return this;var t=this.canvasContexts.edgeLabels;t.clearRect(0,0,this.width,this.height);for(var e=(0,p.edgeLabelsToDisplayFromNodes)({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedLabels,highlightedNodes:this.highlightedNodes}).concat(this.edgesWithForcedLabels),r=new Set,i=0,n=e.length;i<n;i++){var a=e[i],s=this.graph.extremities(a),h=this.nodeDataCache[s[0]],l=this.nodeDataCache[s[1]],c=this.edgeDataCache[a];r.has(a)||c.hidden||h.hidden||l.hidden||(this.settings.edgeLabelRenderer(t,o(o({key:a},c),{size:this.scaleSize(c.size)}),o(o(o({key:s[0]},h),this.framedGraphToViewport(h)),{size:this.scaleSize(h.size)}),o(o(o({key:s[1]},l),this.framedGraphToViewport(l)),{size:this.scaleSize(l.size)}),this.settings),r.add(a))}return this},e.prototype.renderHighlightedNodes=function(){var t=this,e=this.canvasContexts.hovers;e.clearRect(0,0,this.width,this.height);var r=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&r.push(this.hoveredNode),this.highlightedNodes.forEach((function(e){e!==t.hoveredNode&&r.push(e)})),r.forEach((function(r){return function(r){var i=t.nodeDataCache[r],n=t.framedGraphToViewport(i),a=n.x,s=n.y,h=t.scaleSize(i.size);t.settings.hoverRenderer(e,o(o({key:r},i),{size:h,x:a,y:s}),t.settings)}(r)}));var i={};for(var n in r.forEach((function(e){var r=t.nodeDataCache[e].type;i[r]=(i[r]||0)+1})),this.nodeHoverPrograms)this.nodeHoverPrograms[n].allocate(i[n]||0),i[n]=0;for(var n in r.forEach((function(e){var r=t.nodeDataCache[e];t.nodeHoverPrograms[r.type].process(r,r.hidden,i[r.type]++)})),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.nodeHoverPrograms){var a=this.nodeHoverPrograms[n];a.bind(),a.bufferData(),a.render({matrix:this.matrix,width:this.width,height:this.height,ratio:this.camera.ratio,correctionRatio:this.correctionRatio/this.camera.ratio,scalingRatio:this.pixelRatio})}},e.prototype.scheduleHighlightedNodesRender=function(){var t=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=(0,f.requestFrame)((function(){t.renderHighlightedNodesFrame=null,t.renderHighlightedNodes(),t.renderEdgeLabels()})))},e.prototype.render=function(){var t=this;this.emit("beforeRender");var e=function(){return t.emit("afterRender"),t};if(this.renderFrame&&((0,f.cancelFrame)(this.renderFrame),this.renderFrame=null,this.needToProcess=!1,this.needToSoftProcess=!1),this.resize(),this.clear(),this.updateCachedValues(),!this.graph.order)return e();var r=this.mouseCaptor,i=this.camera.isAnimated()||r.isMoving||r.draggedEvents||r.currentWheelDirection,n=this.camera.getState(),o=this.getDimensions(),a=this.getGraphDimensions(),s=this.getSetting("stagePadding")||0;for(var h in this.matrix=(0,f.matrixFromCamera)(n,o,a,s),this.invMatrix=(0,f.matrixFromCamera)(n,o,a,s,!0),this.correctionRatio=(0,f.getMatrixImpact)(this.matrix,n,o),this.nodePrograms)(l=this.nodePrograms[h]).bind(),l.bufferData(),l.render({matrix:this.matrix,width:this.width,height:this.height,ratio:n.ratio,correctionRatio:this.correctionRatio/n.ratio,scalingRatio:this.pixelRatio});if(!this.settings.hideEdgesOnMove||!i)for(var h in this.edgePrograms){var l;(l=this.edgePrograms[h]).bind(),l.bufferData(),l.render({matrix:this.matrix,width:this.width,height:this.height,ratio:n.ratio,correctionRatio:this.correctionRatio/n.ratio,scalingRatio:this.pixelRatio})}return this.settings.hideLabelsOnMove&&i||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),e()},e.prototype.updateCachedValues=function(){var t=this.camera.getState().ratio;this.cameraSizeRatio=Math.sqrt(t)},e.prototype.getCamera=function(){return this.camera},e.prototype.getContainer=function(){return this.container},e.prototype.getGraph=function(){return this.graph},e.prototype.setGraph=function(t){t!==this.graph&&(this.unbindGraphHandlers(),this.nodeDataCache={},this.edgeDataCache={},this.displayedLabels.clear(),this.highlightedNodes.clear(),this.hoveredNode=null,this.hoveredEdge=null,this.nodesWithForcedLabels.length=0,this.edgesWithForcedLabels.length=0,null!==this.checkEdgesEventsFrame&&((0,f.cancelFrame)(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=t,this.bindGraphHandlers(),this.process(),this.render())},e.prototype.getMouseCaptor=function(){return this.mouseCaptor},e.prototype.getTouchCaptor=function(){return this.touchCaptor},e.prototype.getDimensions=function(){return{width:this.width,height:this.height}},e.prototype.getGraphDimensions=function(){var t=this.customBBox||this.nodeExtent;return{width:t.x[1]-t.x[0]||1,height:t.y[1]-t.y[0]||1}},e.prototype.getNodeDisplayData=function(t){var e=this.nodeDataCache[t];return e?Object.assign({},e):void 0},e.prototype.getEdgeDisplayData=function(t){var e=this.edgeDataCache[t];return e?Object.assign({},e):void 0},e.prototype.getSettings=function(){return o({},this.settings)},e.prototype.getSetting=function(t){return this.settings[t]},e.prototype.setSetting=function(t,e){return this.settings[t]=e,(0,g.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},e.prototype.updateSetting=function(t,e){return this.settings[t]=e(this.settings[t]),(0,g.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},e.prototype.resize=function(){var t=this.width,e=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=(0,f.getPixelRatio)(),0===this.width){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");this.width=1}if(0===this.height){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");this.height=1}if(t===this.width&&e===this.height)return this;for(var r in this.emit("resize"),this.elements){var i=this.elements[r];i.style.width=this.width+"px",i.style.height=this.height+"px"}for(var r in this.canvasContexts)this.elements[r].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[r].setAttribute("height",this.height*this.pixelRatio+"px"),1!==this.pixelRatio&&this.canvasContexts[r].scale(this.pixelRatio,this.pixelRatio);for(var r in this.webGLContexts)this.elements[r].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[r].setAttribute("height",this.height*this.pixelRatio+"px"),this.webGLContexts[r].viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);return this},e.prototype.clear=function(){return this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT),this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this},e.prototype.refresh=function(){return this.needToProcess=!0,this._refresh(),this},e.prototype.scheduleRefresh=function(){return this.needToProcess=!0,this._scheduleRefresh(),this},e.prototype.getViewportZoomedState=function(t,e){var r=this.camera.getState(),i=r.ratio,n=r.angle,o=r.x,a=r.y,s=e/i,h={x:this.width/2,y:this.height/2},l=this.viewportToFramedGraph(t),c=this.viewportToFramedGraph(h);return{angle:n,x:(l.x-c.x)*(1-s)+o,y:(l.y-c.y)*(1-s)+a,ratio:e}},e.prototype.viewRectangle=function(){var t=0*this.width/8,e=0*this.height/8,r=this.viewportToFramedGraph({x:0-t,y:0-e}),i=this.viewportToFramedGraph({x:this.width+t,y:0-e}),n=this.viewportToFramedGraph({x:0,y:this.height+e});return{x1:r.x,y1:r.y,x2:i.x,y2:i.y,height:i.y-n.y}},e.prototype.framedGraphToViewport=function(t,e){void 0===e&&(e={});var r=!!e.cameraState||!!e.viewportDimensions||!!e.graphDimensions,i=e.matrix?e.matrix:r?(0,f.matrixFromCamera)(e.cameraState||this.camera.getState(),e.viewportDimensions||this.getDimensions(),e.graphDimensions||this.getGraphDimensions(),e.padding||this.getSetting("stagePadding")||0):this.matrix,n=(0,m.multiplyVec2)(i,t);return{x:(1+n.x)*this.width/2,y:(1-n.y)*this.height/2}},e.prototype.viewportToFramedGraph=function(t,e){void 0===e&&(e={});var r=!!e.cameraState||!!e.viewportDimensions||!e.graphDimensions,i=e.matrix?e.matrix:r?(0,f.matrixFromCamera)(e.cameraState||this.camera.getState(),e.viewportDimensions||this.getDimensions(),e.graphDimensions||this.getGraphDimensions(),e.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,n=(0,m.multiplyVec2)(i,{x:t.x/this.width*2-1,y:1-t.y/this.height*2});return isNaN(n.x)&&(n.x=0),isNaN(n.y)&&(n.y=0),n},e.prototype.viewportToGraph=function(t,e){return void 0===e&&(e={}),this.normalizationFunction.inverse(this.viewportToFramedGraph(t,e))},e.prototype.graphToViewport=function(t,e){return void 0===e&&(e={}),this.framedGraphToViewport(this.normalizationFunction(t),e)},e.prototype.getBBox=function(){return(0,f.graphExtent)(this.graph)},e.prototype.getCustomBBox=function(){return this.customBBox},e.prototype.setCustomBBox=function(t){return this.customBBox=t,this._scheduleRefresh(),this},e.prototype.kill=function(){this.emit("kill"),this.removeAllListeners(),this.camera.removeListener("updated",this.activeListeners.camera),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.quadtree=new u.default,this.nodeDataCache={},this.edgeDataCache={},this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[],this.highlightedNodes.clear(),this.renderFrame&&((0,f.cancelFrame)(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&((0,f.cancelFrame)(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var t=this.container;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.scaleSize=function(t){return t/this.cameraSizeRatio},e.prototype.getCanvases=function(){return o({},this.elements)},e}(d.TypedEventEmitter);e.default=x},699:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var o=function(t){function e(){var e=t.call(this)||this;return e.rawEmitter=e,e}return n(e,t),e}(r(187).EventEmitter);e.TypedEventEmitter=o},751:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.animateNodes=e.ANIMATE_DEFAULTS=void 0;var n=r(928),o=i(r(358));e.ANIMATE_DEFAULTS={easing:"quadraticInOut",duration:150},e.animateNodes=function(t,r,i,a){var s=Object.assign({},e.ANIMATE_DEFAULTS,i),h="function"==typeof s.easing?s.easing:o.default[s.easing],l=Date.now(),c={};for(var u in r){var d=r[u];for(var f in c[u]={},d)c[u][f]=t.getNodeAttribute(u,f)}var p=null,g=function(){p=null;var e=(Date.now()-l)/s.duration;if(e>=1){for(var i in r){var o=r[i];for(var u in o)t.setNodeAttribute(i,u,o[u])}"function"==typeof a&&a()}else{for(var i in e=h(e),r){o=r[i];var d=c[i];for(var u in o)t.setNodeAttribute(i,u,o[u]*e+d[u]*(1-e))}p=(0,n.requestFrame)(g)}};return g(),function(){p&&(0,n.cancelFrame)(p)}}},634:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HTML_COLORS=void 0,e.HTML_COLORS={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"}},358:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cubicInOut=e.cubicOut=e.cubicIn=e.quadraticInOut=e.quadraticOut=e.quadraticIn=e.linear=void 0,e.linear=function(t){return t},e.quadraticIn=function(t){return t*t},e.quadraticOut=function(t){return t*(2-t)},e.quadraticInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},e.cubicIn=function(t){return t*t*t},e.cubicOut=function(t){return--t*t*t+1},e.cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};var r={linear:e.linear,quadraticIn:e.quadraticIn,quadraticOut:e.quadraticOut,quadraticInOut:e.quadraticInOut,cubicIn:e.cubicIn,cubicOut:e.cubicOut,cubicInOut:e.cubicInOut};e.default=r},628:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.doEdgeCollideWithPoint=e.isPixelColored=void 0,e.isPixelColored=function(t,e,r){var i=new Uint8Array(4);return t.readPixels(e,t.drawingBufferHeight-r,1,1,t.RGBA,t.UNSIGNED_BYTE,i),i[3]>0},e.doEdgeCollideWithPoint=function(t,e,r,i,n,o,a){return!(t<r-a&&t<n-a||e<i-a&&e<o-a||t>r+a&&t>n+a||e>i+a&&e>o+a||!(Math.abs((n-r)*(i-e)-(r-t)*(o-i))/Math.sqrt(Math.pow(n-r,2)+Math.pow(o-i,2))<a/2))}},928:function(t,e,r){"use strict";var i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.validateGraph=e.canUse32BitsIndices=e.extractPixel=e.getMatrixImpact=e.matrixFromCamera=e.getCorrectionRatio=e.floatColor=e.floatArrayColor=e.parseColor=e.zIndexOrdering=e.createNormalizationFunction=e.graphExtent=e.getPixelRatio=e.createElement=e.cancelFrame=e.requestFrame=e.assignDeep=e.assign=e.isPlainObject=void 0;var o=n(r(186)),a=r(700),s=r(634);function h(t){return"object"==typeof t&&null!==t&&t.constructor===Object}e.isPlainObject=h,e.assign=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t=t||{};for(var i=0,n=e.length;i<n;i++){var o=e[i];o&&Object.assign(t,o)}return t},e.assignDeep=function t(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e=e||{};for(var n=0,o=r.length;n<o;n++){var a=r[n];if(a)for(var s in a)h(a[s])?e[s]=t(e[s],a[s]):e[s]=a[s]}return e},e.requestFrame="undefined"!=typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,0)},e.cancelFrame="undefined"!=typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:function(t){return clearTimeout(t)},e.createElement=function(t,e,r){var i=document.createElement(t);if(e)for(var n in e)i.style[n]=e[n];if(r)for(var n in r)i.setAttribute(n,r[n]);return i},e.getPixelRatio=function(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1},e.graphExtent=function(t){if(!t.order)return{x:[0,1],y:[0,1]};var e=1/0,r=-1/0,i=1/0,n=-1/0;return t.forEachNode((function(t,o){var a=o.x,s=o.y;a<e&&(e=a),a>r&&(r=a),s<i&&(i=s),s>n&&(n=s)})),{x:[e,r],y:[i,n]}},e.createNormalizationFunction=function(t){var e=i(t.x,2),r=e[0],n=e[1],o=i(t.y,2),a=o[0],s=o[1],h=Math.max(n-r,s-a),l=(n+r)/2,c=(s+a)/2;(0===h||Math.abs(h)===1/0||isNaN(h))&&(h=1),isNaN(l)&&(l=0),isNaN(c)&&(c=0);var u=function(t){return{x:.5+(t.x-l)/h,y:.5+(t.y-c)/h}};return u.applyTo=function(t){t.x=.5+(t.x-l)/h,t.y=.5+(t.y-c)/h},u.inverse=function(t){return{x:l+h*(t.x-.5),y:c+h*(t.y-.5)}},u.ratio=h,u},e.zIndexOrdering=function(t,e,r){return r.sort((function(t,r){var i=e(t)||0,n=e(r)||0;return i<n?-1:i>n?1:0}))};var l=new Int8Array(4),c=new Int32Array(l.buffer,0,1),u=new Float32Array(l.buffer,0,1),d=/^\s*rgba?\s*\(/,f=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function p(t){var e=0,r=0,i=0,n=1;if("#"===t[0])4===t.length?(e=parseInt(t.charAt(1)+t.charAt(1),16),r=parseInt(t.charAt(2)+t.charAt(2),16),i=parseInt(t.charAt(3)+t.charAt(3),16)):(e=parseInt(t.charAt(1)+t.charAt(2),16),r=parseInt(t.charAt(3)+t.charAt(4),16),i=parseInt(t.charAt(5)+t.charAt(6),16)),9===t.length&&(n=parseInt(t.charAt(7)+t.charAt(8),16)/255);else if(d.test(t)){var o=t.match(f);o&&(e=+o[1],r=+o[2],i=+o[3],o[4]&&(n=+o[4]))}return{r:e,g:r,b:i,a:n}}e.parseColor=p;var g={};for(var v in s.HTML_COLORS)g[v]=m(s.HTML_COLORS[v]),g[s.HTML_COLORS[v]]=g[v];function m(t){if(void 0!==g[t])return g[t];var e=p(t),r=e.r,i=e.g,n=e.b,o=e.a;o=255*o|0,c[0]=4278190079&(o<<24|n<<16|i<<8|r);var a=u[0];return g[t]=a,a}function y(t,e){var r=t.height/t.width,i=e.height/e.width;return r<1&&i>1||r>1&&i<1?1:Math.min(Math.max(i,1/i),Math.max(1/r,r))}e.floatArrayColor=function(t){var e=p(t=s.HTML_COLORS[t]||t),r=e.r,i=e.g,n=e.b,o=e.a;return new Float32Array([r/255,i/255,n/255,o])},e.floatColor=m,e.getCorrectionRatio=y,e.matrixFromCamera=function(t,e,r,i,n){var o=t.angle,s=t.ratio,h=t.x,l=t.y,c=e.width,u=e.height,d=(0,a.identity)(),f=Math.min(c,u)-2*i,p=y(e,r);return n?((0,a.multiply)(d,(0,a.translate)((0,a.identity)(),h,l)),(0,a.multiply)(d,(0,a.scale)((0,a.identity)(),s)),(0,a.multiply)(d,(0,a.rotate)((0,a.identity)(),o)),(0,a.multiply)(d,(0,a.scale)((0,a.identity)(),c/f/2/p,u/f/2/p))):((0,a.multiply)(d,(0,a.scale)((0,a.identity)(),f/c*2*p,f/u*2*p)),(0,a.multiply)(d,(0,a.rotate)((0,a.identity)(),-o)),(0,a.multiply)(d,(0,a.scale)((0,a.identity)(),1/s)),(0,a.multiply)(d,(0,a.translate)((0,a.identity)(),-h,-l))),d},e.getMatrixImpact=function(t,e,r){var i=(0,a.multiplyVec2)(t,{x:Math.cos(e.angle),y:Math.sin(e.angle)},0),n=i.x,o=i.y;return 1/Math.sqrt(Math.pow(n,2)+Math.pow(o,2))/r.width},e.extractPixel=function(t,e,r,i){var n=i||new Uint8Array(4);return t.readPixels(e,r,1,1,t.RGBA,t.UNSIGNED_BYTE,n),n},e.canUse32BitsIndices=function(t){return"undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||!!t.getExtension("OES_element_index_uint")},e.validateGraph=function(t){if(!(0,o.default)(t))throw new Error("Sigma: invalid graph instance.");t.forEachNode((function(t,e){if(!Number.isFinite(e.x)||!Number.isFinite(e.y))throw new Error("Sigma: Coordinates of node ".concat(t," are invalid. A node must have a numeric 'x' and 'y' attribute."))}))}},700:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiplyVec2=e.multiply=e.translate=e.rotate=e.scale=e.identity=void 0,e.identity=function(){return Float32Array.of(1,0,0,0,1,0,0,0,1)},e.scale=function(t,e,r){return t[0]=e,t[4]="number"==typeof r?r:e,t},e.rotate=function(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=r,t[3]=-r,t[4]=i,t},e.translate=function(t,e,r){return t[6]=e,t[7]=r,t},e.multiply=function(t,e){var r=t[0],i=t[1],n=t[2],o=t[3],a=t[4],s=t[5],h=t[6],l=t[7],c=t[8],u=e[0],d=e[1],f=e[2],p=e[3],g=e[4],v=e[5],m=e[6],y=e[7],b=e[8];return t[0]=u*r+d*o+f*h,t[1]=u*i+d*a+f*l,t[2]=u*n+d*s+f*c,t[3]=p*r+g*o+v*h,t[4]=p*i+g*a+v*l,t[5]=p*n+g*s+v*c,t[6]=m*r+y*o+b*h,t[7]=m*i+y*a+b*l,t[8]=m*n+y*s+b*c,t},e.multiplyVec2=function(t,e,r){void 0===r&&(r=1);var i=t[0],n=t[1],o=t[3],a=t[4],s=t[6],h=t[7],l=e.x,c=e.y;return{x:l*i+c*o+s*r,y:l*n+c*a+h*r}}}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,r),o.exports}r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i=r(265);Sigma=i})();
//# <-- sigma.js